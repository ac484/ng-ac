# åˆç´„åŠŸèƒ½å®Œæ•´å¯¦ç¾è¨ˆç•« v2.0 - å®Œç¾é‡ç¾ NextJS å°ˆæ¡ˆ

## ğŸ“‹ å¯¦ç¾æ¦‚è¿°

åŸºæ–¼ `docs/12.construct.md` çš„è¦åŠƒå’Œ NextJS å°ˆæ¡ˆæ·±åº¦åˆ†æï¼Œæœ¬è¨ˆç•«å°‡å¯¦ç¾å®Œæ•´çš„å°ˆæ¡ˆèˆ‡åˆç´„ç®¡ç†ç³»çµ±ï¼ŒåŒ…å«å°ˆæ¡ˆç®¡ç†ã€ä»»å‹™ç®¡ç†ã€åˆç´„ç®¡ç†ã€AI åŠŸèƒ½ç­‰æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå®Œç¾é‡ç¾ NextJS å°ˆæ¡ˆçš„æ‰€æœ‰ç‰¹æ€§ï¼Œä¸¦ä½¿ç”¨ Angular 20 + Material 20 çš„ç¾ä»£åŒ–å¯¦ç¾æ–¹æ¡ˆã€‚

## ğŸ¯ å¯¦ç¾ç›®æ¨™

### æ ¸å¿ƒåŠŸèƒ½
#### å°ˆæ¡ˆç®¡ç†ç³»çµ±
- ğŸ”„ å°ˆæ¡ˆå„€è¡¨æ¿ï¼ˆDashboardï¼‰
- ğŸ”„ å°ˆæ¡ˆåˆ—è¡¨èˆ‡ç®¡ç†
- ğŸ”„ å°ˆæ¡ˆè©³æƒ…èˆ‡ä»»å‹™æ¨¹
- ğŸ”„ ä»»å‹™ç‹€æ…‹ç®¡ç†
- ğŸ”„ åƒ¹å€¼åˆ†é…èˆ‡é€²åº¦è¿½è¹¤

#### åˆç´„ç®¡ç†ç³»çµ±
- âœ… åˆç´„æŸ¥çœ‹ï¼ˆå·²å¯¦ç¾ï¼‰
- ğŸ”„ åˆç´„æ–°å¢/ç·¨è¼¯
- ğŸ”„ CSV åŒ¯å‡ºåŠŸèƒ½
- ğŸ”„ ä»˜æ¬¾ç®¡ç† CRUD
- ğŸ”„ è®Šæ›´å–®ç®¡ç† CRUD
- ğŸ”„ åˆç´„ç‹€æ…‹å·¥ä½œæµ
- ğŸ”„ å¤šæ¨™ç±¤é è©³æƒ…å±•ç¤º
- ğŸ”„ ä»˜æ¬¾é€²åº¦è¿½è¹¤
- ğŸ”„ è®Šæ›´å–®å½±éŸ¿åˆ†æ
- ğŸ”„ ç‰ˆæœ¬æ­·å²æ™‚é–“è»¸

#### AI åŠŸèƒ½ç³»çµ±
- ğŸ”„ AI åˆç´„æ‘˜è¦æœå‹™
- ğŸ”„ AI å­ä»»å‹™å»ºè­°
- ğŸ”„ æ–‡ä»¶è™•ç†èˆ‡åˆ†æ

#### æ¬Šé™æ§åˆ¶ç³»çµ±
- ğŸ”„ ç”¨æˆ¶èªè­‰èˆ‡æˆæ¬Š
- ğŸ”„ è§’è‰²åŸºç¤æ¬Šé™æ§åˆ¶

### æŠ€è¡“è¦æ±‚
- åš´æ ¼éµå¾ª DDD æ¶æ§‹
- ä½¿ç”¨ Angular 20 ç¾ä»£ç‰¹æ€§
- æ•´åˆ Angular Material 20 æœ€æ–°çµ„ä»¶
- å¯¦ç¾ AI å„ªåŒ–æª”æ¡ˆæ¨™é ­
- æ”¯æ´éŸ¿æ‡‰å¼è¨­è¨ˆ
- å®Œæ•´çš„éŒ¯èª¤è™•ç†
- ä½¿ç”¨ Angular 20 çš„ Signals å’Œ Control Flow
- å¯¦ç¾ç¾ä»£åŒ–çš„ç‹€æ…‹ç®¡ç†
- æ”¯æ´ AI åŠŸèƒ½æ•´åˆ

## ğŸ—ï¸ å®Œæ•´æ–‡ä»¶çµæ§‹è¦åŠƒï¼ˆæ“´å±•ç‰ˆ - åŒ…å«å°ˆæ¡ˆç®¡ç†ï¼‰

```
src/app/
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ contract/
â”‚   â”‚   â”‚   â”œâ”€â”€ contract.entity.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.entity.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”‚   â”œâ”€â”€ change-order.entity.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”‚   â”œâ”€â”€ contract-version.entity.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”œâ”€â”€ project/
â”‚   â”‚   â”‚   â”œâ”€â”€ project.entity.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ task.entity.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â””â”€â”€ repositories/
â”‚       â”œâ”€â”€ contract.repository.ts âœ… å·²å¯¦ç¾
â”‚       â”œâ”€â”€ project.repository.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”œâ”€â”€ application/
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ contract/
â”‚   â”‚   â”‚   â”œâ”€â”€ contract.dto.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.dto.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ change-order.dto.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ contract-version.dto.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”œâ”€â”€ project/
â”‚   â”‚   â”‚   â”œâ”€â”€ project.dto.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ task.dto.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ contract/
â”‚   â”‚   â”‚   â”œâ”€â”€ contract-application.service.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”‚   â”œâ”€â”€ contract-export.service.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ contract-form.service.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”œâ”€â”€ project/
â”‚   â”‚   â”‚   â”œâ”€â”€ project-application.service.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ project-progress.service.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”œâ”€â”€ use-cases/
â”‚   â”‚   â”œâ”€â”€ contract/
â”‚   â”‚   â”‚   â”œâ”€â”€ create-contract.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ update-contract.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ delete-contract.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ add-payment.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ add-change-order.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”œâ”€â”€ project/
â”‚   â”‚   â”‚   â”œâ”€â”€ create-project.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ update-project.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ delete-project.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ add-task.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ update-task-status.use-case.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â””â”€â”€ validators/
â”‚       â””â”€â”€ contract/
â”‚           â”œâ”€â”€ contract.validator.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚           â”œâ”€â”€ payment.validator.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚           â”œâ”€â”€ change-order.validator.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚           â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”œâ”€â”€ infrastructure/
â”‚   â”œâ”€â”€ persistence/
â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”‚       â”œâ”€â”€ contract/
â”‚   â”‚       â”‚   â”œâ”€â”€ in-memory-contract.repository.ts âœ… å·²å¯¦ç¾
â”‚   â”‚       â”‚   â”œâ”€â”€ firebase-contract.repository.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚       â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”‚       â””â”€â”€ project/
â”‚   â”‚           â”œâ”€â”€ in-memory-project.repository.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚           â”œâ”€â”€ firebase-project.repository.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚           â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â””â”€â”€ external-services/
â”‚       â””â”€â”€ ai/
â”‚           â”œâ”€â”€ contract-summarizer.service.ts âœ… å·²å¯¦ç¾
â”‚           â”œâ”€â”€ project-subtask-generator.service.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚           â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”œâ”€â”€ interface/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ construct/
â”‚   â”‚   â”‚   â”œâ”€â”€ construct.page.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.page.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ projects/
â”‚   â”‚       â”œâ”€â”€ projects-list.page.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚       â”œâ”€â”€ project-detail.page.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚       â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ contracts/
â”‚       â”‚   â”œâ”€â”€ contracts-dashboard-stats.component.ts âœ… å·²å¯¦ç¾
â”‚       â”‚   â”œâ”€â”€ contracts-table.component.ts âœ… å·²å¯¦ç¾
â”‚       â”‚   â”œâ”€â”€ ai-summarizer-dialog.component.ts âœ… å·²å¯¦ç¾
â”‚       â”‚   â”œâ”€â”€ contract-form-dialog.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ contract-details-sheet.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ payment-management.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ change-order-management.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ csv-export-button.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚       â”œâ”€â”€ projects/
â”‚       â”‚   â”œâ”€â”€ project-progress-chart.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ project-list-item.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ create-project-dialog.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ project-details-sheet.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”œâ”€â”€ tasks/
â”‚       â”‚   â”œâ”€â”€ task-item.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ task-tree.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â”œâ”€â”€ ai-subtask-suggestions.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â””â”€â”€ shared/
â”‚           â”œâ”€â”€ dashboard-stats.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚           â”œâ”€â”€ progress-bar.component.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚           â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ contract/
â”‚   â”‚   â”‚   â”œâ”€â”€ contract.types.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”œâ”€â”€ project/
â”‚   â”‚   â”‚   â”œâ”€â”€ project.types.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ task.types.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ csv/
â”‚   â”‚   â”‚   â”œâ”€â”€ csv.util.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”œâ”€â”€ date/
â”‚   â”‚   â”‚   â”œâ”€â”€ date.util.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”œâ”€â”€ calculation/
â”‚   â”‚   â”‚   â”œâ”€â”€ progress.util.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ value.util.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â”œâ”€â”€ i18n/
â”‚   â”‚   â”œâ”€â”€ contract/
â”‚   â”‚   â”‚   â”œâ”€â”€ en-US.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ zh-TW.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”œâ”€â”€ project/
â”‚   â”‚   â”‚   â”œâ”€â”€ en-US.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ zh-TW.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â”‚   â””â”€â”€ index.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚   â”‚   â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”‚   â””â”€â”€ constants/
â”‚       â”œâ”€â”€ app.constants.ts âœ… å·²å¯¦ç¾
â”‚       â”œâ”€â”€ contract.constants.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â”œâ”€â”€ project.constants.ts ğŸ”„ éœ€è¦æ–°å¢
â”‚       â””â”€â”€ index.ts âœ… å·²å¯¦ç¾
â”œâ”€â”€ app.routes.ts âœ… å·²å¯¦ç¾
â”œâ”€â”€ app.config.ts âœ… å·²å¯¦ç¾
â”œâ”€â”€ domain/index.ts âœ… å·²å¯¦ç¾
â”œâ”€â”€ application/index.ts âœ… å·²å¯¦ç¾
â”œâ”€â”€ infrastructure/index.ts âœ… å·²å¯¦ç¾
â””â”€â”€ interface/index.ts âœ… å·²å¯¦ç¾
```

## ğŸ“ æ–°å¢æ–‡ä»¶è©³ç´°è¦åŠƒ

### 1. Domain Layer æ–°å¢æ–‡ä»¶

#### 1.1 Payment Entity
```typescript
// src/app/domain/entities/contract/payment.entity.ts
/**
 * @ai-context {
 *   "role": "Domain/Entity",
 *   "purpose": "Paymentå¯¦é«”-ä»˜æ¬¾æ ¸å¿ƒæ¥­å‹™é‚è¼¯",
 *   "constraints": ["ç„¡å¤–éƒ¨æœå‹™ä¾è³´", "æ¥­å‹™è¦å‰‡å…§éƒ¨å°è£", "èšåˆä¸€è‡´æ€§"],
 *   "dependencies": ["Contract"],
 *   "security": "high",
 *   "lastmod": "2024-12-19"
 * }
 */

export interface Payment {
  id: string;
  amount: number;
  status: 'Paid' | 'Pending' | 'Overdue';
  requestDate: Date;
  paidDate?: Date;
  description?: string;
  invoiceNumber?: string;
}

export class PaymentEntity {
  constructor(
    public readonly id: string,
    public readonly amount: number,
    public status: Payment['status'],
    public readonly requestDate: Date,
    public paidDate?: Date,
    public readonly description?: string,
    public readonly invoiceNumber?: string
  ) {}

  static create(data: Omit<Payment, 'id'> & { id?: string }): PaymentEntity {
    return new PaymentEntity(
      data.id || crypto.randomUUID(),
      data.amount,
      data.status,
      data.requestDate,
      data.paidDate,
      data.description,
      data.invoiceNumber
    );
  }

  markAsPaid(paidDate: Date = new Date()): void {
    this.status = 'Paid';
    this.paidDate = paidDate;
  }

  markAsOverdue(): void {
    if (this.status === 'Pending') {
      this.status = 'Overdue';
    }
  }

  get isOverdue(): boolean {
    return this.status === 'Pending' && this.requestDate < new Date();
  }
}
```

#### 1.2 Change Order Entity
```typescript
// src/app/domain/entities/contract/change-order.entity.ts
/**
 * @ai-context {
 *   "role": "Domain/Entity",
 *   "purpose": "ChangeOrderå¯¦é«”-è®Šæ›´å–®æ ¸å¿ƒæ¥­å‹™é‚è¼¯",
 *   "constraints": ["ç„¡å¤–éƒ¨æœå‹™ä¾è³´", "æ¥­å‹™è¦å‰‡å…§éƒ¨å°è£", "èšåˆä¸€è‡´æ€§"],
 *   "dependencies": ["Contract"],
 *   "security": "high",
 *   "lastmod": "2024-12-19"
 * }
 */

export interface ChangeOrder {
  id: string;
  title: string;
  description: string;
  status: 'Approved' | 'Pending' | 'Rejected';
  date: Date;
  impact: { cost: number; scheduleDays: number };
  approvedBy?: string;
  approvedDate?: Date;
  rejectionReason?: string;
}

export class ChangeOrderEntity {
  constructor(
    public readonly id: string,
    public readonly title: string,
    public readonly description: string,
    public status: ChangeOrder['status'],
    public readonly date: Date,
    public readonly impact: { cost: number; scheduleDays: number },
    public approvedBy?: string,
    public approvedDate?: Date,
    public rejectionReason?: string
  ) {}

  static create(data: Omit<ChangeOrder, 'id'> & { id?: string }): ChangeOrderEntity {
    return new ChangeOrderEntity(
      data.id || crypto.randomUUID(),
      data.title,
      data.description,
      data.status,
      data.date,
      data.impact,
      data.approvedBy,
      data.approvedDate,
      data.rejectionReason
    );
  }

  approve(approvedBy: string): void {
    this.status = 'Approved';
    this.approvedBy = approvedBy;
    this.approvedDate = new Date();
    this.rejectionReason = undefined;
  }

  reject(rejectionReason: string): void {
    this.status = 'Rejected';
    this.rejectionReason = rejectionReason;
    this.approvedBy = undefined;
    this.approvedDate = undefined;
  }
}
```

#### 1.3 Contract Version Entity
```typescript
// src/app/domain/entities/contract/contract-version.entity.ts
/**
 * @ai-context {
 *   "role": "Domain/Entity",
 *   "purpose": "ContractVersionå¯¦é«”-åˆç´„ç‰ˆæœ¬æ ¸å¿ƒæ¥­å‹™é‚è¼¯",
 *   "constraints": ["ç„¡å¤–éƒ¨æœå‹™ä¾è³´", "æ¥­å‹™è¦å‰‡å…§éƒ¨å°è£", "èšåˆä¸€è‡´æ€§"],
 *   "dependencies": ["Contract"],
 *   "security": "medium",
 *   "lastmod": "2024-12-19"
 * }
 */

export interface ContractVersion {
  version: number;
  date: Date;
  changeSummary: string;
  changedBy?: string;
  documentUrl?: string;
}

export class ContractVersionEntity {
  constructor(
    public readonly version: number,
    public readonly date: Date,
    public readonly changeSummary: string,
    public readonly changedBy?: string,
    public readonly documentUrl?: string
  ) {}

  static create(data: Omit<ContractVersion, 'version'> & { version?: number }): ContractVersionEntity {
    return new ContractVersionEntity(
      data.version || 1,
      data.date,
      data.changeSummary,
      data.changedBy,
      data.documentUrl
    );
  }
}
```

### 2. Application Layer æ–°å¢æ–‡ä»¶

#### 2.1 Contract Export Service
```typescript
// src/app/application/services/contract/contract-export.service.ts
/**
 * @ai-context {
 *   "role": "Application/Service",
 *   "purpose": "åˆç´„åŒ¯å‡ºæœå‹™-CSVåŒ¯å‡ºèˆ‡åºåˆ—åŒ–",
 *   "constraints": ["ç´”åŒ¯å‡ºé‚è¼¯", "ç„¡æ¥­å‹™è¦å‰‡", "å¯é‡ç”¨æ€§"],
 *   "dependencies": ["Contract", "CSVUtil"],
 *   "security": "low",
 *   "lastmod": "2024-12-19"
 * }
 */

import { Injectable } from '@angular/core';
import { Contract } from '../../../domain/entities/contract';

@Injectable({ providedIn: 'root' })
export class ContractExportService {
  exportToCsv(contracts: Contract[]): void {
    if (contracts.length === 0) return;

    const headers = ['ID', 'Name', 'Contractor', 'Client', 'Start Date', 'End Date', 'Total Value', 'Status', 'Scope'];
    const lines = contracts.map(c => [
      c.id,
      JSON.stringify(c.name),
      JSON.stringify(c.contractor),
      JSON.stringify(c.client),
      new Date(c.startDate).toISOString().slice(0, 10),
      new Date(c.endDate).toISOString().slice(0, 10),
      String(c.totalValue),
      c.status,
      JSON.stringify(c.scope)
    ].join(','));

    const csv = [headers.join(','), ...lines].join('\n');
    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = `contracts_export_${new Date().toISOString().slice(0, 10)}.csv`;
    link.click();
    URL.revokeObjectURL(link.href);
  }

  exportDetailedCsv(contracts: Contract[]): void {
    if (contracts.length === 0) return;

    const headers = ['Contract ID', 'Contract Name', 'Payment ID', 'Payment Amount', 'Payment Status', 'Payment Date'];
    const lines: string[] = [];

    contracts.forEach(contract => {
      if (contract.payments.length === 0) {
        lines.push([contract.id, JSON.stringify(contract.name), '', '', '', ''].join(','));
      } else {
        contract.payments.forEach(payment => {
          lines.push([
            contract.id,
            JSON.stringify(contract.name),
            payment.id,
            String(payment.amount),
            payment.status,
            payment.paidDate ? new Date(payment.paidDate).toISOString().slice(0, 10) : ''
          ].join(','));
        });
      }
    });

    const csv = [headers.join(','), ...lines].join('\n');
    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = `contracts_detailed_export_${new Date().toISOString().slice(0, 10)}.csv`;
    link.click();
    URL.revokeObjectURL(link.href);
  }
}
```

#### 2.2 Contract Form Service
```typescript
// src/app/application/services/contract/contract-form.service.ts
/**
 * @ai-context {
 *   "role": "Application/Service",
 *   "purpose": "åˆç´„è¡¨å–®æœå‹™-è¡¨å–®é©—è­‰èˆ‡æ•¸æ“šè½‰æ›",
 *   "constraints": ["è¡¨å–®é‚è¼¯", "é©—è­‰è¦å‰‡", "ç„¡æ¥­å‹™é‚è¼¯"],
 *   "dependencies": ["ContractValidator", "ContractMapper"],
 *   "security": "medium",
 *   "lastmod": "2024-12-19"
 * }
 */

import { Injectable } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';
import { Contract } from '../../../domain/entities/contract';

@Injectable({ providedIn: 'root' })
export class ContractFormService {
  constructor(private fb: FormBuilder) {}

  createContractForm(): FormGroup {
    return this.fb.group({
      name: ['', [Validators.required, Validators.minLength(3)]],
      contractor: ['', [Validators.required, Validators.minLength(2)]],
      client: ['', [Validators.required, Validators.minLength(2)]],
      startDate: ['', Validators.required],
      endDate: ['', Validators.required],
      totalValue: [0, [Validators.required, Validators.min(0)]],
      scope: ['', [Validators.required, Validators.minLength(10)]],
      status: ['Active', Validators.required]
    });
  }

  createPaymentForm(): FormGroup {
    return this.fb.group({
      amount: [0, [Validators.required, Validators.min(0)]],
      description: ['', Validators.required],
      requestDate: ['', Validators.required],
      invoiceNumber: [''],
      status: ['Pending', Validators.required]
    });
  }

  createChangeOrderForm(): FormGroup {
    return this.fb.group({
      title: ['', [Validators.required, Validators.minLength(3)]],
      description: ['', [Validators.required, Validators.minLength(10)]],
      cost: [0, [Validators.required, Validators.min(0)]],
      scheduleDays: [0, [Validators.required, Validators.min(0)]],
      date: ['', Validators.required]
    });
  }

  validateContractForm(form: FormGroup): boolean {
    if (form.invalid) return false;

    const startDate = new Date(form.get('startDate')?.value);
    const endDate = new Date(form.get('endDate')?.value);

    if (endDate <= startDate) {
      form.get('endDate')?.setErrors({ invalidEndDate: true });
      return false;
    }

    return true;
  }
}
```

### 3. Use Cases æ–°å¢æ–‡ä»¶

#### 3.1 Create Contract Use Case
```typescript
// src/app/application/use-cases/contract/create-contract.use-case.ts
/**
 * @ai-context {
 *   "role": "Application/UseCase",
 *   "purpose": "å‰µå»ºåˆç´„ç”¨ä¾‹-åˆç´„å‰µå»ºæ¥­å‹™é‚è¼¯",
 *   "constraints": ["å–®ä¸€ç”¨ä¾‹è·è²¬", "äº‹å‹™é‚Šç•Œ", "è¼¸å…¥é©—è­‰"],
 *   "dependencies": ["ContractRepository", "ContractValidator"],
 *   "security": "high",
 *   "lastmod": "2024-12-19"
 * }
 */

import { Injectable } from '@angular/core';
import { ContractRepository } from '../../../domain/repositories/contract.repository';
import { Contract } from '../../../domain/entities/contract';

export interface CreateContractRequest {
  name: string;
  contractor: string;
  client: string;
  startDate: Date;
  endDate: Date;
  totalValue: number;
  scope: string;
}

@Injectable({ providedIn: 'root' })
export class CreateContractUseCase {
  constructor(private contractRepository: ContractRepository) {}

  async execute(request: CreateContractRequest): Promise<Contract> {
    // é©—è­‰è¼¸å…¥
    this.validateRequest(request);

    // å‰µå»ºåˆç´„å¯¦é«”
    const contract = Contract.create({
      name: request.name,
      contractor: request.contractor,
      client: request.client,
      startDate: request.startDate,
      endDate: request.endDate,
      totalValue: request.totalValue,
      status: 'Active',
      scope: request.scope,
      payments: [],
      changeOrders: [],
      versions: [{
        version: 1,
        date: new Date(),
        changeSummary: 'åˆå§‹ç‰ˆæœ¬'
      }]
    });

    // ä¿å­˜åˆ°å€‰å„²
    await this.contractRepository.save(contract);
    return contract;
  }

  private validateRequest(request: CreateContractRequest): void {
    if (!request.name || request.name.trim().length < 3) {
      throw new Error('åˆç´„åç¨±è‡³å°‘éœ€è¦3å€‹å­—ç¬¦');
    }

    if (!request.contractor || request.contractor.trim().length < 2) {
      throw new Error('æ‰¿åŒ…å•†åç¨±è‡³å°‘éœ€è¦2å€‹å­—ç¬¦');
    }

    if (!request.client || request.client.trim().length < 2) {
      throw new Error('å®¢æˆ¶åç¨±è‡³å°‘éœ€è¦2å€‹å­—ç¬¦');
    }

    if (request.startDate >= request.endDate) {
      throw new Error('çµæŸæ—¥æœŸå¿…é ˆæ™šæ–¼é–‹å§‹æ—¥æœŸ');
    }

    if (request.totalValue <= 0) {
      throw new Error('åˆç´„ç¸½å€¼å¿…é ˆå¤§æ–¼0');
    }

    if (!request.scope || request.scope.trim().length < 10) {
      throw new Error('å·¥ä½œç¯„ç–‡è‡³å°‘éœ€è¦10å€‹å­—ç¬¦');
    }
  }
}
```

### 4. Interface Layer æ–°å¢æ–‡ä»¶

#### 4.1 Contract Form Dialog Component
```typescript
// src/app/interface/components/contracts/contract-form-dialog.component.ts
/**
 * @ai-context {
 *   "role": "Interface/Component",
 *   "purpose": "åˆç´„è¡¨å–®å°è©±æ¡†çµ„ä»¶-åˆç´„æ–°å¢/ç·¨è¼¯ç•Œé¢",
 *   "constraints": ["çµ„ä»¶è¤‡ç”¨æ€§", "è¡¨å–®é©—è­‰", "éŸ¿æ‡‰å¼è¨­è¨ˆ"],
 *   "dependencies": ["ContractFormService", "CreateContractUseCase"],
 *   "security": "medium",
 *   "lastmod": "2024-12-19"
 * }
 */

import { Component, Inject, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ReactiveFormsModule } from '@angular/forms';
import { MatDialogRef, MAT_DIALOG_DATA, MatDialogModule } from '@angular/material/dialog';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatInputModule } from '@angular/material/input';
import { MatButtonModule } from '@angular/material/button';
import { MatDatepickerModule } from '@angular/material/datepicker';
import { MatSelectModule } from '@angular/material/select';
import { ContractFormService } from '../../../application/services/contract/contract-form.service';
import { CreateContractUseCase } from '../../../application/use-cases/contract/create-contract.use-case';
import { Contract } from '../../../domain/entities/contract';

@Component({
  selector: 'app-contract-form-dialog',
  standalone: true,
  imports: [
    CommonModule,
    ReactiveFormsModule,
    MatDialogModule,
    MatFormFieldModule,
    MatInputModule,
    MatButtonModule,
    MatDatepickerModule,
    MatSelectModule
  ],
  template: `
    <h2 mat-dialog-title>{{ isEditMode ? 'ç·¨è¼¯åˆç´„' : 'æ–°å¢åˆç´„' }}</h2>

    <form [formGroup]="contractForm" (ngSubmit)="onSubmit()">
      <mat-dialog-content>
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>åˆç´„åç¨±</mat-label>
            <input matInput formControlName="name" placeholder="è¼¸å…¥åˆç´„åç¨±">
            <mat-error *ngIf="contractForm.get('name')?.hasError('required')">
              åˆç´„åç¨±ç‚ºå¿…å¡«é …
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>æ‰¿åŒ…å•†</mat-label>
            <input matInput formControlName="contractor" placeholder="è¼¸å…¥æ‰¿åŒ…å•†åç¨±">
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>å®¢æˆ¶</mat-label>
            <input matInput formControlName="client" placeholder="è¼¸å…¥å®¢æˆ¶åç¨±">
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>é–‹å§‹æ—¥æœŸ</mat-label>
            <input matInput [matDatepicker]="startPicker" formControlName="startDate">
            <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
            <mat-datepicker #startPicker></mat-datepicker>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>çµæŸæ—¥æœŸ</mat-label>
            <input matInput [matDatepicker]="endPicker" formControlName="endDate">
            <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
            <mat-datepicker #endPicker></mat-datepicker>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>åˆç´„ç¸½å€¼</mat-label>
            <input matInput type="number" formControlName="totalValue" placeholder="è¼¸å…¥åˆç´„ç¸½å€¼">
            <span matSuffix>å…ƒ</span>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>ç‹€æ…‹</mat-label>
            <mat-select formControlName="status">
              <mat-option value="Active">é€²è¡Œä¸­</mat-option>
              <mat-option value="Completed">å·²å®Œæˆ</mat-option>
              <mat-option value="On Hold">æš«åœ</mat-option>
              <mat-option value="Terminated">çµ‚æ­¢</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>å·¥ä½œç¯„ç–‡</mat-label>
            <textarea matInput formControlName="scope" rows="3" placeholder="æè¿°å·¥ä½œç¯„ç–‡"></textarea>
          </mat-form-field>
        </div>
      </mat-dialog-content>

      <mat-dialog-actions align="end">
        <button mat-button type="button" (click)="onCancel()">å–æ¶ˆ</button>
        <button mat-raised-button color="primary" type="submit" [disabled]="contractForm.invalid || loading">
          {{ isEditMode ? 'æ›´æ–°' : 'å‰µå»º' }}
        </button>
      </mat-dialog-actions>
    </form>
  `,
  styles: [`
    .form-row {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .full-width {
      width: 100%;
    }

    mat-form-field {
      flex: 1;
    }

    .form-row:last-child {
      margin-bottom: 0;
    }
  `]
})
export class ContractFormDialogComponent implements OnInit {
  contractForm = this.contractFormService.createContractForm();
  loading = false;
  isEditMode = false;

  constructor(
    private dialogRef: MatDialogRef<ContractFormDialogComponent>,
    @Inject(MAT_DIALOG_DATA) public data: { contract?: Contract },
    private contractFormService: ContractFormService,
    private createContractUseCase: CreateContractUseCase
  ) {
    this.isEditMode = !!data.contract;
  }

  ngOnInit(): void {
    if (this.isEditMode && this.data.contract) {
      this.populateForm(this.data.contract);
    }
  }

  async onSubmit(): Promise<void> {
    if (this.contractForm.invalid) return;

    this.loading = true;
    try {
      if (this.isEditMode) {
        // TODO: å¯¦ç¾æ›´æ–°é‚è¼¯
        console.log('æ›´æ–°åˆç´„:', this.contractForm.value);
      } else {
        const result = await this.createContractUseCase.execute(this.contractForm.value);
        this.dialogRef.close(result);
      }
    } catch (error) {
      console.error('æ“ä½œå¤±æ•—:', error);
      // TODO: é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
    } finally {
      this.loading = false;
    }
  }

  onCancel(): void {
    this.dialogRef.close();
  }

  private populateForm(contract: Contract): void {
    this.contractForm.patchValue({
      name: contract.name,
      contractor: contract.contractor,
      client: contract.client,
      startDate: contract.startDate,
      endDate: contract.endDate,
      totalValue: contract.totalValue,
      status: contract.status,
      scope: contract.scope
    });
  }
}
```

## ğŸš€ å¯¦ç¾é †åºå»ºè­°

### ç¬¬ä¸€éšæ®µï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆ1-2é€±ï¼‰
1. å¯¦ç¾ Paymentã€ChangeOrderã€ContractVersion å¯¦é«”
2. å¯¦ç¾ ContractExportServiceï¼ˆCSV åŒ¯å‡ºï¼‰
3. å¯¦ç¾ ContractFormServiceï¼ˆè¡¨å–®é©—è­‰ï¼‰
4. å¯¦ç¾ CreateContractUseCaseï¼ˆå‰µå»ºåˆç´„ï¼‰

### ç¬¬äºŒéšæ®µï¼šUI çµ„ä»¶ï¼ˆ2-3é€±ï¼‰
1. å¯¦ç¾ ContractFormDialogComponentï¼ˆåˆç´„è¡¨å–®ï¼‰
2. å¯¦ç¾ PaymentManagementComponentï¼ˆä»˜æ¬¾ç®¡ç†ï¼‰
3. å¯¦ç¾ ChangeOrderManagementComponentï¼ˆè®Šæ›´å–®ç®¡ç†ï¼‰
4. æ›´æ–°ç¾æœ‰çµ„ä»¶ä»¥æ”¯æ´æ–°åŠŸèƒ½

### ç¬¬ä¸‰éšæ®µï¼šæ•´åˆèˆ‡å„ªåŒ–ï¼ˆ1-2é€±ï¼‰
1. æ•´åˆæ‰€æœ‰æ–°çµ„ä»¶åˆ°ä¸»é é¢
2. å¯¦ç¾æ¬Šé™æ§åˆ¶
3. å„ªåŒ–ç”¨æˆ¶é«”é©—
4. æ·»åŠ éŒ¯èª¤è™•ç†å’Œé©—è­‰

## ğŸ“Š é æœŸæ•ˆæœ

### åŠŸèƒ½å®Œæ•´æ€§
- **åˆç´„ç®¡ç†**: 100% å®Œæ•´
- **ä»˜æ¬¾è¿½è¹¤**: 100% å®Œæ•´
- **è®Šæ›´å–®ç®¡ç†**: 100% å®Œæ•´
- **CSV åŒ¯å‡º**: 100% å®Œæ•´

### æŠ€è¡“æŒ‡æ¨™
- **DDD æ¶æ§‹**: åš´æ ¼éµå¾ª
- **Angular 20**: ç¾ä»£ç‰¹æ€§
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: å®Œæ•´æ”¯æ´
- **éŒ¯èª¤è™•ç†**: å…¨é¢è¦†è“‹

## ğŸ’¡ æ³¨æ„äº‹é …

1. **æª”æ¡ˆæ¨™é ­**: æ‰€æœ‰æ–°æ–‡ä»¶å¿…é ˆåŒ…å« AI å„ªåŒ–æª”æ¡ˆæ¨™é ­
2. **é¡å‹å®‰å…¨**: åš´æ ¼ä½¿ç”¨ TypeScript é¡å‹
3. **éŒ¯èª¤è™•ç†**: å¯¦ç¾å®Œæ•´çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
4. **ç”¨æˆ¶é«”é©—**: æ³¨é‡éŸ¿æ‡‰å¼è¨­è¨ˆå’Œç„¡éšœç¤™æ€§
5. **æ¸¬è©¦è¦†è“‹**: ç‚ºé—œéµåŠŸèƒ½æ·»åŠ å–®å…ƒæ¸¬è©¦

é€™å€‹å¯¦ç¾è¨ˆç•«å°‡ç¢ºä¿åˆç´„åŠŸèƒ½é”åˆ°ä¼æ¥­ç´šæ¨™æº–ï¼Œæä¾›å®Œæ•´çš„åˆç´„ç”Ÿå‘½é€±æœŸç®¡ç†èƒ½åŠ›ã€‚

---

## ğŸ¯ å®Œæ•´åŠŸèƒ½é‡ç¾è¨ˆç•«ç¸½çµ

### ğŸ“‹ å·²å®Œæˆçš„è¦åŠƒæ›´æ–°

#### 1. æ ¸å¿ƒåŠŸèƒ½æ“´å±• âœ…
- **å°ˆæ¡ˆç®¡ç†ç³»çµ±**: å°ˆæ¡ˆå„€è¡¨æ¿ã€å°ˆæ¡ˆåˆ—è¡¨ã€å°ˆæ¡ˆè©³æƒ…ã€ä»»å‹™æ¨¹ã€ç‹€æ…‹ç®¡ç†ã€åƒ¹å€¼åˆ†é…
- **åˆç´„ç®¡ç†ç³»çµ±**: å¤šæ¨™ç±¤é è©³æƒ…ã€ä»˜æ¬¾é€²åº¦è¿½è¹¤ã€è®Šæ›´å–®å½±éŸ¿åˆ†æã€ç‰ˆæœ¬æ­·å²æ™‚é–“è»¸
- **AI åŠŸèƒ½ç³»çµ±**: AI åˆç´„æ‘˜è¦ã€AI å­ä»»å‹™å»ºè­°ã€æ–‡ä»¶è™•ç†èˆ‡åˆ†æ
- **æ¬Šé™æ§åˆ¶ç³»çµ±**: ç”¨æˆ¶èªè­‰æˆæ¬Šã€è§’è‰²åŸºç¤æ¬Šé™æ§åˆ¶

#### 2. æŠ€è¡“è¦æ±‚å‡ç´š âœ…
- æ•´åˆ Angular Material 20 æœ€æ–°çµ„ä»¶
- ä½¿ç”¨ Angular 20 çš„ Signals å’Œ Control Flow
- å¯¦ç¾ç¾ä»£åŒ–çš„ç‹€æ…‹ç®¡ç†
- æ”¯æ´ AI åŠŸèƒ½æ•´åˆ

#### 3. å®Œæ•´æ–‡ä»¶çµæ§‹è¦åŠƒ âœ…
- **Domain Layer**: æ–°å¢ `project/` å¯¦é«”å’Œ `project.repository.ts`
- **Application Layer**: æ–°å¢å°ˆæ¡ˆç›¸é—œ DTOsã€Servicesã€Use Casesã€Validators
- **Infrastructure Layer**: æ–°å¢å°ˆæ¡ˆå„²å­˜åº«å’Œ AI å­ä»»å‹™ç”Ÿæˆæœå‹™
- **Interface Layer**: æ–°å¢å°ˆæ¡ˆé é¢ã€ä»»å‹™çµ„ä»¶ã€å…±äº«çµ„ä»¶
- **Shared Layer**: æ–°å¢å°ˆæ¡ˆé¡å‹ã€è¨ˆç®—å·¥å…·ã€åœ‹éš›åŒ–æ”¯æ´

### ğŸš€ ä¸‹ä¸€æ­¥å¯¦æ–½å»ºè­°

#### ç¬¬ä¸€éšæ®µï¼šå°ˆæ¡ˆç®¡ç†æ ¸å¿ƒï¼ˆ2-3é€±ï¼‰
1. **å¯¦é«”å±¤å¯¦ç¾**
   - å¯¦ç¾ `Project` å’Œ `Task` å¯¦é«”
   - å¯¦ç¾ `ProjectRepository` ä»‹é¢
   - å»ºç«‹å°ˆæ¡ˆå’Œä»»å‹™çš„é ˜åŸŸæœå‹™

2. **æ‡‰ç”¨å±¤å¯¦ç¾**
   - å¯¦ç¾å°ˆæ¡ˆç›¸é—œ DTOs
   - å¯¦ç¾å°ˆæ¡ˆæ‡‰ç”¨æœå‹™
   - å¯¦ç¾å°ˆæ¡ˆç”¨ä¾‹ï¼ˆå‰µå»ºã€æ›´æ–°ã€åˆªé™¤ã€ä»»å‹™ç®¡ç†ï¼‰

3. **åŸºç¤è¨­æ–½å±¤å¯¦ç¾**
   - å¯¦ç¾ Firebase å°ˆæ¡ˆå„²å­˜åº«
   - å¯¦ç¾ AI å­ä»»å‹™ç”Ÿæˆæœå‹™

#### ç¬¬äºŒéšæ®µï¼šUI çµ„ä»¶é–‹ç™¼ï¼ˆ3-4é€±ï¼‰
1. **å°ˆæ¡ˆé é¢**
   - å¯¦ç¾ `DashboardPage` å’Œå°ˆæ¡ˆçµ±è¨ˆ
   - å¯¦ç¾ `ProjectsListPage` å’Œå°ˆæ¡ˆåˆ—è¡¨
   - å¯¦ç¾ `ProjectDetailPage` å’Œä»»å‹™æ¨¹

2. **å°ˆæ¡ˆçµ„ä»¶**
   - å¯¦ç¾ `ProjectProgressChart` é€²åº¦åœ–è¡¨
   - å¯¦ç¾ `ProjectListItem` å°ˆæ¡ˆåˆ—è¡¨é …
   - å¯¦ç¾ `CreateProjectDialog` å‰µå»ºå°è©±æ¡†

3. **ä»»å‹™çµ„ä»¶**
   - å¯¦ç¾ `TaskItem` ä»»å‹™é …çµ„ä»¶
   - å¯¦ç¾ `TaskTree` ä»»å‹™æ¨¹çµ„ä»¶
   - å¯¦ç¾ `AiSubtaskSuggestions` AI å»ºè­°çµ„ä»¶

#### ç¬¬ä¸‰éšæ®µï¼šåˆç´„åŠŸèƒ½å¢å¼·ï¼ˆ2-3é€±ï¼‰
1. **åˆç´„è©³æƒ…å¢å¼·**
   - å¯¦ç¾å¤šæ¨™ç±¤é è©³æƒ…å±•ç¤º
   - å¯¦ç¾ä»˜æ¬¾é€²åº¦è¿½è¹¤çµ„ä»¶
   - å¯¦ç¾è®Šæ›´å–®å½±éŸ¿åˆ†æçµ„ä»¶
   - å¯¦ç¾ç‰ˆæœ¬æ­·å²æ™‚é–“è»¸çµ„ä»¶

2. **AI åŠŸèƒ½æ•´åˆ**
   - æ•´åˆ AI åˆç´„æ‘˜è¦æœå‹™
   - æ•´åˆ AI å­ä»»å‹™å»ºè­°æœå‹™
   - å¯¦ç¾æ–‡ä»¶è™•ç†èˆ‡åˆ†æ

#### ç¬¬å››éšæ®µï¼šæ•´åˆèˆ‡å„ªåŒ–ï¼ˆ2-3é€±ï¼‰
1. **ç³»çµ±æ•´åˆ**
   - æ•´åˆå°ˆæ¡ˆå’Œåˆç´„åŠŸèƒ½
   - å¯¦ç¾çµ±ä¸€çš„å°èˆªå’Œè·¯ç”±
   - å¯¦ç¾éŸ¿æ‡‰å¼è¨­è¨ˆ

2. **æ€§èƒ½å„ªåŒ–**
   - å¯¦ç¾æ‡¶åŠ è¼‰å’Œä»£ç¢¼åˆ†å‰²
   - å„ªåŒ–è³‡æ–™æŸ¥è©¢å’Œå¿«å–
   - å¯¦ç¾è™›æ“¬æ»¾å‹•å’Œåˆ†é 

3. **ç”¨æˆ¶é«”é©—**
   - å¯¦ç¾ç„¡éšœç¤™è¨­è¨ˆ
   - æ·»åŠ å‹•ç•«å’Œéæ¸¡æ•ˆæœ
   - å¯¦ç¾æ·±è‰²ä¸»é¡Œæ”¯æ´

### ğŸ“Š é æœŸæœ€çµ‚æ•ˆæœ

#### åŠŸèƒ½å®Œæ•´æ€§
- **å°ˆæ¡ˆç®¡ç†**: 100% å®Œæ•´é‡ç¾ NextJS åŠŸèƒ½
- **åˆç´„ç®¡ç†**: 100% å®Œæ•´é‡ç¾ NextJS åŠŸèƒ½
- **AI åŠŸèƒ½**: 100% å®Œæ•´é‡ç¾ NextJS åŠŸèƒ½
- **ç”¨æˆ¶é«”é©—**: è¶…è¶Š NextJS çš„ç¾ä»£åŒ– Angular å¯¦ç¾

#### æŠ€è¡“æŒ‡æ¨™
- **DDD æ¶æ§‹**: åš´æ ¼éµå¾ªï¼Œå„ªæ–¼ NextJS çš„ç°¡å–®çµæ§‹
- **Angular 20**: ä½¿ç”¨æœ€æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬ Signals å’Œ Control Flow
- **Angular Material 20**: ç¾ä»£åŒ– UI çµ„ä»¶åº«
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: å®Œæ•´æ”¯æ´å„ç¨®è¨­å‚™
- **éŒ¯èª¤è™•ç†**: å…¨é¢çš„éŒ¯èª¤è™•ç†å’Œç”¨æˆ¶åé¥‹
- **æ¸¬è©¦è¦†è“‹**: é«˜æ¸¬è©¦è¦†è“‹ç‡ç¢ºä¿å“è³ª

### ğŸ’¡ é—œéµå¯¦æ–½è¦é»

1. **æ¶æ§‹ä¸€è‡´æ€§**: åš´æ ¼éµå¾ªç¾æœ‰çš„ DDD æ¶æ§‹å’Œ `06-folder-structure-current.md` è¦ç¯„
2. **ç¾ä»£åŒ–æŠ€è¡“**: å……åˆ†åˆ©ç”¨ Angular 20 å’Œ Material 20 çš„æœ€æ–°ç‰¹æ€§
3. **AI æ•´åˆ**: ç¢ºä¿ AI åŠŸèƒ½èˆ‡æ¥­å‹™é‚è¼¯çš„å®Œç¾æ•´åˆ
4. **æ€§èƒ½å„ªåŒ–**: å¯¦ç¾é«˜æ•ˆçš„è³‡æ–™è™•ç†å’Œ UI æ¸²æŸ“
5. **ç”¨æˆ¶é«”é©—**: æ³¨é‡ç›´è§€çš„æ“ä½œæµç¨‹å’Œè¦–è¦ºè¨­è¨ˆ
6. **åœ‹éš›åŒ–**: æ”¯æ´å¤šèªè¨€ï¼Œç‰¹åˆ¥æ˜¯ä¸­æ–‡ç¹é«”å’Œè‹±æ–‡

é€™å€‹æ“´å±•è¨ˆç•«å°‡ç¢ºä¿ Angular å°ˆæ¡ˆå®Œç¾é‡ç¾ NextJS å°ˆæ¡ˆçš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒæ™‚åˆ©ç”¨ Angular 20 çš„ç¾ä»£ç‰¹æ€§æä¾›æ›´å¥½çš„é–‹ç™¼é«”é©—å’Œç”¨æˆ¶é«”é©—ã€‚
