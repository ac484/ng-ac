# FILE HEADER CONVENTION
統一檔案頂部註解規範

## 🎯 目的
- 提供統一的檔案頂部註解格式，幫助開發者快速理解檔案性質與責任
- 確保專案架構文件註解具備 **一致性、可維護性、可追溯性**
- 此規範屬於 **不可變更文件**，任何專案均需遵守

---

## 📌 標準註解格式

```typescript
/**
 * @fileoverview <檔案職責與描述>
 * @author NG-AC Team
 * @version 1.0.0
 * @lastModified YYYY-MM-DD by <開發者名稱>
 *
 * 📋 檔案性質：
 * • 類型：<所屬分層 + 檔案種類>
 * • 依賴：<直接依賴項目 | 無>
 *
 * ⚠️ 架構規則 (Immutable)：
 * • 此檔案的註解格式不可變更
 * • [具體架構約束1]
 * • [具體架構約束2]
 *
 * @module <Domain>
 * @layer <Layer>
 * @context <Business Context>
 * @see docs/architecture/<相關文件>.md
 *
 * @example
 * // 使用範例
 * import { <Export> } from './path';
 * const instance = new <Export>();
 *
 * 🔒 Security: <安全注意事項，如有>
 */
```

---

## 📝 欄位說明

### 必填欄位
| 欄位 | 說明 | 範例 |
|------|------|------|
| `@fileoverview` | 檔案職責與簡要描述 | `統一匯出 User 相關實體與服務` |
| `@author` | 固定填入 | `NG-AC Team` |
| `@version` | 語義化版本號 | `1.0.0` |
| `@lastModified` | 最後修改資訊 | `2025-08-17 by Spades Seven` |
| `類型` | 所屬分層 + 檔案種類 | `Domain Layer - Entity` |
| `@module` | 模組名稱 | `UserDomain` |
| `@layer` | 架構分層 | `Domain` / `Application` / `Infrastructure` |
| `@context` | 業務上下文 | `User Management` |

### 選填欄位
| 欄位 | 說明 | 範例 |
|------|------|------|
| `依賴` | 直接依賴的檔案或模組 | `User.ts, UserService.ts` 或 `無` |
| `@see` | 相關架構文件連結 | `docs/architecture/domain.md` |
| `@example` | 使用範例程式碼 | 實際的 import 與使用方式 |
| `🔒 Security` | 安全注意事項 | 涉及敏感資料或權限邏輯時填寫 |

---

## 🏗️ 分層對應表

| 架構分層 | @layer 值 | 檔案類型範例 |
|----------|-----------|-------------|
| **Domain Layer** | `Domain` | Entity, Value Object, Domain Service |
| **Application Layer** | `Application` | Use Case, Application Service, DTO |
| **Infrastructure Layer** | `Infrastructure` | Repository Impl, External Service |
| **Presentation Layer** | `Presentation` | Controller, View Model, Middleware |
| **Shared** | `Shared` | Utilities, Constants, Types |

---

## 📋 實際應用範例

### 範例 1：Domain Entity
```typescript
/**
 * @fileoverview User 實體定義，包含用戶核心業務邏輯與驗證規則
 * @author NG-AC Team
 * @version 1.0.0
 * @lastModified 2025-08-17 by Spades Seven
 *
 * 📋 檔案性質：
 * • 類型：Domain Layer - Entity
 * • 依賴：UserVO.ts, Email.ts
 *
 * ⚠️ 架構規則 (Immutable)：
 * • 此檔案的註解格式不可變更
 * • Entity 不可依賴外部服務或基礎設施
 * • 所有業務規則必須封裝在 Entity 內部
 *
 * @module UserDomain
 * @layer Domain
 * @context User Management
 * @see docs/architecture/domain.md
 *
 * @example
 * import { User } from './User';
 * const user = User.create({ name: 'John', email: 'john@example.com' });
 *
 * 🔒 Security: 包含用戶敏感資料，請確保適當的存取控制
 */
```

### 範例 2：Application Service
```typescript
/**
 * @fileoverview 用戶管理應用服務，協調用戶相關的業務流程
 * @author NG-AC Team
 * @version 1.0.0
 * @lastModified 2025-08-17 by Alice Wang
 *
 * 📋 檔案性質：
 * • 類型：Application Layer - Service
 * • 依賴：UserRepository.ts, EmailService.ts
 *
 * ⚠️ 架構規則 (Immutable)：
 * • 此檔案的註解格式不可變更
 * • Application Service 不可包含業務邏輯，僅負責協調
 * • 必須透過 Repository 介面存取資料
 *
 * @module UserApplication
 * @layer Application
 * @context User Management
 * @see docs/architecture/application.md
 *
 * @example
 * import { UserService } from './UserService';
 * const service = new UserService(userRepo, emailService);
 * await service.createUser(userData);
 */
```

### 範例 3：共用工具
```typescript
/**
 * @fileoverview 日期處理工具集，提供專案統一的日期操作函式
 * @author NG-AC Team
 * @version 1.0.0
 * @lastModified 2025-08-17 by Bob Chen
 *
 * 📋 檔案性質：
 * • 類型：Shared Layer - Utility
 * • 依賴：無
 *
 * ⚠️ 架構規則 (Immutable)：
 * • 此檔案的註解格式不可變更
 * • 工具函式必須為純函式，無副作用
 * • 不可依賴任何業務邏輯或外部服務
 *
 * @module SharedUtils
 * @layer Shared
 * @context Cross-Domain Utilities
 * @see docs/architecture/shared.md
 *
 * @example
 * import { formatDate, isValidDate } from './DateUtils';
 * const formatted = formatDate(new Date(), 'YYYY-MM-DD');
 */
```

---

## ✅ 檢核清單

使用此註解格式前，請確認：

- [ ] 所有必填欄位均已填寫
- [ ] `@layer` 值符合專案架構分層定義
- [ ] `依賴` 欄位準確反映直接依賴關係
- [ ] `架構規則` 區域包含該檔案的具體約束
- [ ] `@example` 提供實際可用的程式碼範例
- [ ] 涉及安全敏感邏輯時已填寫 Security 注意事項

---

## 🚫 重要提醒

1. **此規範為不可變更文件 (Immutable)**，任何修改需經過架構委員會審核
2. **所有專案檔案** 必須遵循此註解格式，無例外
3. **定期檢查** 確保既有檔案符合最新規範要求
4. **工具支援** 建議整合 ESLint 規則自動檢查註解完整性

---

*© 2025 NG-AC Team. All rights reserved. This document is immutable and must not be modified without architectural committee approval.*
