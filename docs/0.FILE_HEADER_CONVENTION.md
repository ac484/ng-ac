# FILE HEADER CONVENTION
統一檔案頂部註解規範

## 🎯 目的
提供統一的檔案頂部註解格式，確保專案架構文件註解具備一致性、可維護性、可追溯性。

**此規範為不可變更文件，任何專案均需遵守。**

---

## 📌 標準註解格式

```typescript
/**
 * @fileoverview <檔案職責與描述>
 * @author NG-AC Team
 * @version 1.0.0
 * @lastModified YYYY-MM-DD by <開發者名稱>
 *
 * 📋 檔案性質：
 * • 類型：<所屬分層 + 檔案種類>
 * • 依賴：<直接依賴項目 | 無>
 *
 * ⚠️ 架構規則 (Immutable)：
 * • 此檔案的註解格式不可變更
 * • [具體架構約束1]
 * • [具體架構約束2]
 *
 * @module <Domain>
 * @layer <Layer>
 * @context <Business Context>
 * @see docs/architecture/<相關文件>.md
 *
 * @example
 * import { <Export> } from './path';
 * const instance = new <Export>();
 *
 * 🔒 Security: <安全注意事項，如有>
 */
```

---

## 📝 欄位說明

### 必填欄位
- `@fileoverview`：檔案職責與描述
- `@author`：固定填入 `NG-AC Team`
- `@version`：語義化版本號
- `@lastModified`：最後修改資訊
- `類型`：所屬分層 + 檔案種類
- `@module`：模組名稱
- `@layer`：架構分層
- `@context`：業務上下文

### 選填欄位
- `依賴`：直接依賴檔案或模組，無則填「無」
- `@see`：相關架構文件連結
- `@example`：使用範例程式碼
- `🔒 Security`：安全注意事項

---

## 🏗️ 分層對應表

| 專案目錄 | @layer 值 | 檔案類型範例 |
|----------|-----------|-------------|
| src/app/domain | `Domain` | Entity, Value Object, Domain Service |
| src/app/application | `Application` | Use Case, Application Service, DTO |
| src/app/infrastructure | `Infrastructure` | Repository Impl, Database, External API |
| src/app/interface | `Interface` | Controller, API Route, Middleware |
| src/app/core | `Core` | Base Classes, Abstract Classes, Interfaces |
| src/app/modules | `Modules` | Service Registration, Module Configuration |
| src/app/security | `Security` | Auth, Guard, Interceptor, JWT |
| src/app/shared | `Shared` | Utilities, Constants, Types, Common Components |

---

## 📋 應用範例

### Domain Entity 範例
```typescript
/**
 * @fileoverview User 實體定義，包含用戶核心業務邏輯與驗證規則
 * @author NG-AC Team
 * @version 1.0.0
 * @lastModified 2025-08-17 by Spades Seven
 *
 * 📋 檔案性質：
 * • 類型：Domain Layer - Entity
 * • 依賴：UserVO.ts, Email.ts
 *
 * ⚠️ 架構規則 (Immutable)：
 * • 此檔案的註解格式不可變更
 * • Entity 不可依賴外部服務或基礎設施
 * • 所有業務規則必須封裝在 Entity 內部
 *
 * @module UserDomain
 * @layer Domain
 * @context User Management
 * @see docs/architecture/domain.md
 *
 * @example
 * import { User } from './User';
 * const user = User.create({ name: 'John', email: 'john@example.com' });
 *
 * 🔒 Security: 包含用戶敏感資料，請確保適當的存取控制
 */
```

### Security Service 範例
```typescript
/**
 * @fileoverview JWT 認證服務，處理用戶登入驗證與 Token 管理
 * @author NG-AC Team
 * @version 1.0.0
 * @lastModified 2025-08-17 by Bob Chen
 *
 * 📋 檔案性質：
 * • 類型：Security Layer - Service
 * • 依賴：jsonwebtoken, UserRepository.ts
 *
 * ⚠️ 架構規則 (Immutable)：
 * • 此檔案的註解格式不可變更
 * • Security Service 必須遵循最小權限原則
 * • 敏感操作必須記錄操作日誌
 *
 * @module AuthSecurity
 * @layer Security
 * @context Authentication & Authorization
 * @see docs/architecture/security.md
 *
 * @example
 * import { JwtService } from './JwtService';
 * const jwtService = new JwtService();
 * const token = await jwtService.generateToken(user);
 *
 * 🔒 Security: 此模組處理認證邏輯，請確保密鑰安全性
 */
```

---

## ✅ 檢核清單

- [ ] 所有必填欄位均已填寫
- [ ] `@layer` 值符合專案架構分層定義
- [ ] `依賴` 欄位準確反映直接依賴關係
- [ ] `架構規則` 區域包含該檔案的具體約束
- [ ] `@example` 提供實際可用的程式碼範例
- [ ] 涉及安全敏感邏輯時已填寫 Security 注意事項

---

**重要提醒**：此規範為不可變更文件，所有專案檔案必須遵循此註解格式。

*© 2025 NG-AC Team. All rights reserved.*
