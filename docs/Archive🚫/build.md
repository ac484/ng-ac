# NG-AC DDD æ¶æ§‹æ§‹å»ºæŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æª”åŸºæ–¼å° `docs/ng-alain` åƒè€ƒçµæ§‹çš„åˆ†æï¼ŒæŒ‡å‡ºç•¶å‰ DDD æ¶æ§‹éœ€è¦è£œå……çš„é—œéµæ–‡ä»¶ï¼Œä»¥å¯¦ç¾å®Œæ•´çš„ä¼æ¥­ç´šæ‡‰ç”¨åŠŸèƒ½ã€‚é …ç›®ä½¿ç”¨ `@angular/fire` > `firebase` > `firestore` ä½œç‚ºæ•¸æ“šåº«è§£æ±ºæ–¹æ¡ˆï¼Œä¸¦åªä½¿ç”¨ Angular å®˜æ–¹çµ„ä»¶ã€‚

## ğŸ” æ¶æ§‹å·®ç•°åˆ†æ

### ç•¶å‰ DDD æ¶æ§‹ç‹€æ…‹
- âœ… åŸºç¤ DDD å±¤ç´šçµæ§‹å®Œæ•´
- âœ… é ˜åŸŸå±¤ã€æ‡‰ç”¨å±¤ã€åŸºç¤è¨­æ–½å±¤ç­‰æ ¸å¿ƒå±¤ç´šå·²å»ºç«‹
- âœ… åŸºæœ¬çš„å¯¦é«”ã€æœå‹™ã€å€‰å„²æ¥å£å·²å®šç¾©
- âœ… **Firebase é…ç½®å·²å®Œæˆ** - æ‰€æœ‰ä¸»è¦ Firebase æœå‹™å·²é…ç½®
- âŒ **Firebase æœå‹™å±¤æœªå¯¦ç¾** - éœ€è¦å¯¦ç¾å…·é«”çš„æœå‹™é‚è¼¯
- âŒ **Firebase å€‰å„²å±¤æœªå¯¦ç¾** - éœ€è¦å¯¦ç¾æ•¸æ“šå­˜å–é‚è¼¯

### èˆ‡ ng-alain åƒè€ƒçš„å·®ç•°
- âŒ ç¼ºå°‘å®Œæ•´çš„ä½ˆå±€ç³»çµ±
- âŒ ç¼ºå°‘å®Œæ•´çš„è·¯ç”±é…ç½®
- âœ… Firebase é›†æˆé…ç½®å·²å®Œæˆ
- âŒ ç¼ºå°‘å®Œæ•´çš„é é¢çµ„ä»¶
- âŒ ç¼ºå°‘èªè­‰å’Œæˆæ¬Šå¯¦ç¾

## ğŸš€ éœ€è¦è£œå……çš„é—œéµæ–‡ä»¶

### 1. **Firebase é…ç½®å’Œæœå‹™** ğŸ”„ **éƒ¨åˆ†å®Œæˆ (30%)**

```typescript
// âœ… å·²åœ¨ app.config.ts ä¸­å®Œæˆé…ç½®
// åŒ…å«ä»¥ä¸‹æœå‹™ï¼š
// - Firebase App (å°ˆæ¡ˆé…ç½®)
// - Firebase Auth (èº«ä»½é©—è­‰)
// - Firebase Analytics (åˆ†æ)
// - Firebase App Check (å®‰å…¨é©—è­‰)
// - Firebase Firestore (è³‡æ–™åº«)
// - Firebase Functions (é›²ç«¯å‡½æ•¸)
// - Firebase Messaging (æ¨æ’­é€šçŸ¥)
// - Firebase Performance (æ•ˆèƒ½ç›£æ§)
// - Firebase Storage (æª”æ¡ˆå„²å­˜)
// - Firebase Remote Config (é ç«¯é…ç½®)
// - Firebase VertexAI (AI æœå‹™)
```

**éœ€è¦è£œå……çš„æ–‡ä»¶ï¼š**
```typescript
// src/app/infrastructure/config/firebase/
â”œâ”€â”€ firebase.module.ts          # Firebase æ¨¡çµ„é…ç½®
â””â”€â”€ index.ts

// src/app/infrastructure/persistence/firebase/
â”œâ”€â”€ firebase.service.ts         # Firebase åŸºç¤æœå‹™
â”œâ”€â”€ firestore.service.ts        # Firestore æœå‹™
â”œâ”€â”€ auth.service.ts             # Firebase Auth æœå‹™
â””â”€â”€ index.ts
```

### 2. **å®Œæ•´çš„ä½ˆå±€ç³»çµ±** âŒ **å¾…å¯¦ç¾**

```typescript
// src/app/interface/layouts/
â”œâ”€â”€ basic/
â”‚   â”œâ”€â”€ basic.layout.ts         # ä¸»ä½ˆå±€çµ„ä»¶
â”‚   â”œâ”€â”€ basic.layout.html       # ä¸»ä½ˆå±€æ¨¡æ¿
â”‚   â”œâ”€â”€ basic.layout.scss       # ä¸»ä½ˆå±€æ¨£å¼
â”‚   â”œâ”€â”€ widgets/                # ä½ˆå±€å°éƒ¨ä»¶
â”‚   â”‚   â”œâ”€â”€ header-user/
â”‚   â”‚   â”œâ”€â”€ header-search/
â”‚   â”‚   â”œâ”€â”€ header-notify/
â”‚   â”‚   â””â”€â”€ sidebar-menu/
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ passport/
â”‚   â”œâ”€â”€ passport.layout.ts      # èªè­‰ä½ˆå±€
â”‚   â”œâ”€â”€ passport.layout.html
â”‚   â”œâ”€â”€ passport.layout.scss
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

### 3. **å®Œæ•´çš„è·¯ç”±ç³»çµ±** âŒ **å¾…å¯¦ç¾**

```typescript
// src/app/interface/routes/
â”œâ”€â”€ routes.ts                   # ä¸»è·¯ç”±é…ç½®
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ auth.routes.ts         # èªè­‰è·¯ç”±
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ dashboard.routes.ts    # å„€è¡¨æ¿è·¯ç”±
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ user.routes.ts         # ç”¨æˆ¶ç®¡ç†è·¯ç”±
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

### 4. **å®Œæ•´çš„é é¢çµ„ä»¶** âŒ **å¾…å¯¦ç¾**

```typescript
// src/app/interface/pages/
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ login.page.ts
â”‚   â”‚   â”œâ”€â”€ login.page.html
â”‚   â”‚   â”œâ”€â”€ login.page.scss
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ register/
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ dashboard.page.ts
â”‚   â”œâ”€â”€ dashboard.page.html
â”‚   â”œâ”€â”€ dashboard.page.scss
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ user-list/
â”‚   â”œâ”€â”€ user-detail/
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

### 5. **Firebase å€‰å„²å¯¦ç¾** âŒ **å¾…å¯¦ç¾**

```typescript
// src/app/infrastructure/persistence/repositories/
â”œâ”€â”€ firebase/
â”‚   â”œâ”€â”€ firebase-base.repository.ts    # Firebase åŸºç¤å€‰å„²
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ user.firebase.repository.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ organization/
â”‚   â””â”€â”€ index.ts
â””â”€â”€ index.ts
```

### 6. **èªè­‰æœå‹™æ•´åˆ** âŒ **å¾…å¯¦ç¾**

```typescript
// src/app/security/authentication/services/
â”œâ”€â”€ firebase-auth.service.ts    # Firebase èªè­‰æœå‹™
â”œâ”€â”€ auth-guard.service.ts       # èªè­‰å®ˆè¡›æœå‹™
â””â”€â”€ index.ts

// src/app/security/authentication/guards/
â”œâ”€â”€ auth.guard.ts               # èªè­‰å®ˆè¡›
â”œâ”€â”€ role.guard.ts               # è§’è‰²å®ˆè¡›
â””â”€â”€ index.ts
```

### 7. **ç’°å¢ƒé…ç½®** âœ… **éƒ¨åˆ†å®Œæˆ**

```typescript
// src/environments/
â”œâ”€â”€ environment.ts              # âœ… å·²æœ‰
â”œâ”€â”€ environment.prod.ts         # âœ… å·²æœ‰
â””â”€â”€ firebase.config.ts          # âŒ éœ€è¦å¾ app.config.ts æå–
```

## ğŸ“¦ ä¾è³´ç‹€æ…‹æª¢æŸ¥

### âœ… **å·²å®‰è£çš„ä¾è³´**
```bash
# Firebase ç›¸é—œ - å·²å®Œæˆ
@angular/fire
firebase

# Angular æ ¸å¿ƒ - å·²å®Œæˆ
@angular/core
@angular/common
@angular/router
@angular/platform-browser
@angular/animations
```

### âŒ **éœ€è¦å®‰è£çš„ä¾è³´**
```bash
# Angular Material (æ›¿ä»£ ng-zorro-antd)
pnpm add @angular/material @angular/cdk

# åœ–æ¨™
pnpm add @angular/material/icon

# è¡¨å–®
pnpm add @angular/forms @angular/material/form-field

# HTTP (æª¢æŸ¥æ˜¯å¦å·²å®‰è£)
pnpm add @angular/common/http
```

## ğŸ—‚ï¸ ç•¶å‰ç›®éŒ„çµæ§‹ç‹€æ…‹

```
src/app/
â”œâ”€â”€ app.component.ts            # âœ… å·²æœ‰
â”œâ”€â”€ app.config.ts              # âœ… å·²æœ‰ (åŒ…å«å®Œæ•´ Firebase é…ç½®)
â”œâ”€â”€ app.routes.ts              # âœ… å·²æœ‰
â”‚
â”œâ”€â”€ core/                      # âœ… å·²æœ‰ï¼Œéœ€è¦æ“´å±•
â”‚   â”œâ”€â”€ firebase/              # ğŸ†• æ–°å¢ (é…ç½®å·²å­˜åœ¨ï¼Œéœ€è¦æ¨¡çµ„åŒ–)
â”‚   â”‚   â”œâ”€â”€ firebase.config.ts # âœ… é…ç½®å·²åœ¨ app.config.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ interface/                 # âœ… å·²æœ‰ï¼Œéœ€è¦æ“´å±•
â”‚   â”œâ”€â”€ layouts/               # ğŸ†• æ–°å¢å®Œæ•´ä½ˆå±€
â”‚   â”œâ”€â”€ pages/                 # ğŸ†• æ–°å¢å®Œæ•´é é¢
â”‚   â”œâ”€â”€ routes/                # ğŸ†• æ–°å¢è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ infrastructure/            # âœ… å·²æœ‰ï¼Œéœ€è¦æ“´å±•
â”‚   â”œâ”€â”€ firebase/              # ğŸ†• æ–°å¢
â”‚   â”‚   â”œâ”€â”€ config/            # âœ… é…ç½®å·²å®Œæˆ
â”‚   â”‚   â”œâ”€â”€ services/          # ğŸ†• æ–°å¢æœå‹™å±¤
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â”‚
â””â”€â”€ security/                  # âœ… å·²æœ‰ï¼Œéœ€è¦æ“´å±•
    â”œâ”€â”€ firebase/              # ğŸ†• æ–°å¢
    â”‚   â”œâ”€â”€ auth/              # ğŸ†• æ–°å¢èªè­‰æœå‹™
    â”‚   â””â”€â”€ index.ts
    â””â”€â”€ index.ts
```

## ğŸ¯ å¯¦ç¾å„ªå…ˆç´š (å·²èª¿æ•´)

### **é«˜å„ªå…ˆç´š (å¿…é ˆå¯¦ç¾)**
1. **ğŸ”„ Firebase é…ç½®å’Œæœå‹™** - **éƒ¨åˆ†å®Œæˆ (30%)**
   - âœ… å»ºç«‹ Firebase é€£æ¥
   - âœ… é…ç½® Firestore æ•¸æ“šåº«
   - âœ… è¨­ç½® Firebase Auth
   - ğŸ”„ éœ€è¦å¯¦ç¾æœå‹™å±¤å’Œå€‰å„²å±¤

2. **åŸºæœ¬ä½ˆå±€çµ„ä»¶** - **ç«‹å³é–‹å§‹**
   - ä¸»ä½ˆå±€ (Basic Layout)
   - èªè­‰ä½ˆå±€ (Passport Layout)
   - éŸ¿æ‡‰å¼è¨­è¨ˆ

3. **èªè­‰é é¢** - **é«˜å„ªå…ˆç´š**
   - ç™»éŒ„é é¢
   - è¨»å†Šé é¢
   - èªè­‰å®ˆè¡›

4. **è·¯ç”±é…ç½®** - **é«˜å„ªå…ˆç´š**
   - ä¸»è·¯ç”±é…ç½®
   - æ‡¶åŠ è¼‰é…ç½®
   - è·¯ç”±å®ˆè¡›

### **ä¸­å„ªå…ˆç´š (é‡è¦åŠŸèƒ½)**
1. **å„€è¡¨æ¿é é¢**
   - ä¸»å„€è¡¨æ¿
   - æ•¸æ“šå±•ç¤ºçµ„ä»¶
   - çµ±è¨ˆåœ–è¡¨

2. **ç”¨æˆ¶ç®¡ç†é é¢**
   - ç”¨æˆ¶åˆ—è¡¨
   - ç”¨æˆ¶è©³æƒ…
   - ç”¨æˆ¶ç·¨è¼¯

3. **æ¬Šé™æ§åˆ¶**
   - è§’è‰²ç®¡ç†
   - æ¬Šé™åˆ†é…
   - è¨ªå•æ§åˆ¶

### **ä½å„ªå…ˆç´š (å¢å¼·åŠŸèƒ½)**
1. **é«˜ç´šä½ˆå±€å°éƒ¨ä»¶**
   - æœç´¢çµ„ä»¶
   - é€šçŸ¥çµ„ä»¶
   - ç”¨æˆ¶èœå–®

2. **ä¸»é¡Œåˆ‡æ›**
   - æ˜æš—ä¸»é¡Œ
   - é¡è‰²é…ç½®
   - è‡ªå®šç¾©æ¨£å¼

3. **å¤šèªè¨€æ”¯æŒ**
   - åœ‹éš›åŒ–é…ç½®
   - èªè¨€åˆ‡æ›
   - ç¿»è­¯æ–‡ä»¶

## ğŸ”§ å¯¦ç¾æ­¥é©Ÿ (å·²èª¿æ•´)

### ğŸ”„ **ç¬¬ä¸€æ­¥ï¼šFirebase é…ç½®** - **éƒ¨åˆ†å®Œæˆ (30%)**
1. âœ… å®‰è£ Firebase ä¾è³´
2. âœ… å‰µå»º Firebase é…ç½®æ–‡ä»¶
3. âœ… é…ç½®ç’°å¢ƒè®Šé‡
4. ğŸ”„ å»ºç«‹ Firebase æœå‹™å±¤ (é€²è¡Œä¸­)

### ğŸ”„ **ç¬¬äºŒæ­¥ï¼šä½ˆå±€ç³»çµ±** - **ç«‹å³é–‹å§‹**
1. å‰µå»ºåŸºæœ¬ä½ˆå±€çµ„ä»¶
2. å¯¦ç¾éŸ¿æ‡‰å¼è¨­è¨ˆ
3. æ·»åŠ å°èˆªçµ„ä»¶
4. é…ç½®ä½ˆå±€è·¯ç”±

### ğŸ”„ **ç¬¬ä¸‰æ­¥ï¼šèªè­‰ç³»çµ±** - **é«˜å„ªå…ˆç´š**
1. å¯¦ç¾ Firebase Auth æœå‹™å±¤
2. å‰µå»ºèªè­‰é é¢
3. é…ç½®èªè­‰å®ˆè¡›
4. è¨­ç½®æ¬Šé™æ§åˆ¶

### ğŸ”„ **ç¬¬å››æ­¥ï¼šé é¢çµ„ä»¶** - **ä¸­å„ªå…ˆç´š**
1. å‰µå»ºå„€è¡¨æ¿é é¢
2. å¯¦ç¾ç”¨æˆ¶ç®¡ç†
3. æ·»åŠ æ¥­å‹™åŠŸèƒ½
4. å„ªåŒ–ç”¨æˆ¶é«”é©—

## ğŸ“ æ³¨æ„äº‹é …

### æ¶æ§‹åŸå‰‡
- åš´æ ¼éµå¾ª DDD åˆ†å±¤æ¶æ§‹
- ä¿æŒä¾è³´æ–¹å‘æ­£ç¢ºï¼ˆå¤–å±¤ä¾è³´å…§å±¤ï¼‰
- ä½¿ç”¨æ¥å£é€²è¡Œè§£è€¦
- å¯¦ç¾ä¾è³´æ³¨å…¥

### ä»£ç¢¼è¦ç¯„
- æ¯å€‹æ¨¡çµ„éƒ½æœ‰ `index.ts` çµ±ä¸€å°å‡º
- ä½¿ç”¨ TypeScript åš´æ ¼æ¨¡å¼
- éµå¾ª Angular æœ€ä½³å¯¦è¸
- å¯¦ç¾å®Œæ•´çš„éŒ¯èª¤è™•ç†

### æ€§èƒ½å„ªåŒ–
- ä½¿ç”¨æ‡¶åŠ è¼‰è·¯ç”±
- å¯¦ç¾çµ„ä»¶ OnPush ç­–ç•¥
- å„ªåŒ– Firebase æŸ¥è©¢
- å¯¦ç¾é©ç•¶çš„ç·©å­˜ç­–ç•¥

### Firebase é…ç½®æ³¨æ„äº‹é …
- âœ… Firebase å°ˆæ¡ˆé…ç½®å·²å®Œæˆ (å°ˆæ¡ˆ ID: acc-ng)
- âœ… æ‰€æœ‰ä¸»è¦ Firebase æœå‹™å·²å•Ÿç”¨
- âœ… App Check å·²é…ç½® reCAPTCHA Enterprise
- ğŸ”„ éœ€è¦å¯¦ç¾æœå‹™å±¤å’Œå€‰å„²å±¤
- ğŸ”„ éœ€è¦å¾ app.config.ts æå–é…ç½®åˆ°ç’°å¢ƒæ–‡ä»¶

## ğŸš€ ä¸‹ä¸€æ­¥è¡Œå‹• (å·²èª¿æ•´)

1. **ç«‹å³é–‹å§‹**ï¼šFirebase æœå‹™å±¤å’Œå€‰å„²å±¤å¯¦ç¾
2. **æœ¬é€±å®Œæˆ**ï¼šèªè­‰ç³»çµ±å’Œè·¯ç”±é…ç½®
3. **ä¸‹é€±å®Œæˆ**ï¼šä¸»è¦é é¢çµ„ä»¶
4. **æŒçºŒå„ªåŒ–**ï¼šæ€§èƒ½èª¿å„ªå’Œç”¨æˆ¶é«”é©—æ”¹é€²

## ğŸ‰ é€²åº¦ç¸½çµ

### âœ… **å·²å®Œæˆ**
- Firebase åŸºç¤é…ç½® (100%)
- Firebase æœå‹™å•Ÿç”¨ (100%)
- æ‡‰ç”¨åŸºç¤æ¶æ§‹ (100%)

### ğŸ”„ **é€²è¡Œä¸­**
- Firebase æœå‹™å±¤å¯¦ç¾ (30%)
- åŸºç¤è¨­æ–½å±¤æ“´å±• (40%)

### âŒ **å¾…é–‹å§‹**
- ä½ˆå±€ç³»çµ± (0%)
- é é¢çµ„ä»¶ (0%)
- èªè­‰ç³»çµ± (0%)
- è·¯ç”±é…ç½® (0%)

---

*æœ¬æ–‡æª”å·²æ ¹æ“š app.config.ts å¯¦éš›å…§å®¹æ›´æ–°ï¼ŒFirebase é…ç½®éƒ¨åˆ†å·²å®Œæˆï¼Œä½†æœå‹™å±¤å’Œå€‰å„²å±¤ä»éœ€å¯¦ç¾*
