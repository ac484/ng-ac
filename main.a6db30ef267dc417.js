"use strict";(self.webpackChunkng_ac=self.webpackChunkng_ac||[]).push([[8792],{175:(Hn,vt,I)=>{I.d(vt,{H:()=>B});var L=I(433),a=I(4602);function B(_e,$e){return(0,a.T)($e)?(0,L.Z)(_e,$e,1):(0,L.Z)(_e,1)}},204:(Hn,vt,I)=>{I.d(vt,{of:()=>B});var L=I(6579),a=I(3840);function B(..._e){const $e=(0,L.lI)(_e);return(0,a.H)(_e,$e)}},300:(Hn,vt,I)=>{I.d(vt,{l:()=>B});var L=I(5967),a=I(4602);function B(_e){return(0,a.T)(_e[L.s])}},305:(Hn,vt,I)=>{I.d(vt,{nX:()=>At,_d:()=>ai,Pu:()=>bc,Zp:()=>ui,nU:()=>sr,wU:()=>Tr,c1:()=>eo,XR:()=>Sc,wF:()=>Cr,lW:()=>Pn,mo:()=>Pt,Z:()=>Pi,J2:()=>Zs,J_:()=>ha,bw:()=>xi,tD:()=>Ji,Ix:()=>Jo,D$:()=>Gi,n3:()=>ro,OY:()=>Ui,Sd:()=>Gn,bK:()=>xa,gk:()=>ea,Lg:()=>nu,wO:()=>ie,Us:()=>be,we:()=>Ko});var L=I(1698),a=I(9125),B=I(7385),_e=I(2425),$e=I(8551),ct=I(3840),j=I(204),fe=I(9477),Ae=I(6031);const ye=(0,I(2336).L)(D=>function(){D(this),this.name="EmptyError",this.message="no elements in sequence"});var He=I(8242),kt=I(3273),zt=I(5122),Xt=I(3919),An=I(2120),_n=I(3590),yt=I(579),wn=I(7014),Sn=I(1896),Ge=I(1215),Ot=I(2983),Je=I(7694),Et=I(8781),tn=I(9295),_t=I(433),$t=I(3731),Tn=I(5015);function er(D){return(0,$t.N)((M,b)=>{let N=!1;M.subscribe((0,Tn._)(b,q=>{N=!0,b.next(q)},()=>{N||b.next(D),b.complete()}))})}function On(D=rr){return(0,$t.N)((M,b)=>{let N=!1;M.subscribe((0,Tn._)(b,q=>{N=!0,b.next(q)},()=>N?b.complete():b.error(D())))})}function rr(){return new ye}var pr=I(560);function st(D,M){const b=arguments.length>=2;return N=>N.pipe(D?(0,tn.p)((q,le)=>D(q,le,N)):pr.D,(0,Je.s)(1),b?er(M):On(()=>new ye))}var Rn=I(175),de=I(2652),at=I(3638);function ge(D){return D<=0?()=>An.w:(0,$t.N)((M,b)=>{let N=[];M.subscribe((0,Tn._)(b,q=>{N.push(q),D<N.length&&N.shift()},()=>{for(const q of N)b.next(q);b.complete()},void 0,()=>{N=null}))})}var pe=I(4147),et=I(3881),Ye=I(2316),Le=I(9558);const Re="primary",sn=Symbol("RouteTitle");class Jt{params;constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const b=this.params[M];return Array.isArray(b)?b[0]:b}return null}getAll(M){if(this.has(M)){const b=this.params[M];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function vn(D){return new Jt(D)}function ur(D,M,b){const N=b.path.split("/");if(N.length>D.length||"full"===b.pathMatch&&(M.hasChildren()||N.length<D.length))return null;const q={};for(let le=0;le<N.length;le++){const We=N[le],bt=D[le];if(":"===We[0])q[We.substring(1)]=bt;else if(We!==bt.path)return null}return{consumed:D.slice(0,N.length),posParams:q}}function Ft(D,M){const b=D?En(D):void 0,N=M?En(M):void 0;if(!b||!N||b.length!=N.length)return!1;let q;for(let le=0;le<b.length;le++)if(q=b[le],!an(D[q],M[q]))return!1;return!0}function En(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function an(D,M){if(Array.isArray(D)&&Array.isArray(M)){if(D.length!==M.length)return!1;const b=[...D].sort(),N=[...M].sort();return b.every((q,le)=>N[le]===q)}return D===M}function _r(D){return D.length>0?D[D.length-1]:null}function lr(D){return(0,$e.A)(D)?D:(0,B.yLl)(D)?(0,ct.H)(Promise.resolve(D)):(0,j.of)(D)}const Zr={exact:function Ci(D,M,b){if(!Ht(D.segments,M.segments)||!Gr(D.segments,M.segments,b)||D.numberOfChildren!==M.numberOfChildren)return!1;for(const N in M.children)if(!D.children[N]||!Ci(D.children[N],M.children[N],b))return!1;return!0},subset:si},Kr={exact:function Vn(D,M){return Ft(D,M)},subset:function Xr(D,M){return Object.keys(M).length<=Object.keys(D).length&&Object.keys(M).every(b=>an(D[b],M[b]))},ignored:()=>!0};function mi(D,M,b){return Zr[b.paths](D.root,M.root,b.matrixParams)&&Kr[b.queryParams](D.queryParams,M.queryParams)&&!("exact"===b.fragment&&D.fragment!==M.fragment)}function si(D,M,b){return Kn(D,M,M.segments,b)}function Kn(D,M,b,N){if(D.segments.length>b.length){const q=D.segments.slice(0,b.length);return!(!Ht(q,b)||M.hasChildren()||!Gr(q,b,N))}if(D.segments.length===b.length){if(!Ht(D.segments,b)||!Gr(D.segments,b,N))return!1;for(const q in M.children)if(!D.children[q]||!si(D.children[q],M.children[q],N))return!1;return!0}{const q=b.slice(0,D.segments.length),le=b.slice(D.segments.length);return!!(Ht(D.segments,q)&&Gr(D.segments,q,N)&&D.children[Re])&&Kn(D.children[Re],M,le,N)}}function Gr(D,M,b){return M.every((N,q)=>Kr[b](D[q].parameters,N.parameters))}class _i{root;queryParams;fragment;_queryParamMap;constructor(M=new Xn([],{}),b={},N=null){this.root=M,this.queryParams=b,this.fragment=N}get queryParamMap(){return this._queryParamMap??=vn(this.queryParams),this._queryParamMap}toString(){return Pr.serialize(this)}}class Xn{segments;children;parent=null;constructor(M,b){this.segments=M,this.children=b,Object.values(b).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gr(this)}}class Ct{path;parameters;_parameterMap;constructor(M,b){this.path=M,this.parameters=b}get parameterMap(){return this._parameterMap??=vn(this.parameters),this._parameterMap}toString(){return ei(this)}}function Ht(D,M){return D.length===M.length&&D.every((b,N)=>b.path===M[N].path)}let Gn=(()=>{class D{static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:()=>new sr,providedIn:"root"})}return D})();class sr{parse(M){const b=new Ki(M);return new _i(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(M){const b=`/${Jr(M.root,!0)}`,N=function Un(D){const M=Object.entries(D).map(([b,N])=>Array.isArray(N)?N.map(q=>`${Nn(b)}=${Nn(q)}`).join("&"):`${Nn(b)}=${Nn(N)}`).filter(b=>b);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${b}${N}${"string"==typeof M.fragment?`#${function xr(D){return encodeURI(D)}(M.fragment)}`:""}`}}const Pr=new sr;function gr(D){return D.segments.map(M=>ei(M)).join("/")}function Jr(D,M){if(!D.hasChildren())return gr(D);if(M){const b=D.children[Re]?Jr(D.children[Re],!1):"",N=[];return Object.entries(D.children).forEach(([q,le])=>{q!==Re&&N.push(`${q}:${Jr(le,!1)}`)}),N.length>0?`${b}(${N.join("//")})`:b}{const b=function It(D,M){let b=[];return Object.entries(D.children).forEach(([N,q])=>{N===Re&&(b=b.concat(M(q,N)))}),Object.entries(D.children).forEach(([N,q])=>{N!==Re&&(b=b.concat(M(q,N)))}),b}(D,(N,q)=>q===Re?[Jr(D.children[Re],!1)]:[`${q}:${Jr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Re]?`${gr(D)}/${b[0]}`:`${gr(D)}/(${b.join("//")})`}}function Ur(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nn(D){return Ur(D).replace(/%3B/gi,";")}function yr(D){return Ur(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function br(D){return decodeURIComponent(D)}function yi(D){return br(D.replace(/\+/g,"%20"))}function ei(D){return`${yr(D.path)}${function Er(D){return Object.entries(D).map(([M,b])=>`;${yr(M)}=${yr(b)}`).join("")}(D.parameters)}`}const fn=/^[^\/()?;#]+/;function Bt(D){const M=D.match(fn);return M?M[0]:""}const pn=/^[^\/()?;=#]+/,dr=/^[^=?&#]+/,Ir=/^[^&#]+/;class Ki{url;remaining;constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(M.length>0||Object.keys(b).length>0)&&(N[Re]=new Xn(M,b)),N}parseSegment(){const M=Bt(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new L.buA(4009,!1);return this.capture(M),new Ct(br(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const b=function bn(D){const M=D.match(pn);return M?M[0]:""}(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const q=Bt(this.remaining);q&&(N=q,this.capture(N))}M[br(b)]=br(N)}parseQueryParam(M){const b=function ir(D){const M=D.match(dr);return M?M[0]:""}(this.remaining);if(!b)return;this.capture(b);let N="";if(this.consumeOptional("=")){const We=function qr(D){const M=D.match(Ir);return M?M[0]:""}(this.remaining);We&&(N=We,this.capture(N))}const q=yi(b),le=yi(N);if(M.hasOwnProperty(q)){let We=M[q];Array.isArray(We)||(We=[We],M[q]=We),We.push(le)}else M[q]=le}parseParens(M){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Bt(this.remaining),q=this.remaining[N.length];if("/"!==q&&")"!==q&&";"!==q)throw new L.buA(4010,!1);let le;N.indexOf(":")>-1?(le=N.slice(0,N.indexOf(":")),this.capture(le),this.capture(":")):M&&(le=Re);const We=this.parseChildren();b[le]=1===Object.keys(We).length?We[Re]:new Xn([],We),this.consumeOptional("//")}return b}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new L.buA(4011,!1)}}function Ii(D){return D.segments.length>0?new Xn([],{[Re]:D}):D}function Ve(D){const M={};for(const[N,q]of Object.entries(D.children)){const le=Ve(q);if(N===Re&&0===le.segments.length&&le.hasChildren())for(const[We,bt]of Object.entries(le.children))M[We]=bt;else(le.segments.length>0||le.hasChildren())&&(M[N]=le)}return function ce(D){if(1===D.numberOfChildren&&D.children[Re]){const M=D.children[Re];return new Xn(D.segments.concat(M.segments),M.children)}return D}(new Xn(D.segments,M))}function ie(D){return D instanceof _i}function ze(D){let M;const q=Ii(function b(le){const We={};for(const xt of le.children){const Sr=b(xt);We[xt.outlet]=Sr}const bt=new Xn(le.url,We);return le===D&&(M=bt),bt}(D.root));return M??q}function ve(D,M,b,N){let q=D;for(;q.parent;)q=q.parent;if(0===M.length)return O(q,q,q,b,N);const le=function Ke(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Z(!0,0,D);let M=0,b=!1;const N=D.reduce((q,le,We)=>{if("object"==typeof le&&null!=le){if(le.outlets){const bt={};return Object.entries(le.outlets).forEach(([xt,Sr])=>{bt[xt]="string"==typeof Sr?Sr.split("/"):Sr}),[...q,{outlets:bt}]}if(le.segmentPath)return[...q,le.segmentPath]}return"string"!=typeof le?[...q,le]:0===We?(le.split("/").forEach((bt,xt)=>{0==xt&&"."===bt||(0==xt&&""===bt?b=!0:".."===bt?M++:""!=bt&&q.push(bt))}),q):[...q,le]},[]);return new Z(b,M,N)}(M);if(le.toRoot())return O(q,q,new Xn([],{}),b,N);const We=function ht(D,M,b){if(D.isAbsolute)return new tt(M,!0,0);if(!b)return new tt(M,!1,NaN);if(null===b.parent)return new tt(b,!0,0);const N=z(D.commands[0])?0:1;return function rn(D,M,b){let N=D,q=M,le=b;for(;le>q;){if(le-=q,N=N.parent,!N)throw new L.buA(4005,!1);q=N.segments.length}return new tt(N,!1,q-le)}(b,b.segments.length-1+N,D.numberOfDoubleDots)}(le,q,D),bt=We.processChildren?Mr(We.segmentGroup,We.index,le.commands):Cn(We.segmentGroup,We.index,le.commands);return O(q,We.segmentGroup,bt,b,N)}function z(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ze(D){return"object"==typeof D&&null!=D&&D.outlets}function O(D,M,b,N,q){let We,le={};N&&Object.entries(N).forEach(([xt,Sr])=>{le[xt]=Array.isArray(Sr)?Sr.map(qi=>`${qi}`):`${Sr}`}),We=D===M?b:W(D,M,b);const bt=Ii(Ve(We));return new _i(bt,le,q)}function W(D,M,b){const N={};return Object.entries(D.children).forEach(([q,le])=>{N[q]=le===M?b:W(le,M,b)}),new Xn(D.segments,N)}class Z{isAbsolute;numberOfDoubleDots;commands;constructor(M,b,N){if(this.isAbsolute=M,this.numberOfDoubleDots=b,this.commands=N,M&&N.length>0&&z(N[0]))throw new L.buA(4003,!1);const q=N.find(Ze);if(q&&q!==_r(N))throw new L.buA(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tt{segmentGroup;processChildren;index;constructor(M,b,N){this.segmentGroup=M,this.processChildren=b,this.index=N}}function Cn(D,M,b){if(D??=new Xn([],{}),0===D.segments.length&&D.hasChildren())return Mr(D,M,b);const N=function mr(D,M,b){let N=0,q=M;const le={match:!1,pathIndex:0,commandIndex:0};for(;q<D.segments.length;){if(N>=b.length)return le;const We=D.segments[q],bt=b[N];if(Ze(bt))break;const xt=`${bt}`,Sr=N<b.length-1?b[N+1]:null;if(q>0&&void 0===xt)break;if(xt&&Sr&&"object"==typeof Sr&&void 0===Sr.outlets){if(!li(xt,Sr,We))return le;N+=2}else{if(!li(xt,{},We))return le;N++}q++}return{match:!0,pathIndex:q,commandIndex:N}}(D,M,b),q=b.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const le=new Xn(D.segments.slice(0,N.pathIndex),{});return le.children[Re]=new Xn(D.segments.slice(N.pathIndex),D.children),Mr(le,0,q)}return N.match&&0===q.length?new Xn(D.segments,{}):N.match&&!D.hasChildren()?jr(D,M,b):N.match?Mr(D,0,q):jr(D,M,b)}function Mr(D,M,b){if(0===b.length)return new Xn(D.segments,{});{const N=function gn(D){return Ze(D[0])?D[0].outlets:{[Re]:D}}(b),q={};if(Object.keys(N).some(le=>le!==Re)&&D.children[Re]&&1===D.numberOfChildren&&0===D.children[Re].segments.length){const le=Mr(D.children[Re],M,b);return new Xn(D.segments,le.children)}return Object.entries(N).forEach(([le,We])=>{"string"==typeof We&&(We=[We]),null!==We&&(q[le]=Cn(D.children[le],M,We))}),Object.entries(D.children).forEach(([le,We])=>{void 0===N[le]&&(q[le]=We)}),new Xn(D.segments,q)}}function jr(D,M,b){const N=D.segments.slice(0,M);let q=0;for(;q<b.length;){const le=b[q];if(Ze(le)){const xt=Oi(le.outlets);return new Xn(N,xt)}if(0===q&&z(b[0])){N.push(new Ct(D.segments[M].path,Ni(b[0]))),q++;continue}const We=Ze(le)?le.outlets[Re]:`${le}`,bt=q<b.length-1?b[q+1]:null;We&&bt&&z(bt)?(N.push(new Ct(We,Ni(bt))),q+=2):(N.push(new Ct(We,{})),q++)}return new Xn(N,{})}function Oi(D){const M={};return Object.entries(D).forEach(([b,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(M[b]=jr(new Xn([],{}),0,N))}),M}function Ni(D){const M={};return Object.entries(D).forEach(([b,N])=>M[b]=`${N}`),M}function li(D,M,b){return D==b.path&&Ft(M,b.parameters)}const Tr="imperative";var $n=function(D){return D[D.NavigationStart=0]="NavigationStart",D[D.NavigationEnd=1]="NavigationEnd",D[D.NavigationCancel=2]="NavigationCancel",D[D.NavigationError=3]="NavigationError",D[D.RoutesRecognized=4]="RoutesRecognized",D[D.ResolveStart=5]="ResolveStart",D[D.ResolveEnd=6]="ResolveEnd",D[D.GuardsCheckStart=7]="GuardsCheckStart",D[D.GuardsCheckEnd=8]="GuardsCheckEnd",D[D.RouteConfigLoadStart=9]="RouteConfigLoadStart",D[D.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",D[D.ChildActivationStart=11]="ChildActivationStart",D[D.ChildActivationEnd=12]="ChildActivationEnd",D[D.ActivationStart=13]="ActivationStart",D[D.ActivationEnd=14]="ActivationEnd",D[D.Scroll=15]="Scroll",D[D.NavigationSkipped=16]="NavigationSkipped",D}($n||{});class ii{id;url;constructor(M,b){this.id=M,this.url=b}}class Pi extends ii{type=$n.NavigationStart;navigationTrigger;restoredState;constructor(M,b,N="imperative",q=null){super(M,b),this.navigationTrigger=N,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cr extends ii{urlAfterRedirects;type=$n.NavigationEnd;constructor(M,b,N){super(M,b),this.urlAfterRedirects=N}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Qe=function(D){return D[D.Redirect=0]="Redirect",D[D.SupersededByNewNavigation=1]="SupersededByNewNavigation",D[D.NoDataFromResolver=2]="NoDataFromResolver",D[D.GuardRejected=3]="GuardRejected",D[D.Aborted=4]="Aborted",D}(Qe||{}),Pt=function(D){return D[D.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",D[D.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",D}(Pt||{});class dn extends ii{reason;code;type=$n.NavigationCancel;constructor(M,b,N,q){super(M,b),this.reason=N,this.code=q}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pn extends ii{reason;code;type=$n.NavigationSkipped;constructor(M,b,N,q){super(M,b),this.reason=N,this.code=q}}class or extends ii{error;target;type=$n.NavigationError;constructor(M,b,N,q){super(M,b),this.error=N,this.target=q}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ar extends ii{urlAfterRedirects;state;type=$n.RoutesRecognized;constructor(M,b,N,q){super(M,b),this.urlAfterRedirects=N,this.state=q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ue extends ii{urlAfterRedirects;state;type=$n.GuardsCheckStart;constructor(M,b,N,q){super(M,b),this.urlAfterRedirects=N,this.state=q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends ii{urlAfterRedirects;state;shouldActivate;type=$n.GuardsCheckEnd;constructor(M,b,N,q,le){super(M,b),this.urlAfterRedirects=N,this.state=q,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qe extends ii{urlAfterRedirects;state;type=$n.ResolveStart;constructor(M,b,N,q){super(M,b),this.urlAfterRedirects=N,this.state=q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends ii{urlAfterRedirects;state;type=$n.ResolveEnd;constructor(M,b,N,q){super(M,b),this.urlAfterRedirects=N,this.state=q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class on{route;type=$n.RouteConfigLoadStart;constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ut{route;type=$n.RouteConfigLoadEnd;constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{snapshot;type=$n.ChildActivationStart;constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{snapshot;type=$n.ChildActivationEnd;constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{snapshot;type=$n.ActivationStart;constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ai{snapshot;type=$n.ActivationEnd;constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{routerEvent;position;anchor;type=$n.Scroll;constructor(M,b,N){this.routerEvent=M,this.position=b,this.anchor=N}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bi{}class ti{url;navigationBehaviorOptions;constructor(M,b){this.url=M,this.navigationBehaviorOptions=b}}function be(D){switch(D.type){case $n.ActivationEnd:return`ActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case $n.ActivationStart:return`ActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case $n.ChildActivationEnd:return`ChildActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case $n.ChildActivationStart:return`ChildActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case $n.GuardsCheckEnd:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case $n.GuardsCheckStart:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case $n.NavigationCancel:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case $n.NavigationSkipped:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case $n.NavigationEnd:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case $n.NavigationError:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case $n.NavigationStart:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case $n.ResolveEnd:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case $n.ResolveStart:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case $n.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${D.route.path})`;case $n.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${D.route.path})`;case $n.RoutesRecognized:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case $n.Scroll:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}function qn(D){return D.outlet||Re}function di(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let M=D.parent;M;M=M.parent){const b=M.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class Si{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return di(this.route?.snapshot)??this.rootInjector}constructor(M){this.rootInjector=M,this.children=new ui(this.rootInjector)}}let ui=(()=>{class D{rootInjector;contexts=new Map;constructor(b){this.rootInjector=b}onChildOutletCreated(b,N){const q=this.getOrCreateContext(b);q.outlet=N,this.contexts.set(b,q)}onChildOutletDestroyed(b){const N=this.getContext(b);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let N=this.getContext(b);return N||(N=new Si(this.rootInjector),this.contexts.set(b,N)),N}getContext(b){return this.contexts.get(b)||null}static \u0275fac=function(N){return new(N||D)(L.KVO(L.uvJ))};static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class ji{_root;constructor(M){this._root=M}get root(){return this._root.value}parent(M){const b=this.pathFromRoot(M);return b.length>1?b[b.length-2]:null}children(M){const b=hi(M,this._root);return b?b.children.map(N=>N.value):[]}firstChild(M){const b=hi(M,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(M){const b=Ti(M,this._root);return b.length<2?[]:b[b.length-2].children.map(q=>q.value).filter(q=>q!==M)}pathFromRoot(M){return Ti(M,this._root).map(b=>b.value)}}function hi(D,M){if(D===M.value)return M;for(const b of M.children){const N=hi(D,b);if(N)return N}return null}function Ti(D,M){if(D===M.value)return[M];for(const b of M.children){const N=Ti(D,b);if(N.length)return N.unshift(M),N}return[]}class pt{value;children;constructor(M,b){this.value=M,this.children=b}toString(){return`TreeNode(${this.value})`}}function J(D){const M={};return D&&D.children.forEach(b=>M[b.value.outlet]=b),M}class Me extends ji{snapshot;constructor(M,b){super(M),this.snapshot=b,Br(this,M)}toString(){return this.snapshot.toString()}}function Ie(D){const M=function je(D){const le=new In([],{},{},"",{},Re,D,null,{});return new cr("",new pt(le,[]))}(D),b=new fe.t([new Ct("",{})]),N=new fe.t({}),q=new fe.t({}),le=new fe.t({}),We=new fe.t(""),bt=new At(b,N,le,We,q,Re,D,M.root);return bt.snapshot=M.root,new Me(new pt(bt,[]),M)}class At{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(M,b,N,q,le,We,bt,xt){this.urlSubject=M,this.paramsSubject=b,this.queryParamsSubject=N,this.fragmentSubject=q,this.dataSubject=le,this.outlet=We,this.component=bt,this._futureSnapshot=xt,this.title=this.dataSubject?.pipe((0,Ge.T)(Sr=>Sr[sn]))??(0,j.of)(void 0),this.url=M,this.params=b,this.queryParams=N,this.fragment=q,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ge.T)(M=>vn(M))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ge.T)(M=>vn(M))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zt(D,M,b="emptyOnly"){let N;const{routeConfig:q}=D;return N=null===M||"always"!==b&&""!==q?.path&&(M.component||M.routeConfig?.loadComponent)?{params:{...D.params},data:{...D.data},resolve:{...D.data,...D._resolvedData??{}}}:{params:{...M.params,...D.params},data:{...M.data,...D.data},resolve:{...D.data,...M.data,...q?.data,...D._resolvedData}},q&&uo(q)&&(N.resolve[sn]=q.title),N}class In{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sn]}constructor(M,b,N,q,le,We,bt,xt,Sr){this.url=M,this.params=b,this.queryParams=N,this.fragment=q,this.data=le,this.outlet=We,this.component=bt,this.routeConfig=xt,this._resolve=Sr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cr extends ji{url;constructor(M,b){super(b),this.url=M,Br(this,b)}toString(){return ki(this._root)}}function Br(D,M){M.value._routerState=D,M.children.forEach(b=>Br(D,b))}function ki(D){const M=D.children.length>0?` { ${D.children.map(ki).join(", ")} } `:"";return`${D.value}${M}`}function Fi(D){if(D.snapshot){const M=D.snapshot,b=D._futureSnapshot;D.snapshot=b,Ft(M.queryParams,b.queryParams)||D.queryParamsSubject.next(b.queryParams),M.fragment!==b.fragment&&D.fragmentSubject.next(b.fragment),Ft(M.params,b.params)||D.paramsSubject.next(b.params),function ft(D,M){if(D.length!==M.length)return!1;for(let b=0;b<D.length;++b)if(!Ft(D[b],M[b]))return!1;return!0}(M.url,b.url)||D.urlSubject.next(b.url),Ft(M.data,b.data)||D.dataSubject.next(b.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Ai(D,M){const b=Ft(D.params,M.params)&&function ln(D,M){return Ht(D,M)&&D.every((b,N)=>Ft(b.parameters,M[N].parameters))}(D.url,M.url);return b&&!(!D.parent!=!M.parent)&&(!D.parent||Ai(D.parent,M.parent))}function uo(D){return"string"==typeof D.title||null===D.title}const go=new L.nKC("");let ro=(()=>{class D{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Re;activateEvents=new B.bkB;deactivateEvents=new B.bkB;attachEvents=new B.bkB;detachEvents=new B.bkB;routerOutletData=(0,_e.hFB)(void 0);parentContexts=(0,L.WQX)(ui);location=(0,L.WQX)(B.c1b);changeDetector=(0,L.WQX)(_e.gRc);inputBinder=(0,L.WQX)(eo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(b){if(b.name){const{firstChange:N,previousValue:q}=b.name;if(N)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L.buA(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L.buA(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L.buA(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,N){this.activated=b,this._activatedRoute=N,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,N){if(this.isActivated)throw new L.buA(4013,!1);this._activatedRoute=b;const q=this.location,We=b.snapshot.component,bt=this.parentContexts.getOrCreateContext(this.name).children,xt=new Ro(b,bt,q.injector,this.routerOutletData);this.activated=q.createComponent(We,{index:q.length,injector:xt,environmentInjector:N}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(N){return new(N||D)};static \u0275dir=B.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[B.OA$]})}return D})();class Ro{route;childContexts;parent;outletData;constructor(M,b,N,q){this.route=M,this.childContexts=b,this.parent=N,this.outletData=q}get(M,b){return M===At?this.route:M===ui?this.childContexts:M===go?this.outletData:this.parent.get(M,b)}}const eo=new L.nKC("");let Ji=(()=>{class D{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:N}=b,q=(0,Ae.z)([N.queryParams,N.params,N.data]).pipe((0,Ot.n)(([le,We,bt],xt)=>(bt={...le,...We,...bt},0===xt?(0,j.of)(bt):Promise.resolve(bt)))).subscribe(le=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(b);const We=(0,_e.HJs)(N.component);if(We)for(const{templateName:bt}of We.inputs)b.activatedComponentRef.setInput(bt,le[bt]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,q)}static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:D.\u0275fac})}return D})(),Ko=(()=>{class D{static \u0275fac=function(N){return new(N||D)};static \u0275cmp=B.VBU({type:D,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(N,q){1&N&&B.nrm(0,"router-outlet")},dependencies:[ro],encapsulation:2})}return D})();function ae(D){const M=D.children&&D.children.map(ae),b=M?{...D,children:M}:{...D};return!b.component&&!b.loadComponent&&(M||b.loadChildren)&&b.outlet&&b.outlet!==Re&&(b.component=Ko),b}function re(D,M,b){if(b&&D.shouldReuseRoute(M.value,b.value.snapshot)){const N=b.value;N._futureSnapshot=M.value;const q=function xe(D,M,b){return M.children.map(N=>{for(const q of b.children)if(D.shouldReuseRoute(N.value,q.value.snapshot))return re(D,N,q);return re(D,N)})}(D,M,b);return new pt(N,q)}{if(D.shouldAttach(M.value)){const le=D.retrieve(M.value);if(null!==le){const We=le.route;return We.value._futureSnapshot=M.value,We.children=M.children.map(bt=>re(D,bt)),We}}const N=function Tt(D){return new At(new fe.t(D.url),new fe.t(D.params),new fe.t(D.queryParams),new fe.t(D.fragment),new fe.t(D.data),D.outlet,D.component,D)}(M.value),q=M.children.map(le=>re(D,le));return new pt(N,q)}}class Gt{redirectTo;navigationBehaviorOptions;constructor(M,b){this.redirectTo=M,this.navigationBehaviorOptions=b}}const xn="ngNavigationCancelingError";function Jn(D,M){const{redirectTo:b,navigationBehaviorOptions:N}=ie(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,q=wr(!1,Qe.Redirect);return q.url=b,q.navigationBehaviorOptions=N,q}function wr(D,M){const b=new Error(`NavigationCancelingError: ${D||""}`);return b[xn]=!0,b.cancellationCode=M,b}function $i(D){return!!D&&D[xn]}class Yi{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(M,b,N,q,le){this.routeReuseStrategy=M,this.futureState=b,this.currState=N,this.forwardEvent=q,this.inputBindingEnabled=le}activate(M){const b=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,N,M),Fi(this.futureState.root),this.activateChildRoutes(b,N,M)}deactivateChildRoutes(M,b,N){const q=J(b);M.children.forEach(le=>{const We=le.value.outlet;this.deactivateRoutes(le,q[We],N),delete q[We]}),Object.values(q).forEach(le=>{this.deactivateRouteAndItsChildren(le,N)})}deactivateRoutes(M,b,N){const q=M.value,le=b?b.value:null;if(q===le)if(q.component){const We=N.getContext(q.outlet);We&&this.deactivateChildRoutes(M,b,We.children)}else this.deactivateChildRoutes(M,b,N);else le&&this.deactivateRouteAndItsChildren(b,N)}deactivateRouteAndItsChildren(M,b){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,b):this.deactivateRouteAndOutlet(M,b)}detachAndStoreRouteSubtree(M,b){const N=b.getContext(M.value.outlet),q=N&&M.value.component?N.children:b,le=J(M);for(const We of Object.values(le))this.deactivateRouteAndItsChildren(We,q);if(N&&N.outlet){const We=N.outlet.detach(),bt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:We,route:M,contexts:bt})}}deactivateRouteAndOutlet(M,b){const N=b.getContext(M.value.outlet),q=N&&M.value.component?N.children:b,le=J(M);for(const We of Object.values(le))this.deactivateRouteAndItsChildren(We,q);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(M,b,N){const q=J(b);M.children.forEach(le=>{this.activateRoutes(le,q[le.value.outlet],N),this.forwardEvent(new ai(le.value.snapshot))}),M.children.length&&this.forwardEvent(new Dr(M.value.snapshot))}activateRoutes(M,b,N){const q=M.value,le=b?b.value:null;if(Fi(q),q===le)if(q.component){const We=N.getOrCreateContext(q.outlet);this.activateChildRoutes(M,b,We.children)}else this.activateChildRoutes(M,b,N);else if(q.component){const We=N.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const bt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),We.children.onOutletReAttached(bt.contexts),We.attachRef=bt.componentRef,We.route=bt.route.value,We.outlet&&We.outlet.attach(bt.componentRef,bt.route.value),Fi(bt.route.value),this.activateChildRoutes(M,null,We.children)}else We.attachRef=null,We.route=q,We.outlet&&We.outlet.activateWith(q,We.injector),this.activateChildRoutes(M,null,We.children)}else this.activateChildRoutes(M,null,N)}}class io{path;route;constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Po{component;route;constructor(M,b){this.component=M,this.route=b}}function Hi(D,M,b){const N=D._root;return Ho(N,M?M._root:null,b,[N.value])}function mo(D,M){const b=Symbol(),N=M.get(D,b);return N===b?"function"!=typeof D||(0,L.muV)(D)?M.get(D):D:N}function Ho(D,M,b,N,q={canDeactivateChecks:[],canActivateChecks:[]}){const le=J(M);return D.children.forEach(We=>{(function As(D,M,b,N,q={canDeactivateChecks:[],canActivateChecks:[]}){const le=D.value,We=M?M.value:null,bt=b?b.getContext(D.value.outlet):null;if(We&&le.routeConfig===We.routeConfig){const xt=function Ri(D,M,b){if("function"==typeof b)return b(D,M);switch(b){case"pathParamsChange":return!Ht(D.url,M.url);case"pathParamsOrQueryParamsChange":return!Ht(D.url,M.url)||!Ft(D.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ai(D,M)||!Ft(D.queryParams,M.queryParams);default:return!Ai(D,M)}}(We,le,le.routeConfig.runGuardsAndResolvers);xt?q.canActivateChecks.push(new io(N)):(le.data=We.data,le._resolvedData=We._resolvedData),Ho(D,M,le.component?bt?bt.children:null:b,N,q),xt&&bt&&bt.outlet&&bt.outlet.isActivated&&q.canDeactivateChecks.push(new Po(bt.outlet.component,We))}else We&&cs(M,bt,q),q.canActivateChecks.push(new io(N)),Ho(D,null,le.component?bt?bt.children:null:b,N,q)})(We,le[We.value.outlet],b,N.concat([We.value]),q),delete le[We.value.outlet]}),Object.entries(le).forEach(([We,bt])=>cs(bt,b.getContext(We),q)),q}function cs(D,M,b){const N=J(D),q=D.value;Object.entries(N).forEach(([le,We])=>{cs(We,q.component?M?M.children.getContext(le):null:M,b)}),b.canDeactivateChecks.push(new Po(q.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,q))}function no(D){return"function"==typeof D}function qt(D){return D instanceof ye||"EmptyError"===D?.name}const Ln=Symbol("INITIAL_VALUE");function hr(){return(0,Ot.n)(D=>(0,Ae.z)(D.map(M=>M.pipe((0,Je.s)(1),(0,Et.Z)(Ln)))).pipe((0,Ge.T)(M=>{for(const b of M)if(!0!==b){if(b===Ln)return Ln;if(!1===b||zn(b))return b}return!0}),(0,tn.p)(M=>M!==Ln),(0,Je.s)(1)))}function zn(D){return ie(D)||D instanceof Gt}function Yt(D){return(0,zt.F)((0,de.M)(M=>{if("boolean"!=typeof M)throw Jn(0,M)}),(0,Ge.T)(M=>!0===M))}class kn{segmentGroup;constructor(M){this.segmentGroup=M||null}}class Qn extends Error{urlTree;constructor(M){super(),this.urlTree=M}}function fr(D){return(0,Xt.$)(new kn(D))}class Li{urlSerializer;urlTree;constructor(M,b){this.urlSerializer=M,this.urlTree=b}lineralizeSegments(M,b){let N=[],q=b.root;for(;;){if(N=N.concat(q.segments),0===q.numberOfChildren)return(0,j.of)(N);if(q.numberOfChildren>1||!q.children[Re])return(0,Xt.$)(new L.buA(4e3,!1));q=q.children[Re]}}applyRedirectCommands(M,b,N,q,le){return function ho(D,M,b){if("string"==typeof D)return(0,j.of)(D);const N=D,{queryParams:q,fragment:le,routeConfig:We,url:bt,outlet:xt,params:Sr,data:qi,title:Ao}=M;return lr((0,L.N4e)(b,()=>N({params:Sr,data:qi,queryParams:q,fragment:le,routeConfig:We,url:bt,outlet:xt,title:Ao})))}(b,q,le).pipe((0,Ge.T)(We=>{if(We instanceof _i)throw new Qn(We);const bt=this.applyRedirectCreateUrlTree(We,this.urlSerializer.parse(We),M,N);if("/"===We[0])throw new Qn(bt);return bt}))}applyRedirectCreateUrlTree(M,b,N,q){const le=this.createSegmentGroup(M,b.root,N,q);return new _i(le,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(M,b){const N={};return Object.entries(M).forEach(([q,le])=>{if("string"==typeof le&&":"===le[0]){const bt=le.substring(1);N[q]=b[bt]}else N[q]=le}),N}createSegmentGroup(M,b,N,q){const le=this.createSegments(M,b.segments,N,q);let We={};return Object.entries(b.children).forEach(([bt,xt])=>{We[bt]=this.createSegmentGroup(M,xt,N,q)}),new Xn(le,We)}createSegments(M,b,N,q){return b.map(le=>":"===le.path[0]?this.findPosParam(M,le,q):this.findOrReturn(le,N))}findPosParam(M,b,N){const q=N[b.path.substring(1)];if(!q)throw new L.buA(4001,!1);return q}findOrReturn(M,b){let N=0;for(const q of b){if(q.path===M.path)return b.splice(N),q;N++}return M}}const _o={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yo(D,M,b,N,q){const le=zo(D,M,b);return le.matched?(N=function te(D,M){return D.providers&&!D._injector&&(D._injector=(0,B.Ol2)(D.providers,M,`Route: ${D.path}`)),D._injector??M}(M,N),function jn(D,M,b,N){const q=M.canMatch;if(!q||0===q.length)return(0,j.of)(!0);const le=q.map(We=>{const bt=mo(We,D);return lr(function Rt(D){return D&&no(D.canMatch)}(bt)?bt.canMatch(M,b):(0,L.N4e)(D,()=>bt(M,b)))});return(0,j.of)(le).pipe(hr(),Yt())}(N,M,b).pipe((0,Ge.T)(We=>!0===We?le:{..._o}))):(0,j.of)(le)}function zo(D,M,b){if("**"===M.path)return function is(D){return{matched:!0,parameters:D.length>0?_r(D).parameters:{},consumedSegments:D,remainingSegments:[],positionalParamSegments:{}}}(b);if(""===M.path)return"full"===M.pathMatch&&(D.hasChildren()||b.length>0)?{..._o}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const q=(M.matcher||ur)(b,D,M);if(!q)return{..._o};const le={};Object.entries(q.posParams??{}).forEach(([bt,xt])=>{le[bt]=xt.path});const We=q.consumed.length>0?{...le,...q.consumed[q.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:q.consumed,remainingSegments:b.slice(q.consumed.length),parameters:We,positionalParamSegments:q.posParams??{}}}function Ys(D,M,b,N){return b.length>0&&function $s(D,M,b){return b.some(N=>Xs(D,M,N)&&qn(N)!==Re)}(D,b,N)?{segmentGroup:new Xn(M,Ka(N,new Xn(b,D.children))),slicedSegments:[]}:0===b.length&&function bs(D,M,b){return b.some(N=>Xs(D,M,N))}(D,b,N)?{segmentGroup:new Xn(D.segments,Cs(D,b,N,D.children)),slicedSegments:b}:{segmentGroup:new Xn(D.segments,D.children),slicedSegments:b}}function Cs(D,M,b,N){const q={};for(const le of b)if(Xs(D,M,le)&&!N[qn(le)]){const We=new Xn([],{});q[qn(le)]=We}return{...N,...q}}function Ka(D,M){const b={};b[Re]=M;for(const N of D)if(""===N.path&&qn(N)!==Re){const q=new Xn([],{});b[qn(N)]=q}return b}function Xs(D,M,b){return(!(D.hasChildren()||M.length>0)||"full"!==b.pathMatch)&&""===b.path}class Ha{}class da{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(M,b,N,q,le,We,bt){this.injector=M,this.configLoader=b,this.rootComponentType=N,this.config=q,this.urlTree=le,this.paramsInheritanceStrategy=We,this.urlSerializer=bt,this.applyRedirects=new Li(this.urlSerializer,this.urlTree)}noMatchError(M){return new L.buA(4002,`'${M.segmentGroup}'`)}recognize(){const M=Ys(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe((0,Ge.T)(({children:b,rootSnapshot:N})=>{const q=new pt(N,b),le=new cr("",q),We=function Pe(D,M,b=null,N=null){return ve(ze(D),M,b,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return We.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(We),{state:le,tree:We}}))}match(M){const b=new In([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,M,Re,b).pipe((0,Ge.T)(N=>({children:N,rootSnapshot:b})),(0,at.W)(N=>{if(N instanceof Qn)return this.urlTree=N.urlTree,this.match(N.urlTree.root);throw N instanceof kn?this.noMatchError(N):N}))}processSegmentGroup(M,b,N,q,le){return 0===N.segments.length&&N.hasChildren()?this.processChildren(M,b,N,le):this.processSegment(M,b,N,N.segments,q,!0,le).pipe((0,Ge.T)(We=>We instanceof pt?[We]:[]))}processChildren(M,b,N,q){const le=[];for(const We of Object.keys(N.children))"primary"===We?le.unshift(We):le.push(We);return(0,ct.H)(le).pipe((0,Rn.H)(We=>{const bt=N.children[We],xt=function ci(D,M){const b=D.filter(N=>qn(N)===M);return b.push(...D.filter(N=>qn(N)!==M)),b}(b,We);return this.processSegmentGroup(M,xt,bt,We,q)}),function Be(D,M){return(0,$t.N)(function Lt(D,M,b,N,q){return(le,We)=>{let bt=b,xt=M,Sr=0;le.subscribe((0,Tn._)(We,qi=>{const Ao=Sr++;xt=bt?D(xt,qi,Ao):(bt=!0,qi),N&&We.next(xt)},q&&(()=>{bt&&We.next(xt),We.complete()})))}}(D,M,arguments.length>=2,!0))}((We,bt)=>(We.push(...bt),We)),er(null),function Ne(D,M){const b=arguments.length>=2;return N=>N.pipe(D?(0,tn.p)((q,le)=>D(q,le,N)):pr.D,ge(1),b?er(M):On(()=>new ye))}(),(0,_t.Z)(We=>{if(null===We)return fr(N);const bt=va(We);return function Mo(D){D.sort((M,b)=>M.value.outlet===Re?-1:b.value.outlet===Re?1:M.value.outlet.localeCompare(b.value.outlet))}(bt),(0,j.of)(bt)}))}processSegment(M,b,N,q,le,We,bt){return(0,ct.H)(b).pipe((0,Rn.H)(xt=>this.processSegmentAgainstRoute(xt._injector??M,b,xt,N,q,le,We,bt).pipe((0,at.W)(Sr=>{if(Sr instanceof kn)return(0,j.of)(null);throw Sr}))),st(xt=>!!xt),(0,at.W)(xt=>{if(qt(xt))return function Js(D,M,b){return 0===M.length&&!D.children[b]}(N,q,le)?(0,j.of)(new Ha):fr(N);throw xt}))}processSegmentAgainstRoute(M,b,N,q,le,We,bt,xt){return qn(N)===We||We!==Re&&Xs(q,le,N)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(M,q,N,le,We,xt):this.allowRedirects&&bt?this.expandSegmentAgainstRouteUsingRedirect(M,q,b,N,le,We,xt):fr(q):fr(q)}expandSegmentAgainstRouteUsingRedirect(M,b,N,q,le,We,bt){const{matched:xt,parameters:Sr,consumedSegments:qi,positionalParamSegments:Ao,remainingSegments:os}=zo(b,q,le);if(!xt)return fr(b);"string"==typeof q.redirectTo&&"/"===q.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ps=new In(le,Sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_s(q),qn(q),q.component??q._loadedComponent??null,q,Cc(q)),Zo=Zt(ps,bt,this.paramsInheritanceStrategy);return ps.params=Object.freeze(Zo.params),ps.data=Object.freeze(Zo.data),this.applyRedirects.applyRedirectCommands(qi,q.redirectTo,Ao,ps,M).pipe((0,Ot.n)(Ds=>this.applyRedirects.lineralizeSegments(q,Ds)),(0,_t.Z)(Ds=>this.processSegment(M,N,b,Ds.concat(os),We,!1,bt)))}matchSegmentAgainstRoute(M,b,N,q,le,We){const bt=yo(b,N,q,M);return"**"===N.path&&(b.children={}),bt.pipe((0,Ot.n)(xt=>xt.matched?this.getChildConfig(M=N._injector??M,N,q).pipe((0,Ot.n)(({routes:Sr})=>{const qi=N._loadedInjector??M,{parameters:Ao,consumedSegments:os,remainingSegments:ps}=xt,Zo=new In(os,Ao,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_s(N),qn(N),N.component??N._loadedComponent??null,N,Cc(N)),fa=Zt(Zo,We,this.paramsInheritanceStrategy);Zo.params=Object.freeze(fa.params),Zo.data=Object.freeze(fa.data);const{segmentGroup:Ds,slicedSegments:Ls}=Ys(b,os,ps,Sr);if(0===Ls.length&&Ds.hasChildren())return this.processChildren(qi,Sr,Ds,Zo).pipe((0,Ge.T)(gs=>new pt(Zo,gs)));if(0===Sr.length&&0===Ls.length)return(0,j.of)(new pt(Zo,[]));const Ps=qn(N)===le;return this.processSegment(qi,Sr,Ds,Ls,Ps?Re:le,!0,Zo).pipe((0,Ge.T)(gs=>new pt(Zo,gs instanceof pt?[gs]:[])))})):fr(b)))}getChildConfig(M,b,N){return b.children?(0,j.of)({routes:b.children,injector:M}):b.loadChildren?void 0!==b._loadedRoutes?(0,j.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function Wt(D,M,b,N){const q=M.canLoad;if(void 0===q||0===q.length)return(0,j.of)(!0);const le=q.map(We=>{const bt=mo(We,D);return lr(function X(D){return D&&no(D.canLoad)}(bt)?bt.canLoad(M,b):(0,L.N4e)(D,()=>bt(M,b)))});return(0,j.of)(le).pipe(hr(),Yt())}(M,b,N).pipe((0,_t.Z)(q=>q?this.configLoader.loadChildren(M,b).pipe((0,de.M)(le=>{b._loadedRoutes=le.routes,b._loadedInjector=le.injector})):function Mi(){return(0,Xt.$)(wr(!1,Qe.GuardRejected))}())):(0,j.of)({routes:[],injector:M})}}function Rs(D){const M=D.value.routeConfig;return M&&""===M.path}function va(D){const M=[],b=new Set;for(const N of D){if(!Rs(N)){M.push(N);continue}const q=M.find(le=>N.value.routeConfig===le.value.routeConfig);void 0!==q?(q.children.push(...N.children),b.add(q)):M.push(N)}for(const N of b){const q=va(N.children);M.push(new pt(N.value,q))}return M.filter(N=>!b.has(N))}function _s(D){return D.data||{}}function Cc(D){return D.resolve||{}}function Ia(D){const M=D.children.map(b=>Ia(b)).flat();return[D,...M]}function Ns(D){return(0,Ot.n)(M=>{const b=D(M);return b?(0,ct.H)(b).pipe((0,Ge.T)(()=>M)):(0,j.of)(M)})}let Ws=(()=>{class D{buildTitle(b){let N,q=b.root;for(;void 0!==q;)N=this.getResolvedTitleForRoute(q)??N,q=q.children.find(le=>le.outlet===Re);return N}getResolvedTitleForRoute(b){return b.data[sn]}static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:()=>(0,L.WQX)(Ga),providedIn:"root"})}return D})(),Ga=(()=>{class D extends Ws{title;constructor(b){super(),this.title=b}updateTitle(b){const N=this.buildTitle(b);void 0!==N&&this.title.setTitle(N)}static \u0275fac=function(N){return new(N||D)(L.KVO(Le.hE))};static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const ha=new L.nKC("",{providedIn:"root",factory:()=>({})}),xi=new L.nKC("");let Gi=(()=>{class D{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,L.WQX)(B.Ql9);loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,j.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const N=lr(b.loadComponent()).pipe((0,Ge.T)(ks),(0,de.M)(le=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=le}),(0,pe.j)(()=>{this.componentLoaders.delete(b)})),q=new _n.G(N,()=>new yt.B).pipe((0,et.B)());return this.componentLoaders.set(b,q),q}loadChildren(b,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,j.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const le=function oi(D,M,b,N){return lr(D.loadChildren()).pipe((0,Ge.T)(ks),(0,_t.Z)(q=>q instanceof B.PYt||Array.isArray(q)?(0,j.of)(q):(0,ct.H)(M.compileModuleAsync(q))),(0,Ge.T)(q=>{N&&N(D);let le,We,bt=!1;return Array.isArray(q)?(We=q,!0):(le=q.create(b).injector,We=le.get(xi,[],{optional:!0,self:!0}).flat()),{routes:We.map(ae),injector:le}}))}(N,this.compiler,b,this.onLoadEndListener).pipe((0,pe.j)(()=>{this.childrenLoaders.delete(N)})),We=new _n.G(le,()=>new yt.B).pipe((0,et.B)());return this.childrenLoaders.set(N,We),We}static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function ks(D){return function xs(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ks=(()=>{class D{static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:()=>(0,L.WQX)(Ta),providedIn:"root"})}return D})(),Ta=(()=>{class D{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,N){return b}static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const bc=new L.nKC(""),xa=new L.nKC("");function nu(D,M,b){const N=D.get(xa),q=D.get(L.qQL);if(!q.startViewTransition||N.skipNextTransition)return N.skipNextTransition=!1,new Promise(Sr=>setTimeout(Sr));let le;const We=new Promise(Sr=>{le=Sr}),bt=q.startViewTransition(()=>(le(),function Hs(D){return new Promise(M=>{(0,B.mal)({read:()=>setTimeout(M)},{injector:D})})}(D))),{onViewTransitionCreated:xt}=N;return xt&&(0,L.N4e)(D,()=>xt({transition:bt,from:M,to:b})),We}const Sc=new L.nKC("");let Zs=(()=>{class D{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new yt.B;transitionAbortWithErrorSubject=new yt.B;configLoader=(0,L.WQX)(Gi);environmentInjector=(0,L.WQX)(L.uvJ);destroyRef=(0,L.WQX)(L.abz);urlSerializer=(0,L.WQX)(Gn);rootContexts=(0,L.WQX)(ui);location=(0,L.WQX)(a.aZ);inputBindingEnabled=null!==(0,L.WQX)(eo,{optional:!0});titleStrategy=(0,L.WQX)(Ws);options=(0,L.WQX)(ha,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,L.WQX)(Ks);createViewTransition=(0,L.WQX)(bc,{optional:!0});navigationErrorHandler=(0,L.WQX)(Sc,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,j.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=q=>this.events.next(new Ut(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new on(q)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(b){const N=++this.navigationId;this.transitions?.next({...b,extractedUrl:this.urlHandlingStrategy.extract(b.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:N})}setupNavigations(b){return this.transitions=new fe.t(null),this.transitions.pipe((0,tn.p)(N=>null!==N),(0,Ot.n)(N=>{let q=!1;return(0,j.of)(N).pipe((0,Ot.n)(le=>{if(this.navigationId>N.id)return this.cancelNavigationTransition(N,"",Qe.SupersededByNewNavigation),An.w;this.currentTransition=N,this.currentNavigation={id:le.id,initialUrl:le.rawUrl,extractedUrl:le.extractedUrl,targetBrowserUrl:"string"==typeof le.extras.browserUrl?this.urlSerializer.parse(le.extras.browserUrl):le.extras.browserUrl,trigger:le.source,extras:le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>le.abortController.abort()};const We=!b.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!We&&"reload"!==(le.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const xt="";return this.events.next(new Pn(le.id,this.urlSerializer.serialize(le.rawUrl),xt,Pt.IgnoredSameUrlNavigation)),le.resolve(!1),An.w}if(this.urlHandlingStrategy.shouldProcessUrl(le.rawUrl))return(0,j.of)(le).pipe((0,Ot.n)(xt=>(this.events.next(new Pi(xt.id,this.urlSerializer.serialize(xt.extractedUrl),xt.source,xt.restoredState)),xt.id!==this.navigationId?An.w:Promise.resolve(xt))),function Na(D,M,b,N,q,le){return(0,_t.Z)(We=>function la(D,M,b,N,q,le,We="emptyOnly"){return new da(D,M,b,N,q,We,le).recognize()}(D,M,b,N,We.extractedUrl,q,le).pipe((0,Ge.T)(({state:bt,tree:xt})=>({...We,targetSnapshot:bt,urlAfterRedirects:xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,de.M)(xt=>{N.targetSnapshot=xt.targetSnapshot,N.urlAfterRedirects=xt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xt.urlAfterRedirects};const Sr=new Ar(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(Sr)}));if(We&&this.urlHandlingStrategy.shouldProcessUrl(le.currentRawUrl)){const{id:xt,extractedUrl:Sr,source:qi,restoredState:Ao,extras:os}=le,ps=new Pi(xt,this.urlSerializer.serialize(Sr),qi,Ao);this.events.next(ps);const Zo=Ie(this.rootComponentType).snapshot;return this.currentTransition=N={...le,targetSnapshot:Zo,urlAfterRedirects:Sr,extras:{...os,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Sr,(0,j.of)(N)}{const xt="";return this.events.next(new Pn(le.id,this.urlSerializer.serialize(le.extractedUrl),xt,Pt.IgnoredByUrlHandlingStrategy)),le.resolve(!1),An.w}}),(0,de.M)(le=>{const We=new ue(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(We)}),(0,Ge.T)(le=>(this.currentTransition=N={...le,guards:Hi(le.targetSnapshot,le.currentSnapshot,this.rootContexts)},N)),function vi(D,M){return(0,_t.Z)(b=>{const{targetSnapshot:N,currentSnapshot:q,guards:{canActivateChecks:le,canDeactivateChecks:We}}=b;return 0===We.length&&0===le.length?(0,j.of)({...b,guardsResult:!0}):function Di(D,M,b,N){return(0,ct.H)(D).pipe((0,_t.Z)(q=>function Xe(D,M,b,N,q){const le=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,j.of)(!0);const We=le.map(bt=>{const xt=di(M)??q,Sr=mo(bt,xt);return lr(function it(D){return D&&no(D.canDeactivate)}(Sr)?Sr.canDeactivate(D,M,b,N):(0,L.N4e)(xt,()=>Sr(D,M,b,N))).pipe(st())});return(0,j.of)(We).pipe(hr())}(q.component,q.route,b,M,N)),st(q=>!0!==q,!0))}(We,N,q,D).pipe((0,_t.Z)(bt=>bt&&function Bi(D){return"boolean"==typeof D}(bt)?function lo(D,M,b,N){return(0,ct.H)(M).pipe((0,Rn.H)(q=>(0,He.x)(function To(D,M){return null!==D&&M&&M(new ar(D)),(0,j.of)(!0)}(q.route.parent,N),function zi(D,M){return null!==D&&M&&M(new gi(D)),(0,j.of)(!0)}(q.route,N),function me(D,M,b){const N=M[M.length-1],le=M.slice(0,M.length-1).reverse().map(We=>function oo(D){const M=D.routeConfig?D.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:D,guards:M}:null}(We)).filter(We=>null!==We).map(We=>(0,kt.v)(()=>{const bt=We.guards.map(xt=>{const Sr=di(We.node)??b,qi=mo(xt,Sr);return lr(function Ue(D){return D&&no(D.canActivateChild)}(qi)?qi.canActivateChild(N,D):(0,L.N4e)(Sr,()=>qi(N,D))).pipe(st())});return(0,j.of)(bt).pipe(hr())}));return(0,j.of)(le).pipe(hr())}(D,q.path,b),function Ee(D,M,b){const N=M.routeConfig?M.routeConfig.canActivate:null;if(!N||0===N.length)return(0,j.of)(!0);const q=N.map(le=>(0,kt.v)(()=>{const We=di(M)??b,bt=mo(le,We);return lr(function Q(D){return D&&no(D.canActivate)}(bt)?bt.canActivate(M,D):(0,L.N4e)(We,()=>bt(M,D))).pipe(st())}));return(0,j.of)(q).pipe(hr())}(D,q.route,b))),st(q=>!0!==q,!0))}(N,le,D,M):(0,j.of)(bt)),(0,Ge.T)(bt=>({...b,guardsResult:bt})))})}(this.environmentInjector,le=>this.events.next(le)),(0,de.M)(le=>{if(N.guardsResult=le.guardsResult,le.guardsResult&&"boolean"!=typeof le.guardsResult)throw Jn(0,le.guardsResult);const We=new Fe(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot,!!le.guardsResult);this.events.next(We)}),(0,tn.p)(le=>!!le.guardsResult||(this.cancelNavigationTransition(le,"",Qe.GuardRejected),!1)),Ns(le=>{if(0!==le.guards.canActivateChecks.length)return(0,j.of)(le).pipe((0,de.M)(We=>{const bt=new qe(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next(bt)}),(0,Ot.n)(We=>{let bt=!1;return(0,j.of)(We).pipe(function Oo(D,M){return(0,_t.Z)(b=>{const{targetSnapshot:N,guards:{canActivateChecks:q}}=b;if(!q.length)return(0,j.of)(b);const le=new Set(q.map(xt=>xt.route)),We=new Set;for(const xt of le)if(!We.has(xt))for(const Sr of Ia(xt))We.add(Sr);let bt=0;return(0,ct.H)(We).pipe((0,Rn.H)(xt=>le.has(xt)?function so(D,M,b,N){const q=D.routeConfig,le=D._resolve;return void 0!==q?.title&&!uo(q)&&(le[sn]=q.title),(0,kt.v)(()=>(D.data=Zt(D,D.parent,b).resolve,function us(D,M,b,N){const q=En(D);if(0===q.length)return(0,j.of)({});const le={};return(0,ct.H)(q).pipe((0,_t.Z)(We=>function za(D,M,b,N){const q=di(M)??N,le=mo(D,q);return lr(le.resolve?le.resolve(M,b):(0,L.N4e)(q,()=>le(M,b)))}(D[We],M,b,N).pipe(st(),(0,de.M)(bt=>{if(bt instanceof Gt)throw Jn(new sr,bt);le[We]=bt}))),ge(1),(0,Ge.T)(()=>le),(0,at.W)(We=>qt(We)?An.w:(0,Xt.$)(We)))}(le,D,M,N).pipe((0,Ge.T)(We=>(D._resolvedData=We,D.data={...D.data,...We},null)))))}(xt,N,D,M):(xt.data=Zt(xt,xt.parent,D).resolve,(0,j.of)(void 0))),(0,de.M)(()=>bt++),ge(1),(0,_t.Z)(xt=>bt===We.size?(0,j.of)(b):An.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,de.M)({next:()=>bt=!0,complete:()=>{bt||this.cancelNavigationTransition(We,"",Qe.NoDataFromResolver)}}))}),(0,de.M)(We=>{const bt=new St(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next(bt)}))}),Ns(le=>{const We=bt=>{const xt=[];bt.routeConfig?.loadComponent&&!bt.routeConfig._loadedComponent&&xt.push(this.configLoader.loadComponent(bt.routeConfig).pipe((0,de.M)(Sr=>{bt.component=Sr}),(0,Ge.T)(()=>{})));for(const Sr of bt.children)xt.push(...We(Sr));return xt};return(0,Ae.z)(We(le.targetSnapshot.root)).pipe(er(null),(0,Je.s)(1))}),Ns(()=>this.afterPreactivation()),(0,Ot.n)(()=>{const{currentSnapshot:le,targetSnapshot:We}=N,bt=this.createViewTransition?.(this.environmentInjector,le.root,We.root);return bt?(0,ct.H)(bt).pipe((0,Ge.T)(()=>N)):(0,j.of)(N)}),(0,Ge.T)(le=>{const We=function U(D,M,b){const N=re(D,M._root,b?b._root:void 0);return new Me(N,M)}(b.routeReuseStrategy,le.targetSnapshot,le.currentRouterState);return this.currentTransition=N={...le,targetRouterState:We},this.currentNavigation.targetRouterState=We,N}),(0,de.M)(()=>{this.events.next(new bi)}),((D,M,b,N)=>(0,Ge.T)(q=>(new Yi(M,q.targetRouterState,q.currentRouterState,b,N).activate(D),q)))(this.rootContexts,b.routeReuseStrategy,le=>this.events.next(le),this.inputBindingEnabled),(0,Je.s)(1),(0,Ye.Q)(new wn.c(le=>{const We=N.abortController.signal,bt=()=>le.next();return We.addEventListener("abort",bt),()=>We.removeEventListener("abort",bt)}).pipe((0,tn.p)(()=>!q&&!N.targetRouterState),(0,de.M)(()=>{this.cancelNavigationTransition(N,N.abortController.signal.reason+"",Qe.Aborted)}))),(0,de.M)({next:le=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cr(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects))),this.titleStrategy?.updateTitle(le.targetRouterState.snapshot),le.resolve(!0)},complete:()=>{q=!0}}),(0,Ye.Q)(this.transitionAbortWithErrorSubject.pipe((0,de.M)(le=>{throw le}))),(0,pe.j)(()=>{q||this.cancelNavigationTransition(N,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===N.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,at.W)(le=>{if(this.destroyed)return N.resolve(!1),An.w;if(q=!0,$i(le))this.events.next(new dn(N.id,this.urlSerializer.serialize(N.extractedUrl),le.message,le.cancellationCode)),function Qr(D){return $i(D)&&ie(D.url)}(le)?this.events.next(new ti(le.url,le.navigationBehaviorOptions)):N.resolve(!1);else{const We=new or(N.id,this.urlSerializer.serialize(N.extractedUrl),le,N.targetSnapshot??void 0);try{const bt=(0,L.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(We));if(!(bt instanceof Gt))throw this.events.next(We),le;{const{message:xt,cancellationCode:Sr}=Jn(0,bt);this.events.next(new dn(N.id,this.urlSerializer.serialize(N.extractedUrl),xt,Sr)),this.events.next(new ti(bt.redirectTo,bt.navigationBehaviorOptions))}}catch(bt){this.options.resolveNavigationPromiseOnError?N.resolve(!1):N.reject(bt)}}return An.w}))}))}cancelNavigationTransition(b,N,q){const le=new dn(b.id,this.urlSerializer.serialize(b.extractedUrl),N,q);this.events.next(le),b.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const b=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),N=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return b.toString()!==N?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function ic(D){return D!==Tr}let ka=(()=>{class D{static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:()=>(0,L.WQX)(qa),providedIn:"root"})}return D})();class Fu{shouldDetach(M){return!1}store(M,b){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,b){return M.routeConfig===b.routeConfig}}let qa=(()=>{class D extends Fu{static \u0275fac=(()=>{let b;return function(q){return(b||(b=B.xGo(D)))(q||D)}})();static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),oc=(()=>{class D{urlSerializer=(0,L.WQX)(Gn);options=(0,L.WQX)(ha,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,L.WQX)(a.aZ);urlHandlingStrategy=(0,L.WQX)(Ks);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _i;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:b,initialUrl:N,targetBrowserUrl:q}){const le=void 0!==b?this.urlHandlingStrategy.merge(b,N):N,We=q??le;return We instanceof _i?this.urlSerializer.serialize(We):We}commitTransition({targetRouterState:b,finalUrl:N,initialUrl:q}){N&&b?(this.currentUrlTree=N,this.rawUrlTree=this.urlHandlingStrategy.merge(N,q),this.routerState=b):this.rawUrlTree=q}routerState=Ie(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:b}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b??this.rawUrlTree)}static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:()=>(0,L.WQX)(Qa),providedIn:"root"})}return D})(),Qa=(()=>{class D extends oc{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(b){return this.location.subscribe(N=>{"popstate"===N.type&&setTimeout(()=>{b(N.url,N.state,"popstate")})})}handleRouterEvent(b,N){b instanceof Pi?this.updateStateMemento():b instanceof Pn?this.commitTransition(N):b instanceof Ar?"eager"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(N),N)):b instanceof bi?(this.commitTransition(N),"deferred"===this.urlUpdateStrategy&&!N.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(N),N)):b instanceof dn&&b.code!==Qe.SupersededByNewNavigation&&b.code!==Qe.Redirect?this.restoreHistory(N):b instanceof or?this.restoreHistory(N,!0):b instanceof Cr&&(this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId)}setBrowserUrl(b,{extras:N,id:q}){const{replaceUrl:le,state:We}=N;if(this.location.isCurrentPathEqualTo(b)||le){const bt=this.browserPageId,xt={...We,...this.generateNgRouterState(q,bt)};this.location.replaceState(b,"",xt)}else{const bt={...We,...this.generateNgRouterState(q,this.browserPageId+1)};this.location.go(b,"",bt)}}restoreHistory(b,N=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.getCurrentUrlTree()===b.finalUrl&&0===le&&(this.resetInternalState(b),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetInternalState(b),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,N){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:N}:{navigationId:b}}static \u0275fac=(()=>{let b;return function(q){return(b||(b=B.xGo(D)))(q||D)}})();static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function ea(D,M){D.events.pipe((0,tn.p)(b=>b instanceof Cr||b instanceof dn||b instanceof or||b instanceof Pn),(0,Ge.T)(b=>b instanceof Cr||b instanceof Pn?0:b instanceof dn&&(b.code===Qe.Redirect||b.code===Qe.SupersededByNewNavigation)?2:1),(0,tn.p)(b=>2!==b),(0,Je.s)(1)).subscribe(()=>{M()})}const fs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ta={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jo=(()=>{class D{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,L.WQX)(B.C7A);stateManager=(0,L.WQX)(oc);options=(0,L.WQX)(ha,{optional:!0})||{};pendingTasks=(0,L.WQX)(L.rev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,L.WQX)(Zs);urlSerializer=(0,L.WQX)(Gn);location=(0,L.WQX)(a.aZ);urlHandlingStrategy=(0,L.WQX)(Ks);injector=(0,L.WQX)(L.uvJ);_events=new yt.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,L.WQX)(ka);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,L.WQX)(xi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,L.WQX)(eo,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:b=>{this.console.warn(b)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Sn.yU;subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(N=>{try{const q=this.navigationTransitions.currentTransition,le=this.navigationTransitions.currentNavigation;if(null!==q&&null!==le)if(this.stateManager.handleRouterEvent(N,le),N instanceof dn&&N.code!==Qe.Redirect&&N.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(N instanceof Cr)this.navigated=!0;else if(N instanceof ti){const We=N.navigationBehaviorOptions,bt=this.urlHandlingStrategy.merge(N.url,q.currentRawUrl),xt={browserUrl:q.extras.browserUrl,info:q.extras.info,skipLocationChange:q.extras.skipLocationChange,replaceUrl:q.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ic(q.source),...We};this.scheduleNavigation(bt,Tr,null,xt,{resolve:q.resolve,reject:q.reject,promise:q.promise})}(function $(D){return!(D instanceof bi||D instanceof ti)})(N)&&this._events.next(N)}catch(q){this.navigationTransitions.transitionAbortWithErrorSubject.next(q)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((b,N,q)=>{this.navigateToSyncWithBrowser(b,q,N)})}navigateToSyncWithBrowser(b,N,q){const le={replaceUrl:!0},We=q?.navigationId?q:null;if(q){const xt={...q};delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(le.state=xt)}const bt=this.parseUrl(b);this.scheduleNavigation(bt,N,We,le).catch(xt=>{this.injector.get(L.ZTf)(xt)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(ae),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,N={}){const{relativeTo:q,queryParams:le,fragment:We,queryParamsHandling:bt,preserveFragment:xt}=N,Sr=xt?this.currentUrlTree.fragment:We;let Ao,qi=null;switch(bt??this.options.defaultQueryParamsHandling){case"merge":qi={...this.currentUrlTree.queryParams,...le};break;case"preserve":qi=this.currentUrlTree.queryParams;break;default:qi=le||null}null!==qi&&(qi=this.removeEmptyProps(qi));try{Ao=ze(q?q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||"/"!==b[0][0])&&(b=[]),Ao=this.currentUrlTree.root}return ve(Ao,b,qi,Sr??null)}navigateByUrl(b,N={skipLocationChange:!1}){const q=ie(b)?b:this.parseUrl(b),le=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(le,Tr,null,N)}navigate(b,N={skipLocationChange:!1}){return function Or(D){for(let M=0;M<D.length;M++)if(null==D[M])throw new L.buA(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,N),N)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){try{return this.urlSerializer.parse(b)}catch{return this.urlSerializer.parse("/")}}isActive(b,N){let q;if(q=!0===N?{...fs}:!1===N?{...ta}:N,ie(b))return mi(this.currentUrlTree,b,q);const le=this.parseUrl(b);return mi(this.currentUrlTree,le,q)}removeEmptyProps(b){return Object.entries(b).reduce((N,[q,le])=>(null!=le&&(N[q]=le),N),{})}scheduleNavigation(b,N,q,le,We){if(this.disposed)return Promise.resolve(!1);let bt,xt,Sr;We?(bt=We.resolve,xt=We.reject,Sr=We.promise):Sr=new Promise((Ao,os)=>{bt=Ao,xt=os});const qi=this.pendingTasks.add();return ea(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qi))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:le,resolve:bt,reject:xt,promise:Sr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sr.catch(Ao=>Promise.reject(Ao))}static \u0275fac=function(N){return new(N||D)};static \u0275prov=L.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})()},359:(Hn,vt,I)=>{function L(a,B){if(a){const _e=a.indexOf(B);0<=_e&&a.splice(_e,1)}}I.d(vt,{o:()=>L})},433:(Hn,vt,I)=>{I.d(vt,{Z:()=>fe});var L=I(1215),a=I(3701),B=I(3731),_e=I(902),$e=I(5015),j=I(4602);function fe(Ae,Ce,ye=1/0){return(0,j.T)(Ce)?fe((He,kt)=>(0,L.T)((zt,Xt)=>Ce(He,zt,kt,Xt))((0,a.Tg)(Ae(He,kt))),ye):("number"==typeof Ce&&(ye=Ce),(0,B.N)((He,kt)=>function ct(Ae,Ce,ye,He,kt,zt,Xt,An){const _n=[];let yt=0,wn=0,Sn=!1;const Ge=()=>{Sn&&!_n.length&&!yt&&Ce.complete()},Ot=Et=>yt<He?Je(Et):_n.push(Et),Je=Et=>{zt&&Ce.next(Et),yt++;let tn=!1;(0,a.Tg)(ye(Et,wn++)).subscribe((0,$e._)(Ce,_t=>{kt?.(_t),zt?Ot(_t):Ce.next(_t)},()=>{tn=!0},void 0,()=>{if(tn)try{for(yt--;_n.length&&yt<He;){const _t=_n.shift();Xt?(0,_e.N)(Ce,Xt,()=>Je(_t)):Je(_t)}Ge()}catch(_t){Ce.error(_t)}}))};return Ae.subscribe((0,$e._)(Ce,Ot,()=>{Sn=!0,Ge()})),()=>{An?.()}}(He,kt,Ae,ye)))}},560:(Hn,vt,I)=>{function L(a){return a}I.d(vt,{D:()=>L})},579:(Hn,vt,I)=>{I.d(vt,{B:()=>j});var L=I(7014),a=I(1896);const _e=(0,I(2336).L)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=I(359),ct=I(3559);let j=(()=>{class Ae extends L.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const He=new fe(this,this);return He.operator=ye,He}_throwIfClosed(){if(this.closed)throw new _e}next(ye){(0,ct.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const He of this.currentObservers)He.next(ye)}})}error(ye){(0,ct.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:He}=this;for(;He.length;)He.shift().error(ye)}})}complete(){(0,ct.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:He,isStopped:kt,observers:zt}=this;return He||kt?a.Kn:(this.currentObservers=null,zt.push(ye),new a.yU(()=>{this.currentObservers=null,(0,$e.o)(zt,ye)}))}_checkFinalizedStatuses(ye){const{hasError:He,thrownError:kt,isStopped:zt}=this;He?ye.error(kt):zt&&ye.complete()}asObservable(){const ye=new L.c;return ye.source=this,ye}}return Ae.create=(Ce,ye)=>new fe(Ce,ye),Ae})();class fe extends j{constructor(Ce,ye){super(),this.destination=Ce,this.source=ye}next(Ce){var ye,He;null===(He=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===He||He.call(ye,Ce)}error(Ce){var ye,He;null===(He=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===He||He.call(ye,Ce)}complete(){var Ce,ye;null===(ye=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===ye||ye.call(Ce)}_subscribe(Ce){var ye,He;return null!==(He=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Ce))&&void 0!==He?He:a.Kn}}},649:(Hn,vt,I)=>{function L(B,_e,$e,ct,j,fe,Ae){try{var Ce=B[fe](Ae),ye=Ce.value}catch(He){return void $e(He)}Ce.done?_e(ye):Promise.resolve(ye).then(ct,j)}function a(B){return function(){var _e=this,$e=arguments;return new Promise(function(ct,j){var fe=B.apply(_e,$e);function Ae(ye){L(fe,ct,j,Ae,Ce,"next",ye)}function Ce(ye){L(fe,ct,j,Ae,Ce,"throw",ye)}Ae(void 0)})}}I.d(vt,{A:()=>a})},884:(Hn,vt,I)=>{I.d(vt,{j0:()=>mr,Rv:()=>qn,MO:()=>ue,P5:()=>li,Ol:()=>Ti});var L=I(649),a=I(8424),B=I(204),_e=I(9295),$e=I(2983),ct=I(1215),j=I(7014),fe=I(3701),Ae=I(579),Ce=I(3731),ye=I(5015);var kt=I(433),zt=I(1305),Xt=I(8781),An=I(6273),_n=I(6078),yt=I(1698),wn=I(7385),Sn=I(2474),Ge=I(8813),Ot=I(9558),Je=I(305),Et=I(1572),tn=I(7650),_t=I(5099),$t=I(9333);I(1873);const er="analytics",Rn="https://www.googletagmanager.com/gtag/js",de=new tn.Vy("@firebase/analytics"),Lt=new _t.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Be(pt){if(!pt.startsWith(Rn)){const J=Lt.create("invalid-gtag-resource",{gtagURL:pt});return de.warn(J.message),""}return pt}function ge(pt){return Promise.all(pt.map(J=>J.catch(Me=>Me)))}function Le(){return(Le=(0,L.A)(function*(pt,J,Me,Ie,je,At){const Zt=Ie[je];try{if(Zt)yield J[Zt];else{const cr=(yield ge(Me)).find(Br=>Br.measurementId===je);cr&&(yield J[cr.appId])}}catch(In){de.error(In)}pt("config",je,At)})).apply(this,arguments)}function sn(){return(sn=(0,L.A)(function*(pt,J,Me,Ie,je){try{let At=[];if(je&&je.send_to){let Zt=je.send_to;Array.isArray(Zt)||(Zt=[Zt]);const In=yield ge(Me);for(const cr of Zt){const Br=In.find(Fi=>Fi.measurementId===cr),ki=Br&&J[Br.appId];if(!ki){At=[];break}At.push(ki)}}0===At.length&&(At=Object.values(J)),yield Promise.all(At),pt("event",Ie,je||{})}catch(At){de.error(At)}})).apply(this,arguments)}const an=new class En{constructor(J={},Me=1e3){this.throttleMetadata=J,this.intervalMillis=Me}getThrottleMetadata(J){return this.throttleMetadata[J]}setThrottleMetadata(J,Me){this.throttleMetadata[J]=Me}deleteThrottleMetadata(J){delete this.throttleMetadata[J]}};function _r(pt){return new Headers({Accept:"application/json","x-goog-api-key":pt})}function Zr(){return(Zr=(0,L.A)(function*(pt){var J;const{appId:Me,apiKey:Ie}=pt,je={method:"GET",headers:_r(Ie)},At="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",Me),Zt=yield fetch(At,je);if(200!==Zt.status&&304!==Zt.status){let In="";try{const cr=yield Zt.json();null!==(J=cr.error)&&void 0!==J&&J.message&&(In=cr.error.message)}catch{}throw Lt.create("config-fetch-failed",{httpStatus:Zt.status,responseMessage:In})}return Zt.json()})).apply(this,arguments)}function mi(){return(mi=(0,L.A)(function*(pt,J=an,Me){const{appId:Ie,apiKey:je,measurementId:At}=pt.options;if(!Ie)throw Lt.create("no-app-id");if(!je){if(At)return{measurementId:At,appId:Ie};throw Lt.create("no-api-key")}const Zt=J.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},In=new Kn;return setTimeout((0,L.A)(function*(){In.abort()}),void 0!==Me?Me:6e4),Vn({appId:Ie,apiKey:je,measurementId:At},Zt,In,J)})).apply(this,arguments)}function Vn(pt,J,Me){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,L.A)(function*(pt,{throttleEndTimeMillis:J,backoffCount:Me},Ie,je=an){var At;const{appId:Zt,measurementId:In}=pt;try{yield function Xr(pt,J){return new Promise((Me,Ie)=>{const je=Math.max(J-Date.now(),0),At=setTimeout(Me,je);pt.addEventListener(()=>{clearTimeout(At),Ie(Lt.create("fetch-throttle",{throttleEndTimeMillis:J}))})})}(Ie,J)}catch(cr){if(In)return de.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${In} provided in the "measurementId" field in the local Firebase config. [${cr?.message}]`),{appId:Zt,measurementId:In};throw cr}try{const cr=yield function lr(pt){return Zr.apply(this,arguments)}(pt);return je.deleteThrottleMetadata(Zt),cr}catch(cr){const Br=cr;if(!function si(pt){if(!(pt instanceof _t.g&&pt.customData))return!1;const J=Number(pt.customData.httpStatus);return 429===J||500===J||503===J||504===J}(Br)){if(je.deleteThrottleMetadata(Zt),In)return de.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${In} provided in the "measurementId" field in the local Firebase config. [${Br?.message}]`),{appId:Zt,measurementId:In};throw cr}const ki=503===Number(null===(At=Br?.customData)||void 0===At?void 0:At.httpStatus)?(0,_t.p9)(Me,je.intervalMillis,30):(0,_t.p9)(Me,je.intervalMillis),Fi={throttleEndTimeMillis:Date.now()+ki,backoffCount:Me+1};return je.setThrottleMetadata(Zt,Fi),de.debug(`Calling attemptFetch again in ${ki} millis`),Vn(pt,Fi,Ie,je)}}),Ci.apply(this,arguments)}class Kn{constructor(){this.listeners=[]}addEventListener(J){this.listeners.push(J)}abort(){this.listeners.forEach(J=>J())}}let Gr,Nn;function Xn(){return(Xn=(0,L.A)(function*(pt,J,Me,Ie,je){if(je&&je.global)pt("event",Me,Ie);else{const At=yield J;pt("event",Me,Object.assign(Object.assign({},Ie),{send_to:At}))}})).apply(this,arguments)}function It(){return(It=(0,L.A)(function*(pt,J,Me,Ie){if(Ie&&Ie.global)return pt("set",{user_id:Me}),Promise.resolve();pt("config",yield J,{update:!0,user_id:Me})})).apply(this,arguments)}function yi(){return(yi=(0,L.A)(function*(){if(!(0,_t.zW)())return de.warn(Lt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_t.eX)()}catch(pt){return de.warn(Lt.create("indexeddb-unavailable",{errorInfo:pt?.toString()}).message),!1}return!0})).apply(this,arguments)}function Er(){return Er=(0,L.A)(function*(pt,J,Me,Ie,je,At,Zt){var In;const cr=function Kr(pt){return mi.apply(this,arguments)}(pt);cr.then(uo=>{Me[uo.measurementId]=uo.appId,pt.options.measurementId&&uo.measurementId!==pt.options.measurementId&&de.warn(`The measurement ID in the local Firebase config (${pt.options.measurementId}) does not match the measurement ID fetched from the server (${uo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(uo=>de.error(uo)),J.push(cr);const Br=function br(){return yi.apply(this,arguments)}().then(uo=>{if(uo)return Ie.getId()}),[ki,Fi]=yield Promise.all([cr,Br]);(function ur(pt){const J=window.document.getElementsByTagName("script");for(const Me of Object.values(J))if(Me.src&&Me.src.includes(Rn)&&Me.src.includes(pt))return Me;return null})(At)||function pe(pt,J){const Me=function Ne(pt,J){let Me;return window.trustedTypes&&(Me=window.trustedTypes.createPolicy(pt,J)),Me}("firebase-js-sdk-policy",{createScriptURL:Be}),Ie=document.createElement("script"),je=`${Rn}?l=${pt}&id=${J}`;Ie.src=Me?Me?.createScriptURL(je):je,Ie.async=!0,document.head.appendChild(Ie)}(At,ki.measurementId),Nn&&(je("consent","default",Nn),function xr(pt){Nn=pt}(void 0)),je("js",new Date);const Ai=null!==(In=Zt?.config)&&void 0!==In?In:{};return Ai.origin="firebase",Ai.update=!0,null!=Fi&&(Ai.firebase_id=Fi),je("config",ki.measurementId,Ai),Gr&&(je("set",Gr),function yr(pt){Gr=pt}(void 0)),ki.measurementId}),Er.apply(this,arguments)}class Un{constructor(J){this.app=J}_delete(){return delete fn[this.app.options.appId],Promise.resolve()}}let fn={},Bt=[];const pn={};let ir,Ir,bn="dataLayer",qr=!1;function Ve(pt,J,Me){!function Ii(){const pt=[];if((0,_t.sr)()&&pt.push("This is a browser extension environment."),(0,_t.dM)()||pt.push("Cookies are not available."),pt.length>0){const J=pt.map((Ie,je)=>`(${je+1}) ${Ie}`).join(" "),Me=Lt.create("invalid-analytics-context",{errorInfo:J});de.warn(Me.message)}}();const Ie=pt.options.appId;if(!Ie)throw Lt.create("no-app-id");if(!pt.options.apiKey){if(!pt.options.measurementId)throw Lt.create("no-api-key");de.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${pt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fn[Ie])throw Lt.create("already-exists",{id:Ie});if(!qr){!function et(pt){let J=[];Array.isArray(window[pt])?J=window[pt]:window[pt]=J}(bn);const{wrappedGtag:At,gtagCore:Zt}=function vn(pt,J,Me,Ie,je){let At=function(...Zt){window[Ie].push(arguments)};return window[je]&&"function"==typeof window[je]&&(At=window[je]),window[je]=function Jt(pt,J,Me,Ie){function At(){return At=(0,L.A)(function*(Zt,...In){try{if("event"===Zt){const[cr,Br]=In;yield function Re(pt,J,Me,Ie,je){return sn.apply(this,arguments)}(pt,J,Me,cr,Br)}else if("config"===Zt){const[cr,Br]=In;yield function Ye(pt,J,Me,Ie,je,At){return Le.apply(this,arguments)}(pt,J,Me,Ie,cr,Br)}else if("consent"===Zt){const[cr,Br]=In;pt("consent",cr,Br)}else if("get"===Zt){const[cr,Br,ki]=In;pt("get",cr,Br,ki)}else if("set"===Zt){const[cr]=In;pt("set",cr)}else pt(Zt,...In)}catch(cr){de.error(cr)}}),At.apply(this,arguments)}return function je(Zt){return At.apply(this,arguments)}}(At,pt,J,Me),{gtagCore:At,wrappedGtag:window[je]}}(fn,Bt,pn,bn,"gtag");Ir=At,ir=Zt,qr=!0}return fn[Ie]=function ei(pt,J,Me,Ie,je,At,Zt){return Er.apply(this,arguments)}(pt,Bt,pn,J,ir,bn,Me),new Un(pt)}function ce(pt=(0,Et.Sx)()){pt=(0,_t.Ku)(pt);const J=(0,Et.j6)(pt,er);return J.isInitialized()?J.getImmediate():function ie(pt,J={}){const Me=(0,Et.j6)(pt,er);if(Me.isInitialized()){const je=Me.getImmediate();if((0,_t.bD)(J,Me.getOptions()))return je;throw Lt.create("already-initialized")}return Me.initialize({options:J})}(pt)}function Pe(){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.A)(function*(){if((0,_t.sr)()||!(0,_t.dM)()||!(0,_t.zW)())return!1;try{return yield(0,_t.eX)()}catch{return!1}})).apply(this,arguments)}function O(pt,J,Me){pt=(0,_t.Ku)(pt),function Ht(pt,J,Me,Ie){return It.apply(this,arguments)}(Ir,fn[pt.app.options.appId],J,Me).catch(Ie=>de.error(Ie))}function tt(pt,J,Me,Ie){pt=(0,_t.Ku)(pt),function _i(pt,J,Me,Ie,je){return Xn.apply(this,arguments)}(Ir,fn[pt.app.options.appId],J,Me,Ie).catch(je=>de.error(je))}const rn="@firebase/analytics",gn="0.10.17";!function Cn(){(0,Et.om)(new $t.uA(er,(J,{options:Me})=>Ve(J.getProvider("app").getImmediate(),J.getProvider("installations-internal").getImmediate(),Me),"PUBLIC")),(0,Et.om)(new $t.uA("analytics-internal",function pt(J){try{const Me=J.getProvider(er).getImmediate();return{logEvent:(Ie,je,At)=>tt(Me,Ie,je,At)}}catch(Me){throw Lt.create("interop-component-reg-failed",{reason:Me})}},"PRIVATE")),(0,Et.KO)(rn,gn),(0,Et.KO)(rn,gn,"esm2017")}();var Mr=I(1767);class mr{constructor(J){return J}}const jr="analytics",li=(0,a.S3)(ce,!0),ii=(0,a.S3)(Pe,!1),Pi=(0,a.S3)(tt,!1,2),Pn=(0,a.S3)(O,!0,2);let ue=(()=>{class pt{initialized;disposables=[];constructor(Me,Ie,je){let At;(0,Ge.KO)("angularfire",a.xv.full,"user-tracking"),this.initialized=Ie.runOutsideAngular(()=>new Promise(Zt=>{At=Zt})),ii().then(()=>{const Zt=je.get(mr);Zt?this.disposables=[(0,Mr.wh)(Me).subscribe(In=>{Pn(Zt,In?.uid),At()})]:At()})}ngOnDestroy(){this.disposables.forEach(Me=>Me.unsubscribe())}static \u0275fac=function(Ie){return new(Ie||pt)(yt.KVO(Mr.Nj),yt.KVO(wn.SKi),yt.KVO(yt.zZn))};static \u0275prov=yt.jDH({token:pt,factory:pt.\u0275fac})}return pt})();const Fe="firebase_event_origin",qe="firebase_previous_class",St="firebase_previous_id",on="firebase_previous_screen",Ut="firebase_screen_class",ar="firebase_screen_id",Dr="firebase_screen",gi="outlet",ai="page_path",bi="screen_class",ti="screen_name";let se=Math.floor(Math.random()*(2**32-1))-2**31;const dt={},mn=pt=>{const J=[pt[bi],pt[gi]].join("#");if(dt.hasOwnProperty(J))return dt[J];{const Me=se++;return dt[J]=Me,Me}};let qn=(()=>{class pt{disposable;constructor(Me,Ie,je,At,Zt,In){(0,Ge.KO)("angularfire",a.xv.full,"screen-tracking"),ii().then(()=>{const cr=In.get(mr);!Me||!cr||At.runOutsideAngular(()=>{this.disposable=((pt,J,Me)=>pt.events.pipe((0,_e.p)(je=>je instanceof Je._d)).pipe((0,$e.n)(je=>{const Zt=pt.parseUrl(pt.url.replace(/(?:\().+(?:\))/g,Ai=>Ai.replace("://",":///"))).root.children[je.snapshot.outlet]?.toString()||"",In=pt.routerState.root.children.map(Ai=>Ai).find(Ai=>Ai.outlet===je.snapshot.outlet);if(!In)return(0,B.of)(null);let cr=In;for(;cr.firstChild;)cr=cr.firstChild;const Br=cr.pathFromRoot.map(Ai=>Ai.routeConfig?.path).filter(Ai=>Ai).join("/")||"/",ki={[ti]:Br,[ai]:`/${Zt}`,[Fe]:"auto",[Dr]:Br,[gi]:je.snapshot.outlet};J&&(ki.page_title=J.getTitle());let Fi=In.component;if(Fi){if(Fi===Je.we){let Ai=je.snapshot;for(;Ai.firstChild;)Ai=Ai.firstChild;Fi=Ai.component}}else Fi=je.snapshot.component;if("string"==typeof Fi)return(0,B.of)({...ki,[bi]:Fi});if(Fi){const Ai=Me.resolveComponentFactory(Fi);return(0,B.of)({...ki,[bi]:Ai.selector})}return(0,B.of)(null)}),(0,_e.p)(je=>!!je),(0,ct.T)(je=>({[Ut]:je[bi],[ar]:mn(je),...je})),function He(pt,J,Me,Ie){return(0,Ce.N)((je,At)=>{let Zt;J&&"function"!=typeof J?({duration:Me,element:Zt,connector:Ie}=J):Zt=J;const In=new Map,cr=go=>{In.forEach(go),go(At)},Br=go=>cr(ro=>ro.error(go));let ki=0,Fi=!1;const Ai=new ye.H(At,go=>{try{const ro=pt(go);let Ro=In.get(ro);if(!Ro){In.set(ro,Ro=Ie?Ie():new Ae.B);const eo=function uo(go,ro){const Ro=new j.c(eo=>{ki++;const Ji=ro.subscribe(eo);return()=>{Ji.unsubscribe(),0===--ki&&Fi&&Ai.unsubscribe()}});return Ro.key=go,Ro}(ro,Ro);if(At.next(eo),Me){const Ji=(0,ye._)(Ro,()=>{Ro.complete(),Ji?.unsubscribe()},void 0,void 0,()=>In.delete(ro));Ai.add((0,fe.Tg)(Me(eo)).subscribe(Ji))}}Ro.next(Zt?Zt(go):go)}catch(ro){Br(ro)}},()=>cr(go=>go.complete()),Br,()=>In.clear(),()=>(Fi=!0,0===ki));je.subscribe(Ai)})}(je=>je[gi]),(0,kt.Z)(je=>je.pipe((0,zt.F)((At,Zt)=>JSON.stringify(At)===JSON.stringify(Zt)),(0,Xt.Z)(void 0),(0,An.J)(),(0,ct.T)(([At,Zt])=>At?{[qe]:At[bi],[on]:At[ti],[St]:At[ar],...Zt}:Zt)))))(Me,Ie,je).pipe((0,$e.n)(function(){var Br=(0,L.A)(function*(ki){return Zt&&(yield Zt.initialized),Pi(cr,"screen_view",ki)});return function(ki){return Br.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(Ie){return new(Ie||pt)(yt.KVO(Je.Ix,8),yt.KVO(Ot.hE,8),yt.KVO(wn.OM3),yt.KVO(wn.SKi),yt.KVO(ue,8),yt.KVO(yt.zZn))};static \u0275prov=yt.jDH({token:pt,factory:pt.\u0275fac})}return pt})();const ci=new yt.nKC("angularfire2.analytics-instances");function Si(pt){return(J,Me,Ie)=>{if(!(0,_n.UE)(Ie))return null;const je=J.runOutsideAngular(()=>pt(Me));return new mr(je)}}const ui={provide:class Oi{constructor(){return(0,a.CA)(jr)}},deps:[[new wn.Xx1,ci]]},ji={provide:mr,useFactory:function di(pt,J,Me){if(!(0,_n.UE)(Me))return null;const Ie=(0,a.lR)(jr,pt,J);return Ie&&new mr(Ie)},deps:[[new wn.Xx1,ci],Sn.XU,wn.Agw]};function Ti(pt,...J){return(0,Ge.KO)("angularfire",a.xv.full,"analytics"),(0,yt.EmA)([ji,ui,{provide:ci,useFactory:Si(pt),multi:!0,deps:[wn.SKi,yt.zZn,wn.Agw,a.u0,Sn.gL,...J]}])}},902:(Hn,vt,I)=>{function L(a,B,_e,$e=0,ct=!1){const j=B.schedule(function(){_e(),ct?a.add(this.schedule(null,$e)):this.unsubscribe()},$e);if(a.add(j),!ct)return j}I.d(vt,{N:()=>L})},923:(Hn,vt,I)=>{I.d(vt,{Ms:()=>An,vU:()=>He});var L=I(4602),a=I(1896),B=I(8517),_e=I(1459),$e=I(4526);const ct=Ae("C",void 0,void 0);function Ae(Ge,Ot,Je){return{kind:Ge,value:Ot,error:Je}}var Ce=I(4179),ye=I(3559);class He extends a.yU{constructor(Ot){super(),this.isStopped=!1,Ot?(this.destination=Ot,(0,a.Uv)(Ot)&&Ot.add(this)):this.destination=Sn}static create(Ot,Je,Et){return new An(Ot,Je,Et)}next(Ot){this.isStopped?wn(function fe(Ge){return Ae("N",Ge,void 0)}(Ot),this):this._next(Ot)}error(Ot){this.isStopped?wn(function j(Ge){return Ae("E",void 0,Ge)}(Ot),this):(this.isStopped=!0,this._error(Ot))}complete(){this.isStopped?wn(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ot){this.destination.next(Ot)}_error(Ot){try{this.destination.error(Ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kt=Function.prototype.bind;function zt(Ge,Ot){return kt.call(Ge,Ot)}class Xt{constructor(Ot){this.partialObserver=Ot}next(Ot){const{partialObserver:Je}=this;if(Je.next)try{Je.next(Ot)}catch(Et){_n(Et)}}error(Ot){const{partialObserver:Je}=this;if(Je.error)try{Je.error(Ot)}catch(Et){_n(Et)}else _n(Ot)}complete(){const{partialObserver:Ot}=this;if(Ot.complete)try{Ot.complete()}catch(Je){_n(Je)}}}class An extends He{constructor(Ot,Je,Et){let tn;if(super(),(0,L.T)(Ot)||!Ot)tn={next:Ot??void 0,error:Je??void 0,complete:Et??void 0};else{let _t;this&&B.$.useDeprecatedNextContext?(_t=Object.create(Ot),_t.unsubscribe=()=>this.unsubscribe(),tn={next:Ot.next&&zt(Ot.next,_t),error:Ot.error&&zt(Ot.error,_t),complete:Ot.complete&&zt(Ot.complete,_t)}):tn=Ot}this.destination=new Xt(tn)}}function _n(Ge){B.$.useDeprecatedSynchronousErrorHandling?(0,ye.l)(Ge):(0,_e.m)(Ge)}function wn(Ge,Ot){const{onStoppedNotification:Je}=B.$;Je&&Ce.f.setTimeout(()=>Je(Ge,Ot))}const Sn={closed:!0,next:$e.l,error:function yt(Ge){throw Ge},complete:$e.l}},1139:(Hn,vt,I)=>{I.d(vt,{I:()=>_e});var L=I(1215);const{isArray:a}=Array;function _e($e){return(0,L.T)(ct=>function B($e,ct){return a(ct)?$e(...ct):$e(ct)}($e,ct))}},1215:(Hn,vt,I)=>{I.d(vt,{T:()=>B});var L=I(3731),a=I(5015);function B(_e,$e){return(0,L.N)((ct,j)=>{let fe=0;ct.subscribe((0,a._)(j,Ae=>{j.next(_e.call($e,Ae,fe++))}))})}},1296:(Hn,vt,I)=>{I.d(vt,{x:()=>B});var L=I(5356),a=I(4602);function B(_e){return(0,a.T)(_e?.[L.l])}},1305:(Hn,vt,I)=>{I.d(vt,{F:()=>_e});var L=I(560),a=I(3731),B=I(5015);function _e(ct,j=L.D){return ct=ct??$e,(0,a.N)((fe,Ae)=>{let Ce,ye=!0;fe.subscribe((0,B._)(Ae,He=>{const kt=j(He);(ye||!ct(Ce,kt))&&(ye=!1,Ce=kt,Ae.next(He))}))})}function $e(ct,j){return ct===j}},1373:(Hn,vt,I)=>{I.d(vt,{$T:()=>Ct,LO:()=>ir,Sh:()=>Nn});var L=I(8424),a=I(6078),B=I(1698),_e=I(7385),$e=I(2474),ct=I(8813),j=I(649),fe=I(1572),Ae=I(5099),Ce=I(9333),ye=I(7650);I(1873);const kt="@firebase/remote-config",An="remote-config",Ge=new Ae.FA("remoteconfig","Remote Config",{"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported."});function Tn(ce=(0,fe.Sx)(),ie={}){var Pe,ze;ce=(0,Ae.Ku)(ce);const ve=(0,fe.j6)(ce,An);if(ve.isInitialized()){const Ze=ve.getOptions();if((0,Ae.bD)(Ze,ie))return ve.getImmediate();throw Ge.create("already-initialized")}ve.initialize({options:ie});const z=ve.getImmediate();return ie.initialFetchResponse&&(z._initializePromise=Promise.all([z._storage.setLastSuccessfulFetchResponse(ie.initialFetchResponse),z._storage.setActiveConfigEtag((null===(Pe=ie.initialFetchResponse)||void 0===Pe?void 0:Pe.eTag)||""),z._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),z._storageCache.setLastFetchStatus("success"),z._storageCache.setActiveConfig((null===(ze=ie.initialFetchResponse)||void 0===ze?void 0:ze.config)||{})]).then(),z._isInitializationComplete=!0),z}class Ye{constructor(ie,Pe,ze,ve){this.client=ie,this.storage=Pe,this.storageCache=ze,this.logger=ve}isCachedDataFresh(ie,Pe){if(!Pe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-Pe,ve=ze<=ie;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${ie}. Is cache hit: ${ve}.`),ve}fetch(ie){var Pe=this;return(0,j.A)(function*(){const[ze,ve]=yield Promise.all([Pe.storage.getLastSuccessfulFetchTimestampMillis(),Pe.storage.getLastSuccessfulFetchResponse()]);if(ve&&Pe.isCachedDataFresh(ie.cacheMaxAgeMillis,ze))return ve;ie.eTag=ve&&ve.eTag;const z=yield Pe.client.fetch(ie),Ze=[Pe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&Ze.push(Pe.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(Ze),z})()}}function Le(ce=navigator){return ce.languages&&ce.languages[0]||ce.language}class Re{constructor(ie,Pe,ze,ve,z,Ze){this.firebaseInstallations=ie,this.sdkVersion=Pe,this.namespace=ze,this.projectId=ve,this.apiKey=z,this.appId=Ze}fetch(ie){var Pe=this;return(0,j.A)(function*(){const[ze,ve]=yield Promise.all([Pe.firebaseInstallations.getId(),Pe.firebaseInstallations.getToken()]),Ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Pe.projectId}/namespaces/${Pe.namespace}:fetch?key=${Pe.apiKey}`,O={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ie.eTag||"*"},W={sdk_version:Pe.sdkVersion,app_instance_id:ze,app_instance_id_token:ve,app_id:Pe.appId,language_code:Le(),custom_signals:ie.customSignals},Z={method:"POST",headers:O,body:JSON.stringify(W)},Ke=fetch(Ze,Z),tt=new Promise((mr,jr)=>{ie.signal.addEventListener(()=>{const Oi=new Error("The operation was aborted.");Oi.name="AbortError",jr(Oi)})});let ht;try{yield Promise.race([Ke,tt]),ht=yield Ke}catch(mr){let jr="fetch-client-network";throw"AbortError"===mr?.name&&(jr="fetch-timeout"),Ge.create(jr,{originalErrorMessage:mr?.message})}let rn=ht.status;const gn=ht.headers.get("ETag")||void 0;let Cn,Mr;if(200===ht.status){let mr;try{mr=yield ht.json()}catch(jr){throw Ge.create("fetch-client-parse",{originalErrorMessage:jr?.message})}Cn=mr.entries,Mr=mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Mr?rn=500:"NO_CHANGE"===Mr?rn=304:("NO_TEMPLATE"===Mr||"EMPTY_CONFIG"===Mr)&&(Cn={}),304!==rn&&200!==rn)throw Ge.create("fetch-status",{httpStatus:rn});return{status:rn,eTag:gn,config:Cn}})()}}class vn{constructor(ie,Pe){this.client=ie,this.storage=Pe}fetch(ie){var Pe=this;return(0,j.A)(function*(){const ze=(yield Pe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Pe.attemptFetch(ie,ze)})()}attemptFetch(ie,Pe){var ze=this;return(0,j.A)(function*(ve,{throttleEndTimeMillis:z,backoffCount:Ze}){yield function sn(ce,ie){return new Promise((Pe,ze)=>{const ve=Math.max(ie-Date.now(),0),z=setTimeout(Pe,ve);ce.addEventListener(()=>{clearTimeout(z),ze(Ge.create("fetch-throttle",{throttleEndTimeMillis:ie}))})})}(ve.signal,z);try{const O=yield ze.client.fetch(ve);return yield ze.storage.deleteThrottleMetadata(),O}catch(O){if(!function Jt(ce){if(!(ce instanceof Ae.g&&ce.customData))return!1;const ie=Number(ce.customData.httpStatus);return 429===ie||500===ie||503===ie||504===ie}(O))throw O;const W={throttleEndTimeMillis:Date.now()+(0,Ae.p9)(Ze),backoffCount:Ze+1};return yield ze.storage.setThrottleMetadata(W),ze.attemptFetch(ve,W)}}).apply(this,arguments)}}class Ft{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(ie,Pe,ze,ve,z){this.app=ie,this._client=Pe,this._storageCache=ze,this._storage=ve,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}}function En(ce,ie){const Pe=ce.target.error||void 0;return Ge.create(ie,{originalErrorMessage:Pe&&Pe?.message})}const an="app_namespace_store";class Kr{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ie){return this.set("last_fetch_status",ie)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ie){return this.set("last_successful_fetch_timestamp_millis",ie)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ie){return this.set("last_successful_fetch_response",ie)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ie){return this.set("active_config",ie)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ie){return this.set("active_config_etag",ie)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ie){return this.set("throttle_metadata",ie)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}}class mi extends Kr{constructor(ie,Pe,ze,ve=function Zr(){return new Promise((ce,ie)=>{try{const Pe=indexedDB.open("firebase_remote_config",1);Pe.onerror=ze=>{ie(En(ze,"storage-open"))},Pe.onsuccess=ze=>{ce(ze.target.result)},Pe.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(an,{keyPath:"compositeKey"})}}catch(Pe){ie(Ge.create("storage-open",{originalErrorMessage:Pe?.message}))}})}()){super(),this.appId=ie,this.appName=Pe,this.namespace=ze,this.openDbPromise=ve}setCustomSignals(ie){var Pe=this;return(0,j.A)(function*(){const ve=(yield Pe.openDbPromise).transaction([an],"readwrite"),z=yield Pe.getWithTransaction("custom_signals",ve),Ze=Ci(ie,z||{});return yield Pe.setWithTransaction("custom_signals",Ze,ve),Ze})()}getWithTransaction(ie,Pe){var ze=this;return(0,j.A)(function*(){return new Promise((ve,z)=>{const Ze=Pe.objectStore(an),O=ze.createCompositeKey(ie);try{const W=Ze.get(O);W.onerror=Z=>{z(En(Z,"storage-get"))},W.onsuccess=Z=>{const Ke=Z.target.result;ve(Ke?Ke.value:void 0)}}catch(W){z(Ge.create("storage-get",{originalErrorMessage:W?.message}))}})})()}setWithTransaction(ie,Pe,ze){var ve=this;return(0,j.A)(function*(){return new Promise((z,Ze)=>{const O=ze.objectStore(an),W=ve.createCompositeKey(ie);try{const Z=O.put({compositeKey:W,value:Pe});Z.onerror=Ke=>{Ze(En(Ke,"storage-set"))},Z.onsuccess=()=>{z()}}catch(Z){Ze(Ge.create("storage-set",{originalErrorMessage:Z?.message}))}})})()}get(ie){var Pe=this;return(0,j.A)(function*(){const ve=(yield Pe.openDbPromise).transaction([an],"readonly");return Pe.getWithTransaction(ie,ve)})()}set(ie,Pe){var ze=this;return(0,j.A)(function*(){const z=(yield ze.openDbPromise).transaction([an],"readwrite");return ze.setWithTransaction(ie,Pe,z)})()}delete(ie){var Pe=this;return(0,j.A)(function*(){const ze=yield Pe.openDbPromise;return new Promise((ve,z)=>{const O=ze.transaction([an],"readwrite").objectStore(an),W=Pe.createCompositeKey(ie);try{const Z=O.delete(W);Z.onerror=Ke=>{z(En(Ke,"storage-delete"))},Z.onsuccess=()=>{ve()}}catch(Z){z(Ge.create("storage-delete",{originalErrorMessage:Z?.message}))}})})()}createCompositeKey(ie){return[this.appId,this.appName,this.namespace,ie].join()}}class Vn extends Kr{constructor(){super(...arguments),this.storage={}}get(ie){var Pe=this;return(0,j.A)(function*(){return Promise.resolve(Pe.storage[ie])})()}set(ie,Pe){var ze=this;return(0,j.A)(function*(){return ze.storage[ie]=Pe,Promise.resolve(void 0)})()}delete(ie){var Pe=this;return(0,j.A)(function*(){return Pe.storage[ie]=void 0,Promise.resolve()})()}setCustomSignals(ie){var Pe=this;return(0,j.A)(function*(){return Pe.storage.custom_signals=Ci(ie,Pe.storage.custom_signals||{}),Promise.resolve(Pe.storage.custom_signals)})()}}function Ci(ce,ie){const Pe=Object.assign(Object.assign({},ie),ce),ze=Object.fromEntries(Object.entries(Pe).filter(([ve,z])=>null!==z).map(([ve,z])=>"number"==typeof z?[ve,z.toString()]:[ve,z]));if(Object.keys(ze).length>100)throw Ge.create("custom-signal-max-allowed-signals",{maxSignals:100});return ze}class Xr{constructor(ie){this.storage=ie}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}loadFromStorage(){var ie=this;return(0,j.A)(function*(){const Pe=ie.storage.getLastFetchStatus(),ze=ie.storage.getLastSuccessfulFetchTimestampMillis(),ve=ie.storage.getActiveConfig(),z=ie.storage.getCustomSignals(),Ze=yield Pe;Ze&&(ie.lastFetchStatus=Ze);const O=yield ze;O&&(ie.lastSuccessfulFetchTimestampMillis=O);const W=yield ve;W&&(ie.activeConfig=W);const Z=yield z;Z&&(ie.customSignals=Z)})()}setLastFetchStatus(ie){return this.lastFetchStatus=ie,this.storage.setLastFetchStatus(ie)}setLastSuccessfulFetchTimestampMillis(ie){return this.lastSuccessfulFetchTimestampMillis=ie,this.storage.setLastSuccessfulFetchTimestampMillis(ie)}setActiveConfig(ie){return this.activeConfig=ie,this.storage.setActiveConfig(ie)}setCustomSignals(ie){var Pe=this;return(0,j.A)(function*(){Pe.customSignals=yield Pe.storage.setCustomSignals(ie)})()}}!function si(){(0,fe.om)(new Ce.uA(An,function ce(ie,{options:Pe}){const ze=ie.getProvider("app").getImmediate(),ve=ie.getProvider("installations-internal").getImmediate(),{projectId:z,apiKey:Ze,appId:O}=ze.options;if(!z)throw Ge.create("registration-project-id");if(!Ze)throw Ge.create("registration-api-key");if(!O)throw Ge.create("registration-app-id");const W=Pe?.templateId||"firebase",Z=(0,Ae.zW)()?new mi(O,ze.name,W):new Vn,Ke=new Xr(Z),tt=new ye.Vy(kt);tt.logLevel=ye.$b.ERROR;const ht=new Re(ve,fe.MF,W,z,Ze,O),rn=new vn(ht,Z),gn=new Ye(rn,Z,Ke,tt),Cn=new Ft(ze,gn,Ke,Z,tt);return function rr(ce){const ie=(0,Ae.Ku)(ce);ie._initializePromise||(ie._initializePromise=ie._storageCache.loadFromStorage().then(()=>{ie._isInitializationComplete=!0}))}(Cn),Cn},"PUBLIC").setMultipleInstances(!0)),(0,fe.KO)(kt,"0.6.5"),(0,fe.KO)(kt,"0.6.5","esm2017")}();class Ct{constructor(ie){return ie}}const ln="remote-config",Gn=new B.nKC("angularfire2.remote-config-instances");function Pr(ce){return(ie,Pe,ze)=>{if((0,a.Vy)(ze))return null;const ve=ie.runOutsideAngular(()=>ce(Pe));return new Ct(ve)}}const gr={provide:class Ht{constructor(){return(0,L.CA)(ln)}},deps:[[new _e.Xx1,Gn]]},Jr={provide:Ct,useFactory:function sr(ce,ie,Pe){if((0,a.Vy)(Pe))return null;const ze=(0,L.lR)(ln,ce,ie);return ze&&new Ct(ze)},deps:[[new _e.Xx1,Gn],$e.XU,_e.Agw]};function Nn(ce,...ie){return(0,ct.KO)("angularfire",L.xv.full,"rc"),(0,B.EmA)([Jr,gr,{provide:Gn,useFactory:Pr(ce),multi:!0,deps:[_e.SKi,B.zZn,_e.Agw,L.u0,$e.gL,...ie]}])}const ir=(0,L.S3)(Tn,!0)},1459:(Hn,vt,I)=>{I.d(vt,{m:()=>B});var L=I(8517),a=I(4179);function B(_e){a.f.setTimeout(()=>{const{onUnhandledError:$e}=L.$;if(!$e)throw _e;$e(_e)})}},1465:(Hn,vt,I)=>{I.d(vt,{Ay:()=>Et,OE:()=>Ce,VL:()=>Ge,kR:()=>ye});var L=I(8424),a=I(6078),B=I(1698),_e=I(2425),$e=I(7385),ct=I(2474),j=I(8813),fe=I(3730);const Ae="app-check";class Ce{constructor(Tn){return Tn}}class ye{constructor(){return(0,L.CA)(Ae)}}const kt=new B.nKC("angularfire2.app-check-instances"),An=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function _n($t){return(Tn,er,On)=>{!(0,a.Vy)(On)&&((0,_e.naY)()||An)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const rr=Tn.runOutsideAngular(()=>$t(er));return new Ce(rr)}}const yt={provide:ye,deps:[[new $e.Xx1,kt]]},wn={provide:Ce,useFactory:function zt($t,Tn){const er=(0,L.lR)(Ae,$t,Tn);return er&&new Ce(er)},deps:[[new $e.Xx1,kt],ct.XU,$e.Agw]};function Ge($t,...Tn){return(0,j.KO)("angularfire",L.xv.full,"app-check"),(0,B.EmA)([wn,yt,{provide:kt,useFactory:_n($t),multi:!0,deps:[$e.SKi,B.zZn,$e.Agw,L.u0,ct.gL,...Tn]}])}const Et=(0,L.S3)(fe.Ay,!0)},1572:(Hn,vt,I)=>{I.d(vt,{Dk:()=>Ci,KO:()=>Kn,MF:()=>Zr,Sx:()=>Vn,Wp:()=>Kr,j6:()=>sn,om:()=>Re,xZ:()=>ur});var L=I(649),a=I(9333),B=I(7650),_e=I(5099),$e=I(8609);class ct{constructor(Bt){this.container=Bt}getPlatformInfoString(){return this.container.getProviders().map(pn=>{if(function j(fn){const Bt=fn.getComponent();return"VERSION"===Bt?.type}(pn)){const bn=pn.getImmediate();return`${bn.library}/${bn.version}`}return null}).filter(pn=>pn).join(" ")}}const fe="@firebase/app",Ce=new B.Vy("@firebase/app"),ye="@firebase/app-compat",He="@firebase/analytics-compat",kt="@firebase/analytics",zt="@firebase/app-check-compat",Xt="@firebase/app-check",An="@firebase/auth",_n="@firebase/auth-compat",yt="@firebase/database",wn="@firebase/data-connect",Sn="@firebase/database-compat",Ge="@firebase/functions",Ot="@firebase/functions-compat",Je="@firebase/installations",Et="@firebase/installations-compat",tn="@firebase/messaging",_t="@firebase/messaging-compat",$t="@firebase/performance",Tn="@firebase/performance-compat",er="@firebase/remote-config",On="@firebase/remote-config-compat",rr="@firebase/storage",pr="@firebase/storage-compat",st="@firebase/firestore",Rn="@firebase/ai",de="@firebase/firestore-compat",at="firebase",Be="[DEFAULT]",ge={[fe]:"fire-core",[ye]:"fire-core-compat",[kt]:"fire-analytics",[He]:"fire-analytics-compat",[Xt]:"fire-app-check",[zt]:"fire-app-check-compat",[An]:"fire-auth",[_n]:"fire-auth-compat",[yt]:"fire-rtdb",[wn]:"fire-data-connect",[Sn]:"fire-rtdb-compat",[Ge]:"fire-fn",[Ot]:"fire-fn-compat",[Je]:"fire-iid",[Et]:"fire-iid-compat",[tn]:"fire-fcm",[_t]:"fire-fcm-compat",[$t]:"fire-perf",[Tn]:"fire-perf-compat",[er]:"fire-rc",[On]:"fire-rc-compat",[rr]:"fire-gcs",[pr]:"fire-gcs-compat",[st]:"fire-fst",[de]:"fire-fst-compat",[Rn]:"fire-vertex","fire-js":"fire-js",[at]:"fire-js-all"},Ne=new Map,pe=new Map,et=new Map;function Ye(fn,Bt){try{fn.container.addComponent(Bt)}catch(pn){Ce.debug(`Component ${Bt.name} failed to register with FirebaseApp ${fn.name}`,pn)}}function Re(fn){const Bt=fn.name;if(et.has(Bt))return Ce.debug(`There were multiple attempts to register component ${Bt}.`),!1;et.set(Bt,fn);for(const pn of Ne.values())Ye(pn,fn);for(const pn of pe.values())Ye(pn,fn);return!0}function sn(fn,Bt){const pn=fn.container.getProvider("heartbeat").getImmediate({optional:!0});return pn&&pn.triggerHeartbeat(),fn.container.getProvider(Bt)}function ur(fn){return null!=fn&&void 0!==fn.settings}const En=new _e.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class an{constructor(Bt,pn,bn){this._isDeleted=!1,this._options=Object.assign({},Bt),this._config=Object.assign({},pn),this._name=pn.name,this._automaticDataCollectionEnabled=pn.automaticDataCollectionEnabled,this._container=bn,this.container.addComponent(new a.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Bt){this._isDeleted=Bt}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}const Zr="11.10.0";function Kr(fn,Bt={}){let pn=fn;"object"!=typeof Bt&&(Bt={name:Bt});const bn=Object.assign({name:Be,automaticDataCollectionEnabled:!0},Bt),dr=bn.name;if("string"!=typeof dr||!dr)throw En.create("bad-app-name",{appName:String(dr)});if(pn||(pn=(0,_e.T9)()),!pn)throw En.create("no-options");const ir=Ne.get(dr);if(ir){if((0,_e.bD)(pn,ir.options)&&(0,_e.bD)(bn,ir.config))return ir;throw En.create("duplicate-app",{appName:dr})}const Ir=new a.h1(dr);for(const Ki of et.values())Ir.addComponent(Ki);const qr=new an(pn,bn,Ir);return Ne.set(dr,qr),qr}function Vn(fn=Be){const Bt=Ne.get(fn);if(!Bt&&fn===Be&&(0,_e.T9)())return Kr();if(!Bt)throw En.create("no-app",{appName:fn});return Bt}function Ci(){return Array.from(Ne.values())}function Kn(fn,Bt,pn){var bn;let dr=null!==(bn=ge[fn])&&void 0!==bn?bn:fn;pn&&(dr+=`-${pn}`);const ir=dr.match(/\s|\//),Ir=Bt.match(/\s|\//);if(ir||Ir){const qr=[`Unable to register library "${dr}" with version "${Bt}":`];return ir&&qr.push(`library name "${dr}" contains illegal characters (whitespace or "/")`),ir&&Ir&&qr.push("and"),Ir&&qr.push(`version name "${Bt}" contains illegal characters (whitespace or "/")`),void Ce.warn(qr.join(" "))}Re(new a.uA(`${dr}-version`,()=>({library:dr,version:Bt}),"VERSION"))}const ln="firebase-heartbeat-store";let Ht=null;function It(){return Ht||(Ht=(0,$e.P2)("firebase-heartbeat-database",1,{upgrade:(fn,Bt)=>{if(0===Bt)try{fn.createObjectStore(ln)}catch(pn){console.warn(pn)}}}).catch(fn=>{throw En.create("idb-open",{originalErrorMessage:fn.message})})),Ht}function sr(){return(sr=(0,L.A)(function*(fn){try{const pn=(yield It()).transaction(ln),bn=yield pn.objectStore(ln).get(Jr(fn));return yield pn.done,bn}catch(Bt){if(Bt instanceof _e.g)Ce.warn(Bt.message);else{const pn=En.create("idb-get",{originalErrorMessage:Bt?.message});Ce.warn(pn.message)}}})).apply(this,arguments)}function Pr(fn,Bt){return gr.apply(this,arguments)}function gr(){return(gr=(0,L.A)(function*(fn,Bt){try{const bn=(yield It()).transaction(ln,"readwrite");yield bn.objectStore(ln).put(Bt,Jr(fn)),yield bn.done}catch(pn){if(pn instanceof _e.g)Ce.warn(pn.message);else{const bn=En.create("idb-set",{originalErrorMessage:pn?.message});Ce.warn(bn.message)}}})).apply(this,arguments)}function Jr(fn){return`${fn.name}!${fn.options.appId}`}class xr{constructor(Bt){this.container=Bt,this._heartbeatsCache=null;const pn=this.container.getProvider("app").getImmediate();this._storage=new yi(pn),this._heartbeatsCachePromise=this._storage.read().then(bn=>(this._heartbeatsCache=bn,bn))}triggerHeartbeat(){var Bt=this;return(0,L.A)(function*(){var pn,bn;try{const ir=Bt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ir=yr();if(null==(null===(pn=Bt._heartbeatsCache)||void 0===pn?void 0:pn.heartbeats)&&(Bt._heartbeatsCache=yield Bt._heartbeatsCachePromise,null==(null===(bn=Bt._heartbeatsCache)||void 0===bn?void 0:bn.heartbeats))||Bt._heartbeatsCache.lastSentHeartbeatDate===Ir||Bt._heartbeatsCache.heartbeats.some(qr=>qr.date===Ir))return;if(Bt._heartbeatsCache.heartbeats.push({date:Ir,agent:ir}),Bt._heartbeatsCache.heartbeats.length>30){const qr=function Er(fn){if(0===fn.length)return-1;let Bt=0,pn=fn[0].date;for(let bn=1;bn<fn.length;bn++)fn[bn].date<pn&&(pn=fn[bn].date,Bt=bn);return Bt}(Bt._heartbeatsCache.heartbeats);Bt._heartbeatsCache.heartbeats.splice(qr,1)}return Bt._storage.overwrite(Bt._heartbeatsCache)}catch(dr){Ce.warn(dr)}})()}getHeartbeatsHeader(){var Bt=this;return(0,L.A)(function*(){var pn;try{if(null===Bt._heartbeatsCache&&(yield Bt._heartbeatsCachePromise),null==(null===(pn=Bt._heartbeatsCache)||void 0===pn?void 0:pn.heartbeats)||0===Bt._heartbeatsCache.heartbeats.length)return"";const bn=yr(),{heartbeatsToSend:dr,unsentEntries:ir}=function br(fn,Bt=1024){const pn=[];let bn=fn.slice();for(const dr of fn){const ir=pn.find(Ir=>Ir.agent===dr.agent);if(ir){if(ir.dates.push(dr.date),ei(pn)>Bt){ir.dates.pop();break}}else if(pn.push({agent:dr.agent,dates:[dr.date]}),ei(pn)>Bt){pn.pop();break}bn=bn.slice(1)}return{heartbeatsToSend:pn,unsentEntries:bn}}(Bt._heartbeatsCache.heartbeats),Ir=(0,_e.Uj)(JSON.stringify({version:2,heartbeats:dr}));return Bt._heartbeatsCache.lastSentHeartbeatDate=bn,ir.length>0?(Bt._heartbeatsCache.heartbeats=ir,yield Bt._storage.overwrite(Bt._heartbeatsCache)):(Bt._heartbeatsCache.heartbeats=[],Bt._storage.overwrite(Bt._heartbeatsCache)),Ir}catch(bn){return Ce.warn(bn),""}})()}}function yr(){return(new Date).toISOString().substring(0,10)}class yi{constructor(Bt){this.app=Bt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,L.A)(function*(){return!!(0,_e.zW)()&&(0,_e.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Bt=this;return(0,L.A)(function*(){if(yield Bt._canUseIndexedDBPromise){const bn=yield function Gn(fn){return sr.apply(this,arguments)}(Bt.app);return bn?.heartbeats?bn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Bt){var pn=this;return(0,L.A)(function*(){var bn;if(yield pn._canUseIndexedDBPromise){const ir=yield pn.read();return Pr(pn.app,{lastSentHeartbeatDate:null!==(bn=Bt.lastSentHeartbeatDate)&&void 0!==bn?bn:ir.lastSentHeartbeatDate,heartbeats:Bt.heartbeats})}})()}add(Bt){var pn=this;return(0,L.A)(function*(){var bn;if(yield pn._canUseIndexedDBPromise){const ir=yield pn.read();return Pr(pn.app,{lastSentHeartbeatDate:null!==(bn=Bt.lastSentHeartbeatDate)&&void 0!==bn?bn:ir.lastSentHeartbeatDate,heartbeats:[...ir.heartbeats,...Bt.heartbeats]})}})()}}function ei(fn){return(0,_e.Uj)(JSON.stringify({version:2,heartbeats:fn})).length}!function Un(fn){Re(new a.uA("platform-logger",Bt=>new ct(Bt),"PRIVATE")),Re(new a.uA("heartbeat",Bt=>new xr(Bt),"PRIVATE")),Kn(fe,"0.13.2",fn),Kn(fe,"0.13.2","esm2017"),Kn("fire-js","")}("")},1698:(Hn,vt,I)=>{let L;function a(){return L}function B(S){const Y=L;return L=S,Y}I.d(vt,{JEi:()=>Ri,EJG:()=>wr,Yrj:()=>Qr,VVG:()=>xe,Y20:()=>it,SKP:()=>Tt,hk6:()=>ni,eVN:()=>xs,b5C:()=>zr,rQE:()=>to,X5O:()=>$i,qFA:()=>Bi,qQL:()=>wo,abz:()=>na,tQN:()=>Ho,pcR:()=>mo,oMQ:()=>Hi,Mlv:()=>or,MZA:()=>Pn,M0L:()=>xn,Z63:()=>Ar,VML:()=>ys,uvJ:()=>J,zcH:()=>No,Wg1:()=>Ji,Yw1:()=>cs,jgP:()=>Ro,tcA:()=>re,ID:()=>Po,YEL:()=>Gt,B9r:()=>Fe,GBX:()=>ui,ZTf:()=>Fo,nKC:()=>Kr,zZn:()=>qo,rJ1:()=>$s,nfM:()=>Ue,s6P:()=>X,K29:()=>ae,CQl:()=>Pr,p9y:()=>xr,zSs:()=>Nn,ONQ:()=>Zr,hmW:()=>Ur,yAH:()=>lr,KXn:()=>Qi,oTH:()=>qe,Czx:()=>oo,f7T:()=>Ko,wVl:()=>Yi,GYQ:()=>bo,u5s:()=>Qo,rev:()=>ac,Ds7:()=>io,e5P:()=>Me,Iaj:()=>As,GpT:()=>Jn,buA:()=>He,AQb:()=>ds,jNX:()=>Ka,eDl:()=>eo,qlT:()=>U,bm_:()=>Q,r4V:()=>Eo,ok8:()=>ye,Evm:()=>Zi,Jy$:()=>jo,laP:()=>Xt,EYC:()=>li,ng7:()=>jr,llW:()=>Pi,gsJ:()=>ii,GZS:()=>Yt,iYM:()=>Ne,PEr:()=>ho,z7f:()=>et,LZP:()=>Ye,Xln:()=>rr,yzR:()=>Mi,TWe:()=>Li,LIA:()=>On,GWr:()=>Lt,pbo:()=>Be,bBq:()=>kn,Af3:()=>ro,zQk:()=>_o,oZy:()=>yo,tF7:()=>Le,ZFY:()=>qr,cP4:()=>Qn,MdC:()=>wi,XvL:()=>de,KET:()=>jn,Tkx:()=>Cs,iw4:()=>pr,tdH:()=>ia,pr_:()=>sn,IAh:()=>Rn,U45:()=>$t,WrV:()=>Tn,kNT:()=>Re,MI:()=>Ys,biv:()=>is,ZQF:()=>st,Cv0:()=>er,W0r:()=>Wt,R2n:()=>Xe,VKj:()=>Ee,Rom:()=>me,z6V:()=>rn,n$e:()=>Ge,hjC:()=>Ke,Pz9:()=>Co,_Z$:()=>ei,N79:()=>xa,xLP:()=>Ni,zuh:()=>It,BI7:()=>Ht,U7d:()=>Ct,uXy:()=>ln,nZS:()=>Xn,ihb:()=>Go,ID8:()=>Bu,gv8:()=>Ms,dwj:()=>wn,Bqz:()=>Oi,OsK:()=>zt,Rfq:()=>Et,c$7:()=>Sr,gxQ:()=>xt,ckz:()=>nu,kLh:()=>yt,xUg:()=>Ut,KdJ:()=>Rs,db4:()=>Cc,VPL:()=>b,MT:()=>Ps,Z9v:()=>Ds,Ab:()=>Jo,w7Z:()=>gs,Mx4:()=>fs,veI:()=>ta,HaV:()=>Dr,Agf:()=>ar,znI:()=>Ta,wGu:()=>mr,ebl:()=>_r,OAn:()=>qa,_0$:()=>Ga,UaU:()=>fi,vaC:()=>Js,d31:()=>Ha,ZRn:()=>la,phH:()=>St,WbQ:()=>on,WB9:()=>pt,d_l:()=>ha,vNG:()=>xi,oyA:()=>gi,_px:()=>Oe,CpD:()=>Dt,XRZ:()=>Ss,klJ:()=>oc,Fje:()=>bc,b$O:()=>os,SMZ:()=>_n,WQX:()=>Z,MzJ:()=>Ir,jXY:()=>$,MME:()=>Si,JlV:()=>vi,Qs1:()=>hr,srX:()=>Ln,vOT:()=>va,YWB:()=>D,EPY:()=>To,yoD:()=>zn,P3H:()=>q,Jzi:()=>_t,rFz:()=>N,JjR:()=>ps,M6u:()=>go,KtD:()=>Hs,muV:()=>Ft,A0l:()=>qt,q$2:()=>Rt,yP_:()=>We,EFk:()=>Di,Hps:()=>ra,UhH:()=>Sc,QuC:()=>ai,Y3W:()=>di,n$r:()=>Lr,K7h:()=>Qe,FRF:()=>Pt,ezK:()=>Cr,m7n:()=>Do,niQ:()=>C,krE:()=>Fu,bll:()=>F,Hh6:()=>da,EmA:()=>Ui,blu:()=>za,HAh:()=>Oo,WfI:()=>$n,xbp:()=>Ao,jvu:()=>ee,lQ1:()=>oa,Rc9:()=>Zt,E6O:()=>Tr,DyX:()=>Ws,eFE:()=>br,dMS:()=>so,HUe:()=>Na,nl4:()=>tn,N4e:()=>uo,XaM:()=>Gn,Kw3:()=>qi,vQI:()=>fa,RZ9:()=>Ls,GA0:()=>Fs,iMd:()=>Or,Pfq:()=>M,xyx:()=>Zo,a2B:()=>ir,kcM:()=>Gr,DFp:()=>Ci,P2g:()=>le,cBl:()=>bt,ypq:()=>ke,vPA:()=>Ya,HO5:()=>kr,M_e:()=>Mo,B22:()=>Gi,ik5:()=>Ns,AsM:()=>Sn,PP7:()=>yi,dgT:()=>Un,$8:()=>pe,$Hz:()=>pn,zAe:()=>Xs,IvY:()=>bs,_gW:()=>us,F1c:()=>tu,ITl:()=>_s,brz:()=>te,jRZ:()=>Ia,SX7:()=>Ei,jDH:()=>Jt,G2t:()=>ur,fuf:()=>ka,cSN:()=>Zs,KVO:()=>O,dmw:()=>W,joV:()=>tr,By9:()=>Yn,qSk:()=>Qt,Njj:()=>ea,eBV:()=>Qa});const _e=Symbol("NotFound");class $e extends Error{name="\u0275NotFound";constructor(Y){super(Y)}}function ct(S){return S===_e||"\u0275NotFound"===S?.name}var j=I(6777),fe=I(9477),Ae=I(7014);const ye="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class He extends Error{code;constructor(Y,Te){super(zt(Y,Te)),this.code=Y}}function zt(S,Y){return`${function kt(S){return`NG0${Math.abs(S)}`}(S)}${Y?": "+Y:""}`}const Xt=globalThis;function _n(){return!1}function yt(S){for(let Y in S)if(S[Y]===yt)return Y;throw Error("")}function wn(S,Y){for(const Te in Y)Y.hasOwnProperty(Te)&&!S.hasOwnProperty(Te)&&(S[Te]=Y[Te])}function Sn(S){if("string"==typeof S)return S;if(Array.isArray(S))return`[${S.map(Sn).join(", ")}]`;if(null==S)return""+S;const Y=S.overriddenName||S.name;if(Y)return`${Y}`;const Te=S.toString();if(null==Te)return""+Te;const nn=Te.indexOf("\n");return nn>=0?Te.slice(0,nn):Te}function Ge(S,Y){return S?Y?`${S} ${Y}`:S:Y||""}const Je=yt({__forward_ref__:yt});function Et(S){return S.__forward_ref__=Et,S.toString=function(){return Sn(this())},S}function tn(S){return _t(S)?S():S}function _t(S){return"function"==typeof S&&S.hasOwnProperty(Je)&&S.__forward_ref__===Et}function $t(S,Y){"number"!=typeof S&&pe(Y,typeof S,"number","===")}function Tn(S,Y,Te){$t(S,"Expected a number"),function at(S,Y,Te){S<=Y||pe(Te,S,Y,"<=")}(S,Te,"Expected number to be less than or equal to"),Be(S,Y,"Expected number to be greater than or equal to")}function er(S,Y){"string"!=typeof S&&pe(Y,null===S?"null":typeof S,"string","===")}function On(S,Y){"function"!=typeof S&&pe(Y,null===S?"null":typeof S,"function","===")}function rr(S,Y,Te){S!=Y&&pe(Te,S,Y,"==")}function pr(S,Y,Te){S==Y&&pe(Te,S,Y,"!=")}function st(S,Y,Te){S!==Y&&pe(Te,S,Y,"===")}function Rn(S,Y,Te){S===Y&&pe(Te,S,Y,"!==")}function de(S,Y,Te){S<Y||pe(Te,S,Y,"<")}function Lt(S,Y,Te){S>Y||pe(Te,S,Y,">")}function Be(S,Y,Te){S>=Y||pe(Te,S,Y,">=")}function Ne(S,Y){null==S&&pe(Y,S,null,"!=")}function pe(S,Y,Te,nn){throw new Error(`ASSERTION ERROR: ${S}`+(null==nn?"":` [Expected=> ${Te} ${nn} ${Y} <=Actual]`))}function et(S){S instanceof Node||pe(`The provided value must be an instance of a DOM Node but got ${Sn(S)}`)}function Ye(S){S instanceof Element||pe(`The provided value must be an element but got ${Sn(S)}`)}function Le(S,Y){Ne(S,"Array must be defined.");const Te=S.length;(Y<0||Y>=Te)&&pe(`Index expected to be less than ${Te} but got ${Y}`)}function Re(S,...Y){if(-1!==Y.indexOf(S))return!0;pe(`Expected value to be one of ${JSON.stringify(Y)} but was ${JSON.stringify(S)}.`)}function sn(S){null!==(0,j.nR)()&&pe(`${S}() should never be called in a reactive context.`)}function Jt(S){return{token:S.token,providedIn:S.providedIn||null,factory:S.factory,value:void 0}}function ur(S){return{providers:S.providers||[],imports:S.imports||[]}}function ft(S){return function En(S,Y){return S.hasOwnProperty(Y)&&S[Y]||null}(S,lr)}function Ft(S){return null!==ft(S)}function _r(S){return S&&S.hasOwnProperty(Zr)?S[Zr]:null}const lr=yt({\u0275prov:yt}),Zr=yt({\u0275inj:yt});class Kr{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(Y,Te){this._desc=Y,this.\u0275prov=void 0,"number"==typeof Te?this.__NG_ELEMENT_ID__=Te:void 0!==Te&&(this.\u0275prov=Jt({token:this,providedIn:Te.providedIn||"root",factory:Te.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let mi;function Vn(){return pe("getInjectorProfilerContext should never be called in production mode"),mi}function Ci(S){pe("setInjectorProfilerContext should never be called in production mode");const Y=mi;return mi=S,Y}const Xr=[],si=()=>{};function Gr(S){return pe("setInjectorProfiler should never be called in production mode"),null!==S?(Xr.includes(S)||Xr.push(S),()=>function Kn(S){const Y=Xr.indexOf(S);-1!==Y&&Xr.splice(Y,1)}(S)):(Xr.length=0,si)}function _i(S){pe("Injector profiler should never be called in production mode");for(let Y=0;Y<Xr.length;Y++)(0,Xr[Y])(S)}function Xn(S,Y=!1){let Te;pe("Injector profiler should never be called in production mode"),Te="function"==typeof S||S instanceof Kr?S:tn(S.provide);let nn=S;S instanceof Kr&&(nn=S.\u0275prov||S),_i({type:2,context:Vn(),providerRecord:{token:Te,provider:nn,isViewProvider:Y}})}function Ct(S){pe("Injector profiler should never be called in production mode"),_i({type:4,context:Vn(),token:S})}function ln(S){pe("Injector profiler should never be called in production mode"),_i({type:1,context:Vn(),instance:{value:S}})}function Ht(S,Y,Te){pe("Injector profiler should never be called in production mode"),_i({type:0,context:Vn(),service:{token:S,value:Y,flags:Te}})}function It(S){pe("Injector profiler should never be called in production mode"),_i({type:3,context:Vn(),effect:S})}function Gn(S,Y,Te){pe("runInInjectorProfilerContext should never be called in production mode");const nn=Ci({injector:S,token:Y});try{Te()}finally{Ci(nn)}}function sr(S){return S&&!!S.\u0275providers}const Pr=yt({\u0275cmp:yt}),gr=yt({\u0275dir:yt}),Jr=yt({\u0275pipe:yt}),Ur=yt({\u0275mod:yt}),Nn=yt({\u0275fac:yt}),xr=yt({__NG_ELEMENT_ID__:yt}),yr=yt({__NG_ENV_ID__:yt});function br(S){return"string"==typeof S?S:null==S?"":String(S)}function yi(S){return"function"==typeof S?S.name||S.toString():"object"==typeof S&&null!=S&&"function"==typeof S.type?S.type.name||S.type.toString():br(S)}function ei(S){let Y=S[Pr]||null;return null!==Y&&Y.debugInfo?function Er(S){return S.filePath&&S.lineNumber?`${S.className} (at ${S.filePath}:${S.lineNumber})`:S.className}(Y.debugInfo):yi(S)}function Un(S,Y){throw new He(-200,S)}function pn(S,Y){throw new He(-201,!1)}let bn;function dr(){return bn}function ir(S){const Y=bn;return bn=S,Y}function Ir(S,Y,Te){const nn=ft(S);return nn&&"root"==nn.providedIn?void 0===nn.value?nn.value=nn.factory():nn.value:8&Te?null:void 0!==Y?Y:void pn()}function qr(S){}const Ii={},Ve="__NG_DI_FLAG__";class ce{injector;constructor(Y){this.injector=Y}retrieve(Y,Te){const nn=Ke(Te)||0;try{return this.injector.get(Y,8&nn?null:Ii,nn)}catch(Dn){if(ct(Dn))return Dn;throw Dn}}}const ie="ngTempTokenPath",ze=/\n/gm,z="__source";function Ze(S,Y=0){const Te=a();if(void 0===Te)throw new He(-203,!1);if(null===Te)return Ir(S,void 0,Y);{const nn=function tt(S){return{optional:!!(8&S),host:!!(1&S),self:!!(2&S),skipSelf:!!(4&S)}}(Y),Dn=Te.retrieve(S,nn);if(ct(Dn)){if(nn.optional)return null;throw Dn}return Dn}}function O(S,Y=0){return(dr()||Ze)(tn(S),Y)}function W(S){throw new He(202,!1)}function Z(S,Y){return O(S,Ke(Y))}function Ke(S){return typeof S>"u"||"number"==typeof S?S:0|(S.optional&&8)|(S.host&&1)|(S.self&&2)|(S.skipSelf&&4)}function ht(S){const Y=[];for(let Te=0;Te<S.length;Te++){const nn=tn(S[Te]);if(Array.isArray(nn)){if(0===nn.length)throw new He(900,!1);let Dn,Hr=0;for(let po=0;po<nn.length;po++){const $o=nn[po],xo=gn($o);"number"==typeof xo?-1===xo?Dn=$o.token:Hr|=xo:Dn=$o}Y.push(O(Dn,Hr))}else Y.push(O(nn))}return Y}function rn(S,Y){return S[Ve]=Y,S.prototype[Ve]=Y,S}function gn(S){return S[Ve]}function mr(S,Y){return S.hasOwnProperty(Nn)?S[Nn]:null}function jr(S,Y,Te){if(S.length!==Y.length)return!1;for(let nn=0;nn<S.length;nn++){let Dn=S[nn],Hr=Y[nn];if(Te&&(Dn=Te(Dn),Hr=Te(Hr)),Hr!==Dn)return!1}return!0}function Oi(S){return S.flat(Number.POSITIVE_INFINITY)}function Ni(S,Y){S.forEach(Te=>Array.isArray(Te)?Ni(Te,Y):Y(Te))}function li(S,Y,Te){Y>=S.length?S.push(Te):S.splice(Y,0,Te)}function Tr(S,Y){return Y>=S.length-1?S.pop():S.splice(Y,1)[0]}function $n(S,Y){const Te=[];for(let nn=0;nn<S;nn++)Te.push(Y);return Te}function ii(S,Y,Te){const nn=S.length-Te;for(;Y<nn;)S[Y]=S[Y+Te],Y++;for(;Te--;)S.pop()}function Pi(S,Y,Te,nn){let Dn=S.length;if(Dn==Y)S.push(Te,nn);else if(1===Dn)S.push(nn,S[0]),S[0]=Te;else{for(Dn--,S.push(S[Dn-1],S[Dn]);Dn>Y;)S[Dn]=S[Dn-2],Dn--;S[Y]=Te,S[Y+1]=nn}}function Cr(S,Y,Te){let nn=Pt(S,Y);return nn>=0?S[1|nn]=Te:(nn=~nn,Pi(S,nn,Y,Te)),nn}function Qe(S,Y){const Te=Pt(S,Y);if(Te>=0)return S[1|Te]}function Pt(S,Y){return function dn(S,Y,Te){let nn=0,Dn=S.length>>Te;for(;Dn!==nn;){const Hr=nn+(Dn-nn>>1),po=S[Hr<<Te];if(Y===po)return Hr<<Te;po>Y?Dn=Hr:nn=Hr+1}return~(Dn<<Te)}(S,Y,1)}const Pn={},or=[],Ar=new Kr(""),ue=new Kr("",-1),Fe=new Kr("");class qe{get(Y,Te=Ii){if(Te===Ii)throw new $e(`NullInjectorError: No provider for ${Sn(Y)}!`);return Te}}function St(S){return S[Ur]||null}function on(S){const Y=St(S);if(!Y)throw new He(915,!1);return Y}function Ut(S){return S[Pr]||null}function ar(S){const Y=Dr(S);if(!Y)throw new He(916,!1);return Y}function Dr(S){return S[gr]||null}function gi(S){return S[Jr]||null}function ai(S){const Y=Ut(S)||Dr(S)||gi(S);return null!==Y&&Y.standalone}function Ui(S){return{\u0275providers:S}}function ti(...S){return{\u0275providers:$(0,S),\u0275fromNgModule:!0}}function $(S,...Y){const Te=[],nn=new Set;let Dn;const Hr=po=>{Te.push(po)};return Ni(Y,po=>{const $o=po;te($o,Hr,[],nn)&&(Dn||=[],Dn.push($o))}),void 0!==Dn&&be(Dn,Hr),Te}function be(S,Y){for(let Te=0;Te<S.length;Te++){const{ngModule:nn,providers:Dn}=S[Te];dt(Dn,Hr=>{Y(Hr,nn)})}}function te(S,Y,Te,nn){if(!(S=tn(S)))return!1;let Dn=null,Hr=_r(S);const po=!Hr&&Ut(S);if(Hr||po){if(po&&!po.standalone)return!1;Dn=S}else{const xo=S.ngModule;if(Hr=_r(xo),!Hr)return!1;Dn=xo}const $o=nn.has(Dn);if(po){if($o)return!1;if(nn.add(Dn),po.dependencies){const xo="function"==typeof po.dependencies?po.dependencies():po.dependencies;for(const Yo of xo)te(Yo,Y,Te,nn)}}else{if(!Hr)return!1;{if(null!=Hr.imports&&!$o){let Yo;nn.add(Dn);try{Ni(Hr.imports,sa=>{te(sa,Y,Te,nn)&&(Yo||=[],Yo.push(sa))})}finally{}void 0!==Yo&&be(Yo,Y)}if(!$o){const Yo=mr(Dn)||(()=>new Dn);Y({provide:Dn,useFactory:Yo,deps:or},Dn),Y({provide:Fe,useValue:Dn,multi:!0},Dn),Y({provide:Ar,useValue:()=>O(Dn),multi:!0},Dn)}const xo=Hr.providers;if(null!=xo&&!$o){const Yo=S;dt(xo,sa=>{Y(sa,Yo)})}}}return Dn!==S&&void 0!==S.providers}function dt(S,Y){for(let Te of S)sr(Te)&&(Te=Te.\u0275providers),Array.isArray(Te)?dt(Te,Y):Y(Te)}const mn=yt({provide:String,useValue:yt});function Mn(S){return null!==S&&"object"==typeof S&&mn in S}function di(S){return"function"==typeof S}function Si(S){return!!S.useClass}const ui=new Kr(""),ji={},hi={};let Ti;function pt(){return void 0===Ti&&(Ti=new qe),Ti}class J{}class Me extends J{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(Y,Te,nn,Dn){super(),this.parent=Te,this.source=nn,this.scopes=Dn,Ai(Y,po=>this.processProvider(po)),this.records.set(ue,cr(void 0,this)),Dn.has("environment")&&this.records.set(J,cr(void 0,this));const Hr=this.records.get(ui);null!=Hr&&"string"==typeof Hr.value&&this.scopes.add(Hr.value),this.injectorDefTypes=new Set(this.get(Fe,or,{self:!0}))}retrieve(Y,Te){const nn=Ke(Te)||0;try{return this.get(Y,Ii,nn)}catch(Dn){if(ct(Dn))return Dn;throw Dn}}destroy(){In(this),this._destroyed=!0;const Y=(0,j.Ht)(null);try{for(const nn of this._ngOnDestroyHooks)nn.ngOnDestroy();const Te=this._onDestroyHooks;this._onDestroyHooks=[];for(const nn of Te)nn()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,j.Ht)(Y)}}onDestroy(Y){return In(this),this._onDestroyHooks.push(Y),()=>this.removeOnDestroy(Y)}runInContext(Y){In(this);const Te=B(this),nn=ir(void 0);try{return Y()}finally{B(Te),ir(nn)}}get(Y,Te=Ii,nn){if(In(this),Y.hasOwnProperty(yr))return Y[yr](this);const Dn=Ke(nn),po=B(this),$o=ir(void 0);try{if(!(4&Dn)){let Yo=this.records.get(Y);if(void 0===Yo){const sa=function Fi(S){return"function"==typeof S||"object"==typeof S&&"InjectionToken"===S.ngMetadataName}(Y)&&ft(Y);Yo=sa&&this.injectableDefInScope(sa)?cr(Ie(Y),ji):null,this.records.set(Y,Yo)}if(null!=Yo)return this.hydrate(Y,Yo)}return(2&Dn?pt():this.parent).get(Y,Te=8&Dn&&Te===Ii?null:Te)}catch(xo){if(ct(xo)){if((xo[ie]=xo[ie]||[]).unshift(Sn(Y)),po)throw xo;return function Cn(S,Y,Te,nn){const Dn=S[ie];throw Y[z]&&Dn.unshift(Y[z]),S.message=function Mr(S,Y,Te,nn=null){S=S&&"\n"===S.charAt(0)&&"\u0275"==S.charAt(1)?S.slice(2):S;let Dn=Sn(Y);if(Array.isArray(Y))Dn=Y.map(Sn).join(" -> ");else if("object"==typeof Y){let Hr=[];for(let po in Y)if(Y.hasOwnProperty(po)){let $o=Y[po];Hr.push(po+":"+("string"==typeof $o?JSON.stringify($o):Sn($o)))}Dn=`{${Hr.join(", ")}}`}return`${Te}${nn?"("+nn+")":""}[${Dn}]: ${S.replace(ze,"\n  ")}`}("\n"+S.message,Dn,Te,nn),S.ngTokenPath=Dn,S[ie]=null,S}(xo,Y,"R3InjectorError",this.source)}throw xo}finally{ir($o),B(po)}}resolveInjectorInitializers(){const Y=(0,j.Ht)(null),Te=B(this),nn=ir(void 0);try{const Hr=this.get(Ar,or,{self:!0});for(const po of Hr)po()}finally{B(Te),ir(nn),(0,j.Ht)(Y)}}toString(){const Y=[],Te=this.records;for(const nn of Te.keys())Y.push(Sn(nn));return`R3Injector[${Y.join(", ")}]`}processProvider(Y){let Te=di(Y=tn(Y))?Y:tn(Y&&Y.provide);const nn=function At(S){return Mn(S)?cr(void 0,S.useValue):cr(Zt(S),ji)}(Y);if(!di(Y)&&!0===Y.multi){let Dn=this.records.get(Te);Dn||(Dn=cr(void 0,ji,!0),Dn.factory=()=>ht(Dn.multi),this.records.set(Te,Dn)),Te=Y,Dn.multi.push(Y)}this.records.set(Te,nn)}hydrate(Y,Te){const nn=(0,j.Ht)(null);try{return Te.value===hi?Un(Sn(Y)):Te.value===ji&&(Te.value=hi,Te.value=Te.factory()),"object"==typeof Te.value&&Te.value&&function ki(S){return null!==S&&"object"==typeof S&&"function"==typeof S.ngOnDestroy}(Te.value)&&this._ngOnDestroyHooks.add(Te.value),Te.value}finally{(0,j.Ht)(nn)}}injectableDefInScope(Y){if(!Y.providedIn)return!1;const Te=tn(Y.providedIn);return"string"==typeof Te?"any"===Te||this.scopes.has(Te):this.injectorDefTypes.has(Te)}removeOnDestroy(Y){const Te=this._onDestroyHooks.indexOf(Y);-1!==Te&&this._onDestroyHooks.splice(Te,1)}}function Ie(S){const Y=ft(S),Te=null!==Y?Y.factory:mr(S);if(null!==Te)return Te;if(S instanceof Kr)throw new He(204,!1);if(S instanceof Function)return function je(S){if(S.length>0)throw new He(204,!1);const Te=function an(S){return(S?.[lr]??null)||null}(S);return null!==Te?()=>Te.factory(S):()=>new S}(S);throw new He(204,!1)}function Zt(S,Y,Te){let nn;if(di(S)){const Dn=tn(S);return mr(Dn)||Ie(Dn)}if(Mn(S))nn=()=>tn(S.useValue);else if(function ci(S){return!(!S||!S.useFactory)}(S))nn=()=>S.useFactory(...ht(S.deps||[]));else if(function qn(S){return!(!S||!S.useExisting)}(S))nn=()=>O(tn(S.useExisting));else{const Dn=tn(S&&(S.useClass||S.provide));if(!function Br(S){return!!S.deps}(S))return mr(Dn)||Ie(Dn);nn=()=>new Dn(...ht(S.deps))}return nn}function In(S){if(S.destroyed)throw new He(205,!1)}function cr(S,Y,Te=!1){return{factory:S,value:Y,multi:Te?[]:void 0}}function Ai(S,Y){for(const Te of S)Array.isArray(Te)?Ai(Te,Y):Te&&sr(Te)?Ai(Te.\u0275providers,Y):Y(Te)}function uo(S,Y){let Te;S instanceof Me?(In(S),Te=S):Te=new ce(S);const Dn=B(Te),Hr=ir(void 0);try{return Y()}finally{B(Dn),ir(Hr)}}function go(){return void 0!==dr()||null!=a()}function ro(S){if(!go())throw new He(-203,!1)}const Ro=0,eo=1,Ji=2,Ko=3,ae=4,U=5,re=6,xe=7,Tt=8,Gt=9,xn=10,Jn=11,wr=12,Qr=13,$i=14,zr=15,to=16,Yi=17,io=18,Po=19,Hi=20,oo=21,mo=22,Ho=23,As=24,Ri=25,cs=26,no=1,Bi=6,X=7,Q=8,Ue=9,it=10;function Rt(S){return Array.isArray(S)&&"object"==typeof S[no]}function qt(S){return Array.isArray(S)&&!0===S[no]}function Ln(S){return!!(4&S.flags)}function hr(S){return S.componentOffset>-1}function zn(S){return!(1&~S.flags)}function vi(S){return!!S.template}function Di(S){return!!(512&S[Ji])}function To(S){return!(256&~S[Ji])}function Ee(S,Y){me(S,Y[eo])}function me(S,Y){Xe(S);const Te=Y.data;for(let nn=cs;nn<Te.length;nn++)if(Te[nn]===S)return;pe("This TNode does not belong to this TView.")}function Xe(S){Ne(S,"TNode must be defined"),S&&"object"==typeof S&&S.hasOwnProperty("directiveStylingLast")||pe("Not of type TNode, got: "+S)}function Wt(S){Ne(S,"Expected TIcu to be defined"),"number"!=typeof S.currentCaseLViewIndex&&pe("Object is not of TIcu type.")}function Yt(S,Y="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){Ut(S)||pe(Y)}function jn(S,Y="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){St(S)||pe(Y)}function kn(S){Ne(S,"currentTNode should exist!"),Ne(S.parent,"currentTNode should have a parent")}function Qn(S){Ne(S,"LContainer must be defined"),rr(qt(S),!0,"Expecting LContainer")}function wi(S){Ne(S,"LView must be defined"),rr(Rt(S),!0,"Expecting LView")}function Mi(S,Y){rr(S.firstCreatePass,!0,Y||"Should only be called in first create pass.")}function Li(S,Y){rr(S.firstUpdatePass,!0,"Should only be called in first update pass.")}function ho(S){(void 0===S.type||null==S.selectors||void 0===S.inputs)&&pe("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function _o(S,Y){zo(cs,S.bindingStartIndex,Y)}function yo(S,Y){zo(S[1].expandoStartIndex,S.length,Y)}function zo(S,Y,Te){S<=Te&&Te<Y||pe(`Index out of range (expecting ${S} <= ${Te} < ${Y})`)}function is(S,Y){Ne(S[zr],"Component views should exist."),Ne(S[zr][U].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function Ys(S,Y){Ne(S,"Component views should always have a parent view (component's host view)")}function Cs(S,Y){yo(S,Y),yo(S,Y+8),$t(S[Y+0],"injectorIndex should point to a bloom filter"),$t(S[Y+1],"injectorIndex should point to a bloom filter"),$t(S[Y+2],"injectorIndex should point to a bloom filter"),$t(S[Y+3],"injectorIndex should point to a bloom filter"),$t(S[Y+4],"injectorIndex should point to a bloom filter"),$t(S[Y+5],"injectorIndex should point to a bloom filter"),$t(S[Y+6],"injectorIndex should point to a bloom filter"),$t(S[Y+7],"injectorIndex should point to a bloom filter"),$t(S[Y+8],"injectorIndex should point to parent injector")}const Ka="svg",$s="math";function bs(S){for(;Array.isArray(S);)S=S[Ro];return S}function Xs(S){for(;Array.isArray(S);){if("object"==typeof S[no])return S;S=S[Ro]}return null}function Js(S,Y){return bs(Y[S])}function Ha(S,Y){return bs(Y[S.index])}function la(S,Y){const Te=null===S?-1:S.index;return-1!==Te?bs(Y[Te]):null}function Ss(S,Y){return S.data[Y]}function da(S,Y){return S[Y]}function Mo(S,Y,Te,nn){Te>=S.data.length&&(S.data[Te]=null,S.blueprint[Te]=null),Y[Te]=nn}function Rs(S,Y){const Te=Y[S];return Rt(Te)?Te:Te[Ro]}function va(S){return!(4&~S[Ji])}function tu(S){return!(128&~S[Ji])}function _s(S){return qt(S[Ko])}function Cc(S,Y){return null==Y?null:S[Y]}function Na(S){S[Yi]=0}function Oo(S){1024&S[Ji]||(S[Ji]|=1024,tu(S)&&za(S))}function Ia(S,Y){for(;S>0;)Y=Y[$i],S--;return Y}function so(S){return!!(9216&S[Ji]||S[As]?.dirty)}function us(S){S[xn].changeDetectionScheduler?.notify(8),64&S[Ji]&&(S[Ji]|=1024),so(S)&&za(S)}function za(S){S[xn].changeDetectionScheduler?.notify(0);let Y=Ga(S);for(;null!==Y&&!(8192&Y[Ji])&&(Y[Ji]|=8192,tu(Y));)Y=Ga(Y)}function Ns(S,Y){if(To(S))throw new He(911,!1);null===S[oo]&&(S[oo]=[]),S[oo].push(Y)}function Ws(S,Y){if(null===S[oo])return;const Te=S[oo].indexOf(Y);-1!==Te&&S[oo].splice(Te,1)}function Ga(S){const Y=S[Ko];return qt(Y)?Y[Ko]:Y}function ha(S){return S[xe]??=[]}function xi(S){return S.cleanup??=[]}function Gi(S,Y,Te,nn){const Dn=ha(Y);Dn.push(Te),S.firstCreatePass&&xi(S).push(nn,Dn.length-1)}const oi={lFrame:_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xs=function(S){return S[S.Off=0]="Off",S[S.Exhaustive=1]="Exhaustive",S[S.OnlyDirtyViews=2]="OnlyDirtyViews",S}(xs||{});let ks=0,Ks=!1;function Ta(){return oi.lFrame.elementDepthCount}function bc(){oi.lFrame.elementDepthCount++}function xa(){oi.lFrame.elementDepthCount--}function nu(){return oi.bindingsEnabled}function Hs(){return null!==oi.skipHydrationRootTNode}function Sc(S){return oi.skipHydrationRootTNode===S}function Zs(){oi.bindingsEnabled=!0}function ka(){oi.bindingsEnabled=!1}function Fu(){oi.skipHydrationRootTNode=null}function qa(){return oi.lFrame.lView}function oc(){return oi.lFrame.tView}function Qa(S){return oi.lFrame.contextLView=S,S[Tt]}function ea(S){return oi.lFrame.contextLView=null,S}function fs(){let S=ta();for(;null!==S&&64===S.type;)S=S.parent;return S}function ta(){return oi.lFrame.currentTNode}function Jo(){const S=oi.lFrame,Y=S.currentTNode;return S.isParent?Y:Y.parent}function Or(S,Y){const Te=oi.lFrame;Te.currentTNode=S,Te.isParent=Y}function D(){return oi.lFrame.isParent}function M(){oi.lFrame.isParent=!1}function b(){return oi.lFrame.contextLView}function N(){return pe("Must never be called in production mode"),ks!==xs.Off}function q(){return pe("Must never be called in production mode"),ks===xs.Exhaustive}function le(S){pe("Must never be called in production mode"),ks=S}function We(){return Ks}function bt(S){const Y=Ks;return Ks=S,Y}function xt(){const S=oi.lFrame;let Y=S.bindingRootIndex;return-1===Y&&(Y=S.bindingRootIndex=S.tView.bindingStartIndex),Y}function Sr(){return oi.lFrame.bindingIndex}function qi(S){return oi.lFrame.bindingIndex=S}function Ao(){return oi.lFrame.bindingIndex++}function os(S){const Y=oi.lFrame,Te=Y.bindingIndex;return Y.bindingIndex=Y.bindingIndex+S,Te}function ps(){return oi.lFrame.inI18n}function Zo(S){oi.lFrame.inI18n=S}function fa(S,Y){const Te=oi.lFrame;Te.bindingIndex=Te.bindingRootIndex=S,Ls(Y)}function Ds(){return oi.lFrame.currentDirectiveIndex}function Ls(S){oi.lFrame.currentDirectiveIndex=S}function Ps(S){const Y=oi.lFrame.currentDirectiveIndex;return-1===Y?null:S[Y]}function gs(){return oi.lFrame.currentQueryIndex}function Fs(S){oi.lFrame.currentQueryIndex=S}function sc(S){const Y=S[eo];return 2===Y.type?Y.declTNode:1===Y.type?S[U]:null}function Go(S,Y,Te){if(4&Te){let Dn=Y,Hr=S;for(;!(Dn=Dn.parent,null!==Dn||1&Te||(Dn=sc(Hr),null===Dn||(Hr=Hr[$i],10&Dn.type))););if(null===Dn)return!1;Y=Dn,S=Hr}const nn=oi.lFrame=x();return nn.currentTNode=Y,nn.lView=S,!0}function Bu(S){const Y=x(),Te=S[eo];oi.lFrame=Y,Y.currentTNode=Te.firstChild,Y.lView=S,Y.tView=Te,Y.contextLView=S,Y.bindingIndex=Te.bindingStartIndex,Y.inI18n=!1}function x(){const S=oi.lFrame,Y=null===S?null:S.child;return null===Y?_(S):Y}function _(S){const Y={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:S,child:null,inI18n:!1};return null!==S&&(S.child=Y),Y}function E(){const S=oi.lFrame;return oi.lFrame=S.parent,S.currentTNode=null,S.lView=null,S}const C=E;function F(){const S=E();S.isParent=!0,S.tView=null,S.selectedIndex=-1,S.contextLView=null,S.elementDepthCount=0,S.currentDirectiveIndex=-1,S.currentNamespace=null,S.bindingRootIndex=-1,S.bindingIndex=-1,S.currentQueryIndex=0}function ee(S){return(oi.lFrame.contextLView=Ia(S,oi.lFrame.contextLView))[Tt]}function Oe(){return oi.lFrame.selectedIndex}function ke(S){oi.lFrame.selectedIndex=S}function Dt(){const S=oi.lFrame;return Ss(S.tView,S.selectedIndex)}function Qt(){oi.lFrame.currentNamespace=Ka}function Yn(){oi.lFrame.currentNamespace=$s}function tr(){!function pi(){oi.lFrame.currentNamespace=null}()}function fi(){return oi.lFrame.currentNamespace}let $r=!0;function Ei(){return $r}function Do(S){$r=S}function fo(S,Y=null,Te=null,nn){const Dn=Co(S,Y,Te,nn);return Dn.resolveInjectorInitializers(),Dn}function Co(S,Y=null,Te=null,nn,Dn=new Set){const Hr=[Te||or,ti(S)];return nn=nn||("object"==typeof S?void 0:Sn(S)),new Me(Hr,Y||pt(),nn||null,Dn)}class qo{static THROW_IF_NOT_FOUND=Ii;static NULL=new qe;static create(Y,Te){if(Array.isArray(Y))return fo({name:""},Te,Y,"");{const nn=Y.name??"";return fo({name:nn},Y.parent,Y.providers,nn)}}static \u0275prov=Jt({token:qo,providedIn:"any",factory:()=>O(ue)});static __NG_ELEMENT_ID__=-1}const wo=new Kr("");let na=(()=>class S{static __NG_ELEMENT_ID__=ls;static __NG_ENV_ID__=Te=>Te})();class Qi extends na{_lView;constructor(Y){super(),this._lView=Y}onDestroy(Y){const Te=this._lView;return Ns(Te,Y),()=>Ws(Te,Y)}}function ls(){return new Qi(qa())}class No{_console=console;handleError(Y){this._console.error("ERROR",Y)}}const Fo=new Kr("",{providedIn:"root",factory:()=>{const S=Z(J);let Y;return Te=>{Y??=S.get(No),Y.handleError(Te)}}}),Ms={provide:Ar,useValue:()=>{Z(No)},multi:!0};function ra(S){return"function"==typeof S&&void 0!==S[j.bh]}function Ya(S,Y){const Te=(0,j.n5)(S,Y?.equal),nn=Te[j.bh];return Te.set=Dn=>(0,j.j2)(nn,Dn),Te.update=Dn=>(0,j.mC)(nn,Dn),Te.asReadonly=kr.bind(Te),Te}function kr(){const S=this[j.bh];if(void 0===S.readonlyFn){const Y=()=>this();Y[j.bh]=S,S.readonlyFn=Y}return S.readonlyFn}function Lr(S){return ra(S)&&"function"==typeof S.set}class ni{}const Zi=new Kr("",{providedIn:"root",factory:()=>!1}),bo=new Kr("",{providedIn:"root",factory:()=>!1}),jo=new Kr(""),ds=new Kr("");function ia(S,Y){if(null!==(0,j.nR)())throw new He(-602,!1)}let Eo=(()=>class S{view;node;constructor(Te,nn){this.view=Te,this.node=nn}static __NG_ELEMENT_ID__=pa})();function pa(){return new Eo(qa(),fs())}let ac=(()=>{class S{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new fe.t(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ae.c(Te=>{Te.next(!1),Te.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const Te=this.taskId++;return this.pendingTasks.add(Te),Te}has(Te){return this.pendingTasks.has(Te)}remove(Te){this.pendingTasks.delete(Te),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Jt({token:S,providedIn:"root",factory:()=>new S})}return S})(),Qo=(()=>{class S{internalPendingTasks=Z(ac);scheduler=Z(ni);errorHandler=Z(Fo);add(){const Te=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(Te)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(Te))}}run(Te){const nn=this.add();Te().catch(this.errorHandler).finally(nn)}static \u0275prov=Jt({token:S,providedIn:"root",factory:()=>new S})}return S})();function oa(...S){}let ys=(()=>{class S{static \u0275prov=Jt({token:S,providedIn:"root",factory:()=>new La})}return S})();class La{dirtyEffectCount=0;queues=new Map;add(Y){this.enqueue(Y),this.schedule(Y)}schedule(Y){Y.dirty&&this.dirtyEffectCount++}remove(Y){const nn=this.queues.get(Y.zone);nn.has(Y)&&(nn.delete(Y),Y.dirty&&this.dirtyEffectCount--)}enqueue(Y){const Te=Y.zone;this.queues.has(Te)||this.queues.set(Te,new Set);const nn=this.queues.get(Te);nn.has(Y)||nn.add(Y)}flush(){for(;this.dirtyEffectCount>0;){let Y=!1;for(const[Te,nn]of this.queues)Y||=null===Te?this.flushQueue(nn):Te.run(()=>this.flushQueue(nn));Y||(this.dirtyEffectCount=0)}}flushQueue(Y){let Te=!1;for(const nn of Y)nn.dirty&&(this.dirtyEffectCount--,Te=!0,nn.run());return Te}}},1767:(Hn,vt,I)=>{I.d(vt,{Nj:()=>Va,DF:()=>mc,wh:()=>_c,eJ:()=>rg,xI:()=>Df,hg:()=>oh,_q:()=>jc,x9:()=>tl,CI:()=>Iu});var L=I(8424),a=I(1698),B=I(7385),_e=I(2474),$e=I(1465),ct=I(8813),j=I(649),fe=I(1572),Ae=I(5099),Ce=I(7650),ye=I(5482),He=I(9333);const Ge=function wn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ot=new Ae.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new Ce.Vy("@firebase/auth");function _t(v,...h){Et.logLevel<=Ce.$b.ERROR&&Et.error(`Auth (${fe.MF}): ${v}`,...h)}function $t(v,...h){throw pr(v,...h)}function Tn(v,...h){return pr(v,...h)}function er(v,h,p){const T=Object.assign(Object.assign({},Ge()),{[h]:p});return new Ae.FA("auth","Firebase",T).create(h,{appName:v.name})}function On(v){return er(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pr(v,...h){if("string"!=typeof v){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=v.name),v._errorFactory.create(p,...T)}return Ot.create(v,...h)}function st(v,h,...p){if(!v)throw pr(h,...p)}function Rn(v){const h="INTERNAL ASSERTION FAILED: "+v;throw _t(h),new Error(h)}function de(v,h){v||Rn(h)}function at(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Be(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class pe{constructor(h,p){this.shortDelay=h,this.longDelay=p,de(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Ae.jZ)()||(0,Ae.lV)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Lt(){return"http:"===Be()||"https:"===Be()}()||(0,Ae.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(v,h){de(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ye{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sn=new pe(3e4,6e4);function Jt(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function vn(v,h,p,T){return ur.apply(this,arguments)}function ur(){return(ur=(0,j.A)(function*(v,h,p,T,K={}){return ft(v,K,(0,j.A)(function*(){let he={},lt={};T&&("GET"===h?lt=T:he={body:JSON.stringify(T)});const wt=(0,Ae.Am)(Object.assign({key:v.config.apiKey},lt)).slice(1),cn=yield v._getAdditionalHeaders();cn["Content-Type"]="application/json",v.languageCode&&(cn["X-Firebase-Locale"]=v.languageCode);const nr=Object.assign({method:h,headers:cn},he);return(0,Ae.c1)()||(nr.referrerPolicy="no-referrer"),v.emulatorConfig&&(0,Ae.zJ)(v.emulatorConfig.host)&&(nr.credentials="include"),Ye.fetch()(yield _r(v,v.config.apiHost,p,wt),nr)}))})).apply(this,arguments)}function ft(v,h,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,j.A)(function*(v,h,p){v._canInitEmulator=!1;const T=Object.assign(Object.assign({},Le),h);try{const K=new Kr(v),he=yield Promise.race([p(),K.promise]);K.clearNetworkTimeout();const lt=yield he.json();if("needConfirmation"in lt)throw mi(v,"account-exists-with-different-credential",lt);if(he.ok&&!("errorMessage"in lt))return lt;{const wt=he.ok?lt.errorMessage:lt.error.message,[cn,nr]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===cn)throw mi(v,"credential-already-in-use",lt);if("EMAIL_EXISTS"===cn)throw mi(v,"email-already-in-use",lt);if("USER_DISABLED"===cn)throw mi(v,"user-disabled",lt);const Nr=T[cn]||cn.toLowerCase().replace(/[_\s]+/g,"-");if(nr)throw er(v,Nr,nr);$t(v,Nr)}}catch(K){if(K instanceof Ae.g)throw K;$t(v,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function En(v,h,p,T){return an.apply(this,arguments)}function an(){return(an=(0,j.A)(function*(v,h,p,T,K={}){const he=yield vn(v,h,p,T,K);return"mfaPendingCredential"in he&&$t(v,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function _r(v,h,p,T){return lr.apply(this,arguments)}function lr(){return(lr=(0,j.A)(function*(v,h,p,T){const K=`${h}${p}?${T}`,he=v,lt=he.config.emulator?et(v.config,K):`${v.config.apiScheme}://${K}`;return Re.includes(p)&&(yield he._persistenceManagerAvailable,"COOKIE"===he._getPersistenceType())?he._getPersistence()._getFinalTarget(lt).toString():lt})).apply(this,arguments)}function Zr(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(Tn(this.auth,"network-request-failed")),sn.get())})}}function mi(v,h,p){const T={appName:v.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const K=Tn(v,h,T);return K.customData._tokenResponse=p,K}function Ci(v){return void 0!==v&&void 0!==v.enterprise}class Xr{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Zr(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function _i(){return(_i=(0,j.A)(function*(v,h){return vn(v,"GET","/v2/recaptchaConfig",Jt(v,h))})).apply(this,arguments)}function Ct(){return(Ct=(0,j.A)(function*(v,h){return vn(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function It(v,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,j.A)(function*(v,h){return vn(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function sr(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Jr(){return(Jr=(0,j.A)(function*(v,h=!1){const p=(0,Ae.Ku)(v),T=yield p.getIdToken(h),K=Nn(T);st(K&&K.exp&&K.auth_time&&K.iat,p.auth,"internal-error");const he="object"==typeof K.firebase?K.firebase:void 0,lt=he?.sign_in_provider;return{claims:K,token:T,authTime:sr(Ur(K.auth_time)),issuedAtTime:sr(Ur(K.iat)),expirationTime:sr(Ur(K.exp)),signInProvider:lt||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function Ur(v){return 1e3*Number(v)}function Nn(v){const[h,p,T]=v.split(".");if(void 0===h||void 0===p||void 0===T)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,Ae.u)(p);return K?JSON.parse(K):(_t("Failed to decode base64 JWT payload"),null)}catch(K){return _t("Caught error parsing JWT payload as JSON",K?.toString()),null}}function xr(v){const h=Nn(v);return st(h,"internal-error"),st(typeof h.exp<"u","internal-error"),st(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function yr(v,h){return br.apply(this,arguments)}function br(){return(br=(0,j.A)(function*(v,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof Ae.g&&function yi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(T)&&v.auth.currentUser===v&&(yield v.auth.signOut()),T}})).apply(this,arguments)}class ei{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const K=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,j.A)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,j.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Er{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(v){return fn.apply(this,arguments)}function fn(){return(fn=(0,j.A)(function*(v){var h;const p=v.auth,T=yield v.getIdToken(),K=yield yr(v,It(p,{idToken:T}));st(K?.users.length,p,"internal-error");const he=K.users[0];v._notifyReloadListener(he);const lt=null!==(h=he.providerUserInfo)&&void 0!==h&&h.length?dr(he.providerUserInfo):[],wt=function bn(v,h){return[...v.filter(T=>!h.some(K=>K.providerId===T.providerId)),...h]}(v.providerData,lt),Nr=!!v.isAnonymous&&!(v.email&&he.passwordHash||wt?.length),Vr={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:wt,metadata:new Er(he.createdAt,he.lastLoginAt),isAnonymous:Nr};Object.assign(v,Vr)})).apply(this,arguments)}function pn(){return(pn=(0,j.A)(function*(v){const h=(0,Ae.Ku)(v);yield Un(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function dr(v){return v.map(h=>{var{providerId:p}=h,T=(0,ye.Tt)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Ir(){return(Ir=(0,j.A)(function*(v,h){const p=yield ft(v,{},(0,j.A)(function*(){const T=(0,Ae.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:he}=v.config,lt=yield _r(v,K,"/v1/token",`key=${he}`),wt=yield v._getAdditionalHeaders();wt["Content-Type"]="application/x-www-form-urlencoded";const cn={method:"POST",headers:wt,body:T};return v.emulatorConfig&&(0,Ae.zJ)(v.emulatorConfig.host)&&(cn.credentials="include"),Ye.fetch()(lt,cn)}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Ki(){return(Ki=(0,j.A)(function*(v,h){return vn(v,"POST","/v2/accounts:revokeToken",Jt(v,h))})).apply(this,arguments)}class Ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){st(h.idToken,"internal-error"),st(typeof h.idToken<"u","internal-error"),st(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):xr(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){st(0!==h.length,"internal-error");const p=xr(h);this.updateTokensAndExpiration(h,null,p)}getToken(h){var p=this;return(0,j.A)(function*(T,K=!1){return K||!p.accessToken||p.isExpired?(st(p.refreshToken,T,"user-token-expired"),p.refreshToken?(yield p.refresh(T,p.refreshToken),p.accessToken):null):p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,j.A)(function*(){const{accessToken:K,refreshToken:he,expiresIn:lt}=yield function ir(v,h){return Ir.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(K,he,Number(lt))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:K,expirationTime:he}=p,lt=new Ii;return T&&(st("string"==typeof T,"internal-error",{appName:h}),lt.refreshToken=T),K&&(st("string"==typeof K,"internal-error",{appName:h}),lt.accessToken=K),he&&(st("number"==typeof he,"internal-error",{appName:h}),lt.expirationTime=he),lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ii,this.toJSON())}_performRefresh(){return Rn("not implemented")}}function Ve(v,h){st("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class ce{constructor(h){var{uid:p,auth:T,stsTokenManager:K}=h,he=(0,ye.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new Er(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,j.A)(function*(){const T=yield yr(p,p.stsTokenManager.getToken(p.auth,h));return st(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function gr(v){return Jr.apply(this,arguments)}(this,h)}reload(){return function Bt(v){return pn.apply(this,arguments)}(this)}_assign(h){this!==h&&(st(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ce(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,j.A)(function*(T,K=!1){let he=!1;T.idToken&&T.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(T),he=!0),K&&(yield Un(p)),yield p.auth._persistUserIfCurrent(p),he&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,j.A)(function*(){if((0,fe.xZ)(h.auth.app))return Promise.reject(On(h.auth));const p=yield h.getIdToken();return yield yr(h,function Xn(v,h){return Ct.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,K,he,lt,wt,cn,nr,Nr;const Vr=null!==(T=p.displayName)&&void 0!==T?T:void 0,Vi=null!==(K=p.email)&&void 0!==K?K:void 0,es=null!==(he=p.phoneNumber)&&void 0!==he?he:void 0,aa=null!==(lt=p.photoURL)&&void 0!==lt?lt:void 0,Tu=null!==(wt=p.tenantId)&&void 0!==wt?wt:void 0,nl=null!==(cn=p._redirectEventId)&&void 0!==cn?cn:void 0,dh=null!==(nr=p.createdAt)&&void 0!==nr?nr:void 0,Yl=null!==(Nr=p.lastLoginAt)&&void 0!==Nr?Nr:void 0,{uid:hh,emailVerified:Nf,isAnonymous:Xl,providerData:ts,stsTokenManager:Jl}=p;st(hh&&Jl,h,"internal-error");const rl=Ii.fromJSON(this.name,Jl);st("string"==typeof hh,h,"internal-error"),Ve(Vr,h.name),Ve(Vi,h.name),st("boolean"==typeof Nf,h,"internal-error"),st("boolean"==typeof Xl,h,"internal-error"),Ve(es,h.name),Ve(aa,h.name),Ve(Tu,h.name),Ve(nl,h.name),Ve(dh,h.name),Ve(Yl,h.name);const Wc=new ce({uid:hh,auth:h,email:Vi,emailVerified:Nf,displayName:Vr,isAnonymous:Xl,photoURL:aa,phoneNumber:es,tenantId:Tu,stsTokenManager:rl,createdAt:dh,lastLoginAt:Yl});return ts&&Array.isArray(ts)&&(Wc.providerData=ts.map(Da=>Object.assign({},Da))),nl&&(Wc._redirectEventId=nl),Wc}static _fromIdTokenResponse(h,p){return(0,j.A)(function*(T,K,he=!1){const lt=new Ii;lt.updateFromServerResponse(K);const wt=new ce({uid:K.localId,auth:T,stsTokenManager:lt,isAnonymous:he});return yield Un(wt),wt}).apply(this,arguments)}static _fromGetAccountInfoResponse(h,p,T){return(0,j.A)(function*(){const K=p.users[0];st(void 0!==K.localId,"internal-error");const he=void 0!==K.providerUserInfo?dr(K.providerUserInfo):[],lt=!(K.email&&K.passwordHash||he?.length),wt=new Ii;wt.updateFromIdToken(T);const cn=new ce({uid:K.localId,auth:h,stsTokenManager:wt,isAnonymous:lt}),nr={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:he,metadata:new Er(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||he?.length)};return Object.assign(cn,nr),cn})()}}const ie=new Map;function Pe(v){de(v instanceof Function,"Expected a class definition");let h=ie.get(v);return h?(de(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,ie.set(v,h),h)}const ve=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,j.A)(function*(){return!0})()}_set(p,T){var K=this;return(0,j.A)(function*(){K.storage[p]=T})()}_get(p){var T=this;return(0,j.A)(function*(){const K=T.storage[p];return void 0===K?null:K})()}_remove(p){var T=this;return(0,j.A)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return v.type="NONE",v})();function z(v,h,p){return`firebase:${v}:${h}:${p}`}class Ze{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:K,name:he}=this.auth;this.fullUserKey=z(this.userKey,K.apiKey,he),this.fullPersistenceKey=z("persistence",K.apiKey,he),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,j.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);if(!p)return null;if("string"==typeof p){const T=yield It(h.auth,{idToken:p}).catch(()=>{});return T?ce._fromGetAccountInfoResponse(h.auth,T,p):null}return ce._fromJSON(h.auth,p)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,j.A)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,j.A)(function*(T,K,he="authUser"){if(!K.length)return new Ze(Pe(ve),T,he);const lt=(yield Promise.all(K.map(function(){var Vr=(0,j.A)(function*(Vi){if(yield Vi._isAvailable())return Vi});return function(Vi){return Vr.apply(this,arguments)}}()))).filter(Vr=>Vr);let wt=lt[0]||Pe(ve);const cn=z(he,T.config.apiKey,T.name);let nr=null;for(const Vr of K)try{const Vi=yield Vr._get(cn);if(Vi){let es;if("string"==typeof Vi){const aa=yield It(T,{idToken:Vi}).catch(()=>{});if(!aa)break;es=yield ce._fromGetAccountInfoResponse(T,aa,Vi)}else es=ce._fromJSON(T,Vi);Vr!==wt&&(nr=es),wt=Vr;break}}catch{}const Nr=lt.filter(Vr=>Vr._shouldAllowMigration);return wt._shouldAllowMigration&&Nr.length?(wt=Nr[0],nr&&(yield wt._set(cn,nr.toJSON())),yield Promise.all(K.map(function(){var Vr=(0,j.A)(function*(Vi){if(Vi!==wt)try{yield Vi._remove(cn)}catch{}});return function(Vi){return Vr.apply(this,arguments)}}())),new Ze(wt,T,he)):new Ze(wt,T,he)}).apply(this,arguments)}}function O(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(tt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(W(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(rn(h))return"Blackberry";if(gn(h))return"Webos";if(Z(h))return"Safari";if((h.includes("chrome/")||Ke(h))&&!h.includes("edge/"))return"Chrome";if(ht(h))return"Android";{const T=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function W(v=(0,Ae.ZQ)()){return/firefox\//i.test(v)}function Z(v=(0,Ae.ZQ)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ke(v=(0,Ae.ZQ)()){return/crios\//i.test(v)}function tt(v=(0,Ae.ZQ)()){return/iemobile/i.test(v)}function ht(v=(0,Ae.ZQ)()){return/android/i.test(v)}function rn(v=(0,Ae.ZQ)()){return/blackberry/i.test(v)}function gn(v=(0,Ae.ZQ)()){return/webos/i.test(v)}function Cn(v=(0,Ae.ZQ)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Oi(v=(0,Ae.ZQ)()){return Cn(v)||ht(v)||gn(v)||rn(v)||/windows phone/i.test(v)||tt(v)}function Ni(v,h=[]){let p;switch(v){case"Browser":p=O((0,Ae.ZQ)());break;case"Worker":p=`${O((0,Ae.ZQ)())}-${v}`;break;default:p=v}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${fe.MF}/${T}`}class li{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const T=he=>new Promise((lt,wt)=>{try{lt(h(he))}catch(cn){wt(cn)}});T.onAbort=p,this.queue.push(T);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,j.A)(function*(){if(p.auth.currentUser===h)return;const T=[];try{for(const K of p.queue)yield K(h),K.onAbort&&T.push(K.onAbort)}catch(K){T.reverse();for(const he of T)try{he()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function $n(){return($n=(0,j.A)(function*(v,h={}){return vn(v,"GET","/v2/passwordPolicy",Jt(v,h))})).apply(this,arguments)}class Pi{constructor(h){var p,T,K,he;const lt=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=lt.minPasswordLength)&&void 0!==p?p:6,lt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=lt.maxPasswordLength),void 0!==lt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=lt.containsLowercaseCharacter),void 0!==lt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=lt.containsUppercaseCharacter),void 0!==lt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=lt.containsNumericCharacter),void 0!==lt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=lt.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(T=h.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(he=h.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,T,K,he,lt,wt;const cn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,cn),this.validatePasswordCharacterOptions(h,cn),cn.isValid&&(cn.isValid=null===(p=cn.meetsMinPasswordLength)||void 0===p||p),cn.isValid&&(cn.isValid=null===(T=cn.meetsMaxPasswordLength)||void 0===T||T),cn.isValid&&(cn.isValid=null===(K=cn.containsLowercaseLetter)||void 0===K||K),cn.isValid&&(cn.isValid=null===(he=cn.containsUppercaseLetter)||void 0===he||he),cn.isValid&&(cn.isValid=null===(lt=cn.containsNumericCharacter)||void 0===lt||lt),cn.isValid&&(cn.isValid=null===(wt=cn.containsNonAlphanumericCharacter)||void 0===wt||wt),cn}validatePasswordLengthOptions(h,p){const T=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;T&&(p.meetsMinPasswordLength=h.length>=T),K&&(p.meetsMaxPasswordLength=h.length<=K)}validatePasswordCharacterOptions(h,p){let T;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let K=0;K<h.length;K++)T=h.charAt(K),this.updatePasswordCharacterOptionsStatuses(p,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(h,p,T,K,he){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=he))}}class Cr{constructor(h,p,T,K){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.beforeStateQueue=new li(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion,this._persistenceManagerAvailable=new Promise(he=>this._resolvePersistenceManagerAvailable=he)}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=Pe(p)),this._initializationPromise=this.queue((0,j.A)(function*(){var K,he,lt;if(!T._deleted&&(T.persistenceManager=yield Ze.create(T,h),null===(K=T._resolvePersistenceManagerAvailable)||void 0===K||K.call(T),!T._deleted)){if(null!==(he=T._popupRedirectResolver)&&void 0!==he&&he._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(lt=T.currentUser)||void 0===lt?void 0:lt.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,j.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,j.A)(function*(){try{const T=yield It(p,{idToken:h}),K=yield ce._fromGetAccountInfoResponse(p,T,h);yield p.directlySetCurrentUser(K)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,j.A)(function*(){var T;if((0,fe.xZ)(p.app)){const wt=p.app.settings.authIdToken;return wt?new Promise(cn=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(wt).then(cn,cn))}):p.directlySetCurrentUser(null)}const K=yield p.assertedPersistence.getCurrentUser();let he=K,lt=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const wt=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,cn=he?._redirectEventId,nr=yield p.tryRedirectSignIn(h);(!wt||wt===cn)&&nr?.user&&(he=nr.user,lt=!0)}if(!he)return p.directlySetCurrentUser(null);if(!he._redirectEventId){if(lt)try{yield p.beforeStateQueue.runMiddleware(he)}catch(wt){he=K,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(wt))}return he?p.reloadAndSetCurrentUserOrClear(he):p.directlySetCurrentUser(null)}return st(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===he._redirectEventId?p.directlySetCurrentUser(he):p.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(h){var p=this;return(0,j.A)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,j.A)(function*(){try{yield Un(h)}catch(T){if("auth/network-request-failed"!==T?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ne(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,j.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,j.A)(function*(){if((0,fe.xZ)(p.app))return Promise.reject(On(p));const T=h?(0,Ae.Ku)(h):null;return T&&st(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,j.A)(function*(T,K=!1){if(!p._deleted)return T&&st(p.tenantId===T.tenantId,p,"tenant-id-mismatch"),K||(yield p.beforeStateQueue.runMiddleware(T)),p.queue((0,j.A)(function*(){yield p.directlySetCurrentUser(T),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,j.A)(function*(){return(0,fe.xZ)(h.app)?Promise.reject(On(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,fe.xZ)(this.app)?Promise.reject(On(this)):this.queue((0,j.A)(function*(){yield p.assertedPersistence.setPersistence(Pe(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,j.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const T=p._getPasswordPolicyInternal();return T.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,j.A)(function*(){const p=yield function Tr(v){return $n.apply(this,arguments)}(h),T=new Pi(p);null===h.tenantId?h._projectPasswordPolicy=T:h._tenantPasswordPolicies[h.tenantId]=T})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(h){this._errorFactory=new Ae.FA("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const T=this.onAuthStateChanged(()=>{T(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,j.A)(function*(){if(p.currentUser){const T=yield p.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:T};null!=p.tenantId&&(K.tenantId=p.tenantId),yield function qr(v,h){return Ki.apply(this,arguments)}(p,K)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,j.A)(function*(){const K=yield T.getOrInitRedirectPersistenceManager(p);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,j.A)(function*(){if(!p.redirectPersistenceManager){const T=h&&Pe(h)||p._popupRedirectResolver;st(T,p,"argument-error"),p.redirectPersistenceManager=yield Ze.create(p,[Pe(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,j.A)(function*(){var T,K;return p._isInitialized&&(yield p.queue((0,j.A)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(K=p.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,j.A)(function*(){if(h===p.currentUser)return p.queue((0,j.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,K){if(this._deleted)return()=>{};const he="function"==typeof p?p:p.next.bind(p);let lt=!1;const wt=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(wt,this,"internal-error"),wt.then(()=>{lt||he(this.currentUser)}),"function"==typeof p){const cn=h.addObserver(p,T,K);return()=>{lt=!0,cn()}}{const cn=h.addObserver(p);return()=>{lt=!0,cn()}}}directlySetCurrentUser(h){var p=this;return(0,j.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ni(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,j.A)(function*(){var p;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();K&&(T["X-Firebase-Client"]=K);const he=yield h._getAppCheckToken();return he&&(T["X-Firebase-AppCheck"]=he),T})()}_getAppCheckToken(){var h=this;return(0,j.A)(function*(){var p;if((0,fe.xZ)(h.app)&&h.app.settings.appCheckToken)return h.app.settings.appCheckToken;const T=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return T?.error&&function tn(v,...h){Et.logLevel<=Ce.$b.WARN&&Et.warn(`Auth (${fe.MF}): ${v}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Qe(v){return(0,Ae.Ku)(v)}class Pt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Ae.tD)(p=>this.observer=p)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dn={loadJS:()=>(0,j.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function or(v){return dn.loadJS(v)}function qe(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Dr{constructor(){this.enterprise=new gi}ready(h){h()}execute(h,p){return Promise.resolve("token")}render(h,p){return""}}class gi{ready(h){h()}execute(h,p){return Promise.resolve("token")}render(h,p){return""}}const ti="NO_RECAPTCHA";class ${constructor(h){this.type="recaptcha-enterprise",this.auth=Qe(h)}verify(){var h=this;return(0,j.A)(function*(p="verify",T=!1){function he(){return he=(0,j.A)(function*(wt){if(!T){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var cn=(0,j.A)(function*(nr,Nr){(function Gr(v,h){return _i.apply(this,arguments)})(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vr=>{if(void 0!==Vr.recaptchaKey){const Vi=new Xr(Vr);return null==wt.tenantId?wt._agentRecaptchaConfig=Vi:wt._tenantRecaptchaConfigs[wt.tenantId]=Vi,nr(Vi.siteKey)}Nr(new Error("recaptcha Enterprise site key undefined"))}).catch(Vr=>{Nr(Vr)})});return function(nr,Nr){return cn.apply(this,arguments)}}())}),he.apply(this,arguments)}function lt(wt,cn,nr){const Nr=window.grecaptcha;Ci(Nr)?Nr.enterprise.ready(()=>{Nr.enterprise.execute(wt,{action:p}).then(Vr=>{cn(Vr)}).catch(()=>{cn(ti)})}):nr(Error("No reCAPTCHA enterprise script loaded."))}return h.auth.settings.appVerificationDisabledForTesting?(new Dr).execute("siteKey",{action:"verify"}):new Promise((wt,cn)=>{(function K(wt){return he.apply(this,arguments)})(h.auth).then(nr=>{if(!T&&Ci(window.grecaptcha))lt(nr,wt,cn);else{if(typeof window>"u")return void cn(new Error("RecaptchaVerifier is only supported in browser"));let Nr=function ue(){return dn.recaptchaEnterpriseScript}();0!==Nr.length&&(Nr+=nr),or(Nr).then(()=>{lt(nr,wt,cn)}).catch(Vr=>{cn(Vr)})}}).catch(nr=>{cn(nr)})})}).apply(this,arguments)}}function be(v,h,p){return te.apply(this,arguments)}function te(){return(te=(0,j.A)(function*(v,h,p,T=!1,K=!1){const he=new $(v);let lt;if(K)lt=ti;else try{lt=yield he.verify(p)}catch{lt=yield he.verify(p,!0)}const wt=Object.assign({},h);return"mfaSmsEnrollment"===p||"mfaSmsSignIn"===p?("phoneEnrollmentInfo"in wt?Object.assign(wt,{phoneEnrollmentInfo:{phoneNumber:wt.phoneEnrollmentInfo.phoneNumber,recaptchaToken:wt.phoneEnrollmentInfo.recaptchaToken,captchaResponse:lt,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in wt&&Object.assign(wt,{phoneSignInInfo:{recaptchaToken:wt.phoneSignInInfo.recaptchaToken,captchaResponse:lt,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),wt):(Object.assign(wt,T?{captchaResp:lt}:{captchaResponse:lt}),Object.assign(wt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(wt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),wt)})).apply(this,arguments)}function se(v,h,p,T,K){return dt.apply(this,arguments)}function dt(){return dt=(0,j.A)(function*(v,h,p,T,K){var he,lt;if("EMAIL_PASSWORD_PROVIDER"===K){if(null!==(he=v._getRecaptchaConfig())&&void 0!==he&&he.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const wt=yield be(v,h,p,"getOobCode"===p);return T(v,wt)}return T(v,h).catch(function(){var wt=(0,j.A)(function*(cn){if("auth/missing-recaptcha-token"===cn.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const nr=yield be(v,h,p,"getOobCode"===p);return T(v,nr)}return Promise.reject(cn)});return function(cn){return wt.apply(this,arguments)}}())}if("PHONE_PROVIDER"===K){if(null!==(lt=v._getRecaptchaConfig())&&void 0!==lt&&lt.isProviderEnabled("PHONE_PROVIDER")){const wt=yield be(v,h,p);return T(v,wt).catch(function(){var cn=(0,j.A)(function*(nr){var Nr;if("AUDIT"===(null===(Nr=v._getRecaptchaConfig())||void 0===Nr?void 0:Nr.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===nr.code||"auth/invalid-app-credential"===nr.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${p} flow.`);const Vr=yield be(v,h,p,!1,!0);return T(v,Vr)}return Promise.reject(nr)});return function(nr){return cn.apply(this,arguments)}}())}{const wt=yield be(v,h,p,!1,!0);return T(v,wt)}}return Promise.reject(K+" provider is not supported.")}),dt.apply(this,arguments)}function Si(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function ji(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class Ti{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Rn("not implemented")}_getIdTokenResponse(h){return Rn("not implemented")}_linkToIdToken(h,p){return Rn("not implemented")}_getReauthenticationResolver(h){return Rn("not implemented")}}function je(v,h){return At.apply(this,arguments)}function At(){return(At=(0,j.A)(function*(v,h){return vn(v,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function cr(v,h){return Br.apply(this,arguments)}function Br(){return(Br=(0,j.A)(function*(v,h){return En(v,"POST","/v1/accounts:signInWithPassword",Jt(v,h))})).apply(this,arguments)}function U(){return(U=(0,j.A)(function*(v,h){return En(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,h))})).apply(this,arguments)}function xe(){return(xe=(0,j.A)(function*(v,h){return En(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,h))})).apply(this,arguments)}class Tt extends Ti{constructor(h,p,T,K=null){super("password",T),this._email=h,this._password=p,this._tenantId=K}static _fromEmailAndPassword(h,p){return new Tt(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new Tt(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,j.A)(function*(){switch(p.signInMethod){case"password":return se(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function ae(v,h){return U.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:$t(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,j.A)(function*(){switch(T.signInMethod){case"password":return se(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",je,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function re(v,h){return xe.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:$t(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Gt(v,h){return xn.apply(this,arguments)}function xn(){return(xn=(0,j.A)(function*(v,h){return En(v,"POST","/v1/accounts:signInWithIdp",Jt(v,h))})).apply(this,arguments)}class Ri{constructor(h){var p,T,K,he,lt,wt;const cn=(0,Ae.I9)((0,Ae.hp)(h)),nr=null!==(p=cn.apiKey)&&void 0!==p?p:null,Nr=null!==(T=cn.oobCode)&&void 0!==T?T:null,Vr=function Ho(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=cn.mode)&&void 0!==K?K:null);st(nr&&Nr&&Vr,"argument-error"),this.apiKey=nr,this.operation=Vr,this.code=Nr,this.continueUrl=null!==(he=cn.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(lt=cn.lang)&&void 0!==lt?lt:null,this.tenantId=null!==(wt=cn.tenantId)&&void 0!==wt?wt:null}static parseLink(h){const p=function As(v){const h=(0,Ae.I9)((0,Ae.hp)(v)).link,p=h?(0,Ae.I9)((0,Ae.hp)(h)).deep_link_id:null,T=(0,Ae.I9)((0,Ae.hp)(v)).deep_link_id;return(T?(0,Ae.I9)((0,Ae.hp)(T)).link:null)||T||p||h||v}(h);try{return new Ri(p)}catch{return null}}}let no=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,T){return Tt._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const K=Ri.parseLink(T);return st(K,"argument-error"),Tt._fromEmailAndCode(p,K.code,K.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Bi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class X extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Di(v,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,j.A)(function*(v,h){return En(v,"POST","/v1/accounts:signUp",Jt(v,h))})).apply(this,arguments)}class zi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T){return(0,j.A)(function*(K,he,lt,wt=!1){const cn=yield ce._fromIdTokenResponse(K,lt,wt),nr=To(lt);return new zi({user:cn,providerId:nr,_tokenResponse:lt,operationType:he})}).apply(this,arguments)}static _forOperation(h,p,T){return(0,j.A)(function*(){yield h._updateTokensIfNecessary(T,!0);const K=To(T);return new zi({user:h,providerId:K,_tokenResponse:T,operationType:p})})()}}function To(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}class Xe extends Ae.g{constructor(h,p,T,K){var he;super(p.code,p.message),this.operationType=T,this.user=K,Object.setPrototypeOf(this,Xe.prototype),this.customData={appName:h.name,tenantId:null!==(he=h.tenantId)&&void 0!==he?he:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,K){return new Xe(h,p,T,K)}}function Wt(v,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?Xe._fromErrorAndOperation(v,he,h,T):he})}function fr(){return(fr=(0,j.A)(function*(v,h,p=!1){const T=yield yr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),p);return zi._forOperation(v,"link",T)})).apply(this,arguments)}function ho(){return(ho=(0,j.A)(function*(v,h,p=!1){const{auth:T}=v;if((0,fe.xZ)(T.app))return Promise.reject(On(T));const K="reauthenticate";try{const he=yield yr(v,Wt(T,K,h,v),p);st(he.idToken,T,"internal-error");const lt=Nn(he.idToken);st(lt,T,"internal-error");const{sub:wt}=lt;return st(v.uid===wt,T,"user-mismatch"),zi._forOperation(v,K,he)}catch(he){throw"auth/user-not-found"===he?.code&&$t(T,"user-mismatch"),he}})).apply(this,arguments)}function _o(v,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,j.A)(function*(v,h,p=!1){if((0,fe.xZ)(v.app))return Promise.reject(On(v));const T="signIn",K=yield Wt(v,T,h),he=yield zi._fromIdTokenResponse(v,T,K);return p||(yield v._updateCurrentUser(he.user)),he})).apply(this,arguments)}function is(){return(is=(0,j.A)(function*(v,h){return _o(Qe(v),h)})).apply(this,arguments)}function Rs(v){return va.apply(this,arguments)}function va(){return(va=(0,j.A)(function*(v){const h=Qe(v);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ws(v,h,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,j.A)(function*(v,h,p){if((0,fe.xZ)(v.app))return Promise.reject(On(v));const T=Qe(v),lt=yield se(T,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Di,"EMAIL_PASSWORD_PROVIDER").catch(cn=>{throw"auth/password-does-not-meet-requirements"===cn.code&&Rs(v),cn}),wt=yield zi._fromIdTokenResponse(T,"signIn",lt);return yield T._updateCurrentUser(wt.user),wt})).apply(this,arguments)}function ha(v,h,p){return(0,fe.xZ)(v.app)?Promise.reject(On(v)):function zo(v,h){return is.apply(this,arguments)}((0,Ae.Ku)(v),no.credential(h,p)).catch(function(){var T=(0,j.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&Rs(v),K});return function(K){return T.apply(this,arguments)}}())}function Ao(v,h,p,T){return(0,Ae.Ku)(v).onAuthStateChanged(h,p,T)}function Zo(v){return(0,Ae.Ku)(v).signOut()}const ee="__sak";class Oe{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ee,"1"),this.storage.removeItem(ee),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yn=(()=>{class v extends Oe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const K=this.storage.getItem(T),he=this.localCache[T];K!==he&&p(T,he,K)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((wt,cn,nr)=>{this.notifyListeners(wt,nr)});const K=p.key;T?this.detachListener():this.stopPolling();const he=()=>{const wt=this.storage.getItem(K);!T&&this.localCache[K]===wt||this.notifyListeners(K,wt)},lt=this.storage.getItem(K);!function jr(){return(0,Ae.lT)()&&10===document.documentMode}()||lt===p.newValue||p.newValue===p.oldValue?he():setTimeout(he,10)}notifyListeners(p,T){this.localCache[p]=T;const K=this.listeners[p];if(K)for(const he of Array.from(K))he(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var K=()=>super._set,he=this;return(0,j.A)(function*(){yield K().call(he,p,T),he.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,K=this;return(0,j.A)(function*(){const he=yield T().call(K,p);return K.localCache[p]=JSON.stringify(he),he})()}_remove(p){var T=()=>super._remove,K=this;return(0,j.A)(function*(){yield T().call(K,p),delete K.localCache[p]})()}}return v.type="LOCAL",v})(),fo=(()=>{class v extends Oe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return v.type="SESSION",v})();let qo=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(he=>he.isListeningto(p));if(T)return T;const K=new v(p);return this.receivers.push(K),K}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,j.A)(function*(){const K=p,{eventId:he,eventType:lt,data:wt}=K.data,cn=T.handlersMap[lt];if(!cn?.size)return;K.ports[0].postMessage({status:"ack",eventId:he,eventType:lt});const nr=Array.from(cn).map(function(){var Vr=(0,j.A)(function*(Vi){return Vi(K.origin,wt)});return function(Vi){return Vr.apply(this,arguments)}}()),Nr=yield function Co(v){return Promise.all(v.map(function(){var h=(0,j.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(nr);K.ports[0].postMessage({status:"done",eventId:he,eventType:lt,response:Nr})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function wo(v="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return v+p}class na{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var T=this;return(0,j.A)(function*(K,he,lt=50){const wt=typeof MessageChannel<"u"?new MessageChannel:null;if(!wt)throw new Error("connection_unavailable");let cn,nr;return new Promise((Nr,Vr)=>{const Vi=wo("",20);wt.port1.start();const es=setTimeout(()=>{Vr(new Error("unsupported_event"))},lt);nr={messageChannel:wt,onMessage(aa){const Tu=aa;if(Tu.data.eventId===Vi)switch(Tu.data.status){case"ack":clearTimeout(es),cn=setTimeout(()=>{Vr(new Error("timeout"))},3e3);break;case"done":clearTimeout(cn),Nr(Tu.data.response);break;default:clearTimeout(es),clearTimeout(cn),Vr(new Error("invalid_response"))}}},T.handlers.add(nr),wt.port1.addEventListener("message",nr.onMessage),T.target.postMessage({eventType:K,eventId:Vi,data:he},[wt.port2])}).finally(()=>{nr&&T.removeMessageHandler(nr)})}).apply(this,arguments)}}function Qi(){return window}function No(){return typeof Qi().WorkerGlobalScope<"u"&&"function"==typeof Qi().importScripts}function Ms(){return(Ms=(0,j.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ra="firebaseLocalStorageDb",Ya="firebaseLocalStorage",kr="fbase_key";class Lr{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ni(v,h){return v.transaction([Ya],h?"readwrite":"readonly").objectStore(Ya)}function bo(){const v=indexedDB.open(ra,1);return new Promise((h,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const T=v.result;try{T.createObjectStore(Ya,{keyPath:kr})}catch(K){p(K)}}),v.addEventListener("success",(0,j.A)(function*(){const T=v.result;T.objectStoreNames.contains(Ya)?h(T):(T.close(),yield function Zi(){const v=indexedDB.deleteDatabase(ra);return new Lr(v).toPromise()}(),h(yield bo()))}))})}function jo(v,h,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,j.A)(function*(v,h,p){const T=ni(v,!0).put({[kr]:h,value:p});return new Lr(T).toPromise()})).apply(this,arguments)}function Eo(){return(Eo=(0,j.A)(function*(v,h){const p=ni(v,!1).get(h),T=yield new Lr(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function pa(v,h){const p=ni(v,!0).delete(h);return new Lr(p).toPromise()}const ys=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,j.A)(function*(){return p.db||(p.db=yield bo()),p.db})()}_withRetries(p){var T=this;return(0,j.A)(function*(){let K=0;for(;;)try{const he=yield T._openDb();return yield p(he)}catch(he){if(K++>3)throw he;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,j.A)(function*(){return No()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,j.A)(function*(){p.receiver=qo._getInstance(function ao(){return No()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,j.A)(function*(K,he){return{keyProcessed:(yield p._poll()).includes(he.key)}});return function(K,he){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,j.A)(function*(K,he){return["keyChanged"]});return function(K,he){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,j.A)(function*(){var T,K;if(p.activeServiceWorker=yield function Fo(){return Ms.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new na(p.activeServiceWorker);const he=yield p.sender._send("ping",{},800);he&&null!==(T=he[0])&&void 0!==T&&T.fulfilled&&null!==(K=he[0])&&void 0!==K&&K.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,j.A)(function*(){if(T.sender&&T.activeServiceWorker&&function Rc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,j.A)(function*(){try{if(!indexedDB)return!1;const p=yield bo();return yield jo(p,ee,"1"),yield pa(p,ee),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,j.A)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var K=this;return(0,j.A)(function*(){return K._withPendingWrite((0,j.A)(function*(){return yield K._withRetries(he=>jo(he,p,T)),K.localCache[p]=T,K.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,j.A)(function*(){const K=yield T._withRetries(he=>function ia(v,h){return Eo.apply(this,arguments)}(he,p));return T.localCache[p]=K,K})()}_remove(p){var T=this;return(0,j.A)(function*(){return T._withPendingWrite((0,j.A)(function*(){return yield T._withRetries(K=>pa(K,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,j.A)(function*(){const T=yield p._withRetries(lt=>{const wt=ni(lt,!1).getAll();return new Lr(wt).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const K=[],he=new Set;if(0!==T.length)for(const{fbase_key:lt,value:wt}of T)he.add(lt),JSON.stringify(p.localCache[lt])!==JSON.stringify(wt)&&(p.notifyListeners(lt,wt),K.push(lt));for(const lt of Object.keys(p.localCache))p.localCache[lt]&&!he.has(lt)&&(p.notifyListeners(lt,null),K.push(lt));return K})()}notifyListeners(p,T){this.localCache[p]=T;const K=this.listeners[p];if(K)for(const he of Array.from(K))he(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,j.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();qe("rcb"),new pe(3e4,6e4);class Sl extends Ti{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Gt(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Gt(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Gt(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Gp(v){return _o(v.auth,new Sl(v),v.bypassAuthState)}function ss(v){const{auth:h,user:p}=v;return st(p,h,"internal-error"),function Li(v,h){return ho.apply(this,arguments)}(p,new Sl(v),v.bypassAuthState)}function jd(v){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,j.A)(function*(v){const{auth:h,user:p}=v;return st(p,h,"internal-error"),function Qn(v,h){return fr.apply(this,arguments)}(p,new Sl(v),v.bypassAuthState)})).apply(this,arguments)}class Rl{constructor(h,p,T,K,he=!1){this.auth=h,this.resolver=T,this.user=K,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,j.A)(function*(T,K){h.pendingPromise={resolve:T,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(he){h.reject(he)}});return function(T,K){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,j.A)(function*(){const{urlResponse:T,sessionId:K,postBody:he,tenantId:lt,error:wt,type:cn}=h;if(wt)return void p.reject(wt);const nr={auth:p.auth,requestUri:T,sessionId:K,tenantId:lt||void 0,postBody:he||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(cn)(nr))}catch(Nr){p.reject(Nr)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Gp;case"linkViaPopup":case"linkViaRedirect":return jd;case"reauthViaPopup":case"reauthViaRedirect":return ss;default:$t(this.auth,"internal-error")}}resolve(h){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new pe(2e3,1e4);const uc=new Map;class lc extends Rl{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,j.A)(function*(){let T=uc.get(p.auth._key());if(!T){try{const he=(yield function Ml(v,h){return Ol.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(he)}catch(K){T=()=>Promise.reject(K)}uc.set(p.auth._key(),T)}return p.bypassAuthState||uc.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,j.A)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const K=yield T.auth._redirectUserForId(h.eventId);if(K)return T.user=K,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,j.A)(function*(){})()}cleanUp(){}}function Ol(){return(Ol=(0,j.A)(function*(v,h){const p=function ma(v){return z("pendingRedirect",v.config.apiKey,v.name)}(h),T=function Nc(v){return Pe(v._redirectPersistence)}(v);if(!(yield T._isAvailable()))return!1;const K="true"===(yield T._get(p));return yield T._remove(p),K})).apply(this,arguments)}function Kd(v,h){uc.set(v._key(),h)}function Ku(v,h){return cu.apply(this,arguments)}function cu(){return(cu=(0,j.A)(function*(v,h,p=!1){if((0,fe.xZ)(v.app))return Promise.reject(On(v));const T=Qe(v),K=function ga(v,h){return h?Pe(h):(st(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}(T,h),lt=yield new lc(T,K,p).execute();return lt&&!p&&(delete lt.user._redirectEventId,yield T._persistUserIfCurrent(lt.user),yield T._setRedirectUser(null,h)),lt})).apply(this,arguments)}class uu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Gd(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hu(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!Hu(h)){const K=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(Tn(this.auth,K))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zd(h))}saveEventToCache(h){this.cachedEventUids.add(zd(h)),this.lastProcessedEventTime=Date.now()}}function zd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function Hu({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function zu(){return(zu=(0,j.A)(function*(v,h={}){return vn(v,"GET","/v1/projects",h)})).apply(this,arguments)}const eg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sf=/^https?/;function co(){return co=(0,j.A)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield function rf(v){return zu.apply(this,arguments)}(v);for(const p of h)try{if(kc(p))return}catch{}$t(v,"unauthorized-domain")}),co.apply(this,arguments)}function kc(v){const h=at(),{protocol:p,hostname:T}=new URL(h);if(v.startsWith("chrome-extension://")){const lt=new URL(v);return""===lt.hostname&&""===T?"chrome-extension:"===p&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&lt.hostname===T}if(!sf.test(p))return!1;if(eg.test(v))return T===v;const K=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(T)}const cf=new pe(3e4,6e4);function Fa(){const v=Qi().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Ba=null;const uf=new pe(5e3,15e3),qu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ja(v){const h=v.config;st(h.authDomain,v,"auth-domain-config-required");const p=h.emulator?et(h,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,T={apiKey:h.apiKey,appName:v.name,v:fe.MF},K=Lc.get(v.config.apiHost);K&&(T.eid=K);const he=v._getFrameworks();return he.length&&(T.fw=he.join(",")),`${p}?${(0,Ae.Am)(T).slice(1)}`}function lu(){return lu=(0,j.A)(function*(v){const h=yield function qd(v){return Ba=Ba||function Xa(v){return new Promise((h,p)=>{var T,K,he;function lt(){Fa(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Fa(),p(Tn(v,"network-request-failed"))},timeout:cf.get()})}if(null!==(K=null===(T=Qi().gapi)||void 0===T?void 0:T.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(he=Qi().gapi)||void 0===he||!he.load){const wt=qe("iframefcb");return Qi()[wt]=()=>{gapi.load?lt():p(Tn(v,"network-request-failed"))},or(`${function Fe(){return dn.gapiScript}()}?onload=${wt}`).catch(cn=>p(cn))}lt()}}).catch(h=>{throw Ba=null,h})}(v),Ba}(v),p=Qi().gapi;return st(p,v,"internal-error"),h.open({where:document.body,url:Ja(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qu,dontclear:!0},T=>new Promise(function(){var K=(0,j.A)(function*(he,lt){yield T.restyle({setHideOnLeave:!1});const wt=Tn(v,"network-request-failed"),cn=Qi().setTimeout(()=>{lt(wt)},uf.get());function nr(){Qi().clearTimeout(cn),he(T)}T.ping(nr).then(nr,()=>{lt(wt)})});return function(he,lt){return K.apply(this,arguments)}}()))}),lu.apply(this,arguments)}const Qd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class du{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Yu=encodeURIComponent("fac");function Xu(v,h,p,T,K,he){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,j.A)(function*(v,h,p,T,K,he){st(v.config.authDomain,v,"auth-domain-config-required"),st(v.config.apiKey,v,"invalid-api-key");const lt={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:T,v:fe.MF,eventId:K};if(h instanceof Bi){h.setDefaultLanguage(v.languageCode),lt.providerId=h.providerId||"",(0,Ae.Im)(h.getCustomParameters())||(lt.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Nr,Vr]of Object.entries(he||{}))lt[Nr]=Vr}if(h instanceof X){const Nr=h.getScopes().filter(Vr=>""!==Vr);Nr.length>0&&(lt.scopes=Nr.join(","))}v.tenantId&&(lt.tid=v.tenantId);const wt=lt;for(const Nr of Object.keys(wt))void 0===wt[Nr]&&delete wt[Nr];const cn=yield v._getAppCheckToken(),nr=cn?`#${Yu}=${encodeURIComponent(cn)}`:"";return`${function hf({config:v}){return v.emulator?et(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,Ae.Am)(wt).slice(1)}${nr}`})).apply(this,arguments)}const pu="webStorageSupport",pf=class ff{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fo,this._completeRedirectFn=Ku,this._overrideRedirectResult=Kd}_openPopup(h,p,T,K){var he=this;return(0,j.A)(function*(){var lt;de(null===(lt=he.eventManagers[h._key()])||void 0===lt?void 0:lt.manager,"_initialize() not called before _openPopup()");const wt=yield Xu(h,p,T,at(),K);return function Xd(v,h,p,T=500,K=600){const he=Math.max((window.screen.availHeight-K)/2,0).toString(),lt=Math.max((window.screen.availWidth-T)/2,0).toString();let wt="";const cn=Object.assign(Object.assign({},Qd),{width:T.toString(),height:K.toString(),top:he,left:lt}),nr=(0,Ae.ZQ)().toLowerCase();p&&(wt=Ke(nr)?"_blank":p),W(nr)&&(h=h||"http://localhost",cn.scrollbars="yes");const Nr=Object.entries(cn).reduce((Vi,[es,aa])=>`${Vi}${es}=${aa},`,"");if(function mr(v=(0,Ae.ZQ)()){var h;return Cn(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(nr)&&"_self"!==wt)return function kl(v,h){const p=document.createElement("a");p.href=v,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",wt),new du(null);const Vr=window.open(h||"",wt,Nr);st(Vr,v,"popup-blocked");try{Vr.focus()}catch{}return new du(Vr)}(h,wt,wo())})()}_openRedirect(h,p,T,K){var he=this;return(0,j.A)(function*(){return yield he._originValidation(h),function ls(v){Qi().location.href=v}(yield Xu(h,p,T,at(),K)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:K,promise:he}=this.eventManagers[p];return K?Promise.resolve(K):(de(he,"If manager is not set, promise should be"),he)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,j.A)(function*(){const T=yield function xl(v){return lu.apply(this,arguments)}(h),K=new uu(h);return T.register("authEvent",he=>(st(he?.authEvent,h,"invalid-auth-event"),{status:K.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:K},p.iframes[h._key()]=T,K})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(pu,{type:pu},K=>{var he;const lt=null===(he=K?.[0])||void 0===he?void 0:he[pu];void 0!==lt&&p(!!lt),$t(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function af(v){return co.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Oi()||Z()||Cn()}};var Zd="@firebase/auth";class Bl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,j.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gf=(0,Ae.XA)("authIdTokenMaxAge")||300;let Uc=null;const mf=v=>function(){var h=(0,j.A)(function*(p){const T=p&&(yield p.getIdTokenResult()),K=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(K&&K>gf)return;const he=T?.token;Uc!==he&&(Uc=he,yield fetch(v,{method:he?"POST":"DELETE",headers:he?{Authorization:`Bearer ${he}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function pc(v=(0,fe.Sx)()){const h=(0,fe.j6)(v,"auth");if(h.isInitialized())return h.getImmediate();const p=function qn(v,h){const p=(0,fe.j6)(v,"auth");if(p.isInitialized()){const K=p.getImmediate(),he=p.getOptions();if((0,Ae.bD)(he,h??{}))return K;$t(K,"already-initialized")}return p.initialize({options:h})}(v,{popupRedirectResolver:pf,persistence:[ys,Yn,fo]}),T=(0,Ae.XA)("authTokenSyncURL");if(T&&"boolean"==typeof isSecureContext&&isSecureContext){const he=new URL(T,location.origin);if(location.origin===he.origin){const lt=mf(he.toString());(function qi(v,h,p){(0,Ae.Ku)(v).beforeAuthStateChanged(h,p)})(p,lt,()=>lt(p.currentUser)),function Sr(v,h,p,T){(0,Ae.Ku)(v).onIdTokenChanged(h,p,T)}(p,wt=>lt(wt))}}const K=(0,Ae.Tj)("auth");return K&&function di(v,h,p){const T=Qe(v);st(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const K=!!p?.disableWarnings,he=Si(h),{host:lt,port:wt}=function ui(v){const h=Si(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(T);if(K){const he=K[1];return{host:he,port:ji(T.substr(he.length+1))}}{const[he,lt]=T.split(":");return{host:he,port:ji(lt)}}}(h),cn=null===wt?"":`:${wt}`,nr={url:`${he}//${lt}${cn}/`},Nr=Object.freeze({host:lt,port:wt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:K})});if(!T._canInitEmulator)return st(T.config.emulator&&T.emulatorConfig,T,"emulator-config-failed"),void st((0,Ae.bD)(nr,T.config.emulator)&&(0,Ae.bD)(Nr,T.emulatorConfig),T,"emulator-config-failed");T.config.emulator=nr,T.emulatorConfig=Nr,T.settings.appVerificationDisabledForTesting=!0,(0,Ae.zJ)(lt)?((0,Ae.gE)(`${he}//${lt}${cn}`),(0,Ae.P1)("Auth",!0)):K||function hi(){function v(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(p,`http://${K}`),p}(function Pn(v){dn=v})({loadJS:v=>new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",v),T.onload=h,T.onerror=K=>{const he=Tn("internal-error");he.customData=K,p(he)},T.type="text/javascript",T.charset="UTF-8",function Ul(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function hc(v){(0,fe.om)(new He.uA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),he=h.getProvider("app-check-internal"),{apiKey:lt,authDomain:wt}=T.options;st(lt&&!lt.includes(":"),"invalid-api-key",{appName:T.name});const cn={apiKey:lt,authDomain:wt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ni(v)},nr=new Cr(T,K,he,cn);return function ci(v,h){const p=h?.persistence||[],T=(Array.isArray(p)?p:[p]).map(Pe);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(T,h?.popupRedirectResolver)}(nr,p),nr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,fe.om)(new He.uA("auth-internal",h=>{const p=Qe(h.getProvider("auth").getImmediate());return new Bl(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.KO)(Zd,"1.10.8",function Vl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,fe.KO)(Zd,"1.10.8","esm2017")}("Browser");var gc=I(7014);function _f(v){return new gc.c(function(h){return{unsubscribe:Ao(v,h.next.bind(h),h.error.bind(h),h.complete.bind(h))}})}class Va{constructor(h){return h}}class mc{constructor(){return(0,L.CA)("auth")}}const eh=new a.nKC("angularfire2.auth-instances");function $l(v){return(h,p)=>{const T=h.runOutsideAngular(()=>v(p));return new Va(T)}}const tg={provide:mc,deps:[[new B.Xx1,eh]]},Zu={provide:Va,useFactory:function _u(v,h){const p=(0,L.lR)("auth",v,h);return p&&new Va(p)},deps:[[new B.Xx1,eh],_e.XU]};function jc(v,...h){return(0,ct.KO)("angularfire",L.xv.full,"auth"),(0,a.EmA)([Zu,tg,{provide:eh,useFactory:$l(v),multi:!0,deps:[B.SKi,a.zZn,L.u0,_e.gL,[new B.Xx1,$e.kR],...h]}])}const _c=(0,L.S3)(_f,!0),rg=(0,L.S3)(Ws,!0,2),Df=(0,L.S3)(pc,!0),oh=(0,L.S3)(Ao,!0),tl=(0,L.S3)(ha,!0,2),Iu=(0,L.S3)(Zo,!0,2)},1873:(Hn,vt,I)=>{var L=I(649),a=I(1572),B=I(9333),_e=I(5099),$e=I(8609);const ct="@firebase/installations",j="0.6.18",Ae=`w:${j}`,An=new _e.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _n(O){return O instanceof _e.g&&O.code.includes("request-failed")}function yt({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function wn(O){return{token:O.token,requestStatus:2,expiresIn:_t(O.expiresIn),creationTime:Date.now()}}function Sn(O,W){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,L.A)(function*(O,W){const Ke=(yield W.json()).error;return An.create("request-failed",{requestName:O,serverCode:Ke.code,serverMessage:Ke.message,serverStatus:Ke.status})})).apply(this,arguments)}function Ot({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Et(O){return tn.apply(this,arguments)}function tn(){return(tn=(0,L.A)(function*(O){const W=yield O();return W.status>=500&&W.status<600?O():W})).apply(this,arguments)}function _t(O){return Number(O.replace("s","000"))}function er(){return(er=(0,L.A)(function*({appConfig:O,heartbeatServiceProvider:W},{fid:Z}){const Ke=yt(O),tt=Ot(O),ht=W.getImmediate({optional:!0});if(ht){const Mr=yield ht.getHeartbeatsHeader();Mr&&tt.append("x-firebase-client",Mr)}const gn={method:"POST",headers:tt,body:JSON.stringify({fid:Z,authVersion:"FIS_v2",appId:O.appId,sdkVersion:Ae})},Cn=yield Et(()=>fetch(Ke,gn));if(Cn.ok){const Mr=yield Cn.json();return{fid:Mr.fid||Z,registrationStatus:2,refreshToken:Mr.refreshToken,authToken:wn(Mr.authToken)}}throw yield Sn("Create Installation",Cn)})).apply(this,arguments)}function On(O){return new Promise(W=>{setTimeout(W,O)})}const pr=/^[cdef][\w-]{21}$/;function Rn(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const Z=function de(O){return function rr(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return pr.test(Z)?Z:""}catch{return""}}function at(O){return`${O.appName}!${O.appId}`}const Lt=new Map;function Be(O,W){const Z=at(O);pe(Z,W),function et(O,W){const Z=function Le(){return!Ye&&"BroadcastChannel"in self&&(Ye=new BroadcastChannel("[Firebase] FID Change"),Ye.onmessage=O=>{pe(O.data.key,O.data.fid)}),Ye}();Z&&Z.postMessage({key:O,fid:W}),function Re(){0===Lt.size&&Ye&&(Ye.close(),Ye=null)}()}(Z,W)}function pe(O,W){const Z=Lt.get(O);if(Z)for(const Ke of Z)Ke(W)}let Ye=null;const vn="firebase-installations-store";let ur=null;function ft(){return ur||(ur=(0,$e.P2)("firebase-installations-database",1,{upgrade:(O,W)=>{0===W&&O.createObjectStore(vn)}})),ur}function Ft(O,W){return En.apply(this,arguments)}function En(){return(En=(0,L.A)(function*(O,W){const Z=at(O),tt=(yield ft()).transaction(vn,"readwrite"),ht=tt.objectStore(vn),rn=yield ht.get(Z);return yield ht.put(W,Z),yield tt.done,(!rn||rn.fid!==W.fid)&&Be(O,W.fid),W})).apply(this,arguments)}function an(O){return _r.apply(this,arguments)}function _r(){return(_r=(0,L.A)(function*(O){const W=at(O),Ke=(yield ft()).transaction(vn,"readwrite");yield Ke.objectStore(vn).delete(W),yield Ke.done})).apply(this,arguments)}function lr(O,W){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,L.A)(function*(O,W){const Z=at(O),tt=(yield ft()).transaction(vn,"readwrite"),ht=tt.objectStore(vn),rn=yield ht.get(Z),gn=W(rn);return void 0===gn?yield ht.delete(Z):yield ht.put(gn,Z),yield tt.done,gn&&(!rn||rn.fid!==gn.fid)&&Be(O,gn.fid),gn})).apply(this,arguments)}function Kr(O){return mi.apply(this,arguments)}function mi(){return mi=(0,L.A)(function*(O){let W;const Z=yield lr(O.appConfig,Ke=>{const tt=function Vn(O){return Xn(O||{fid:Rn(),registrationStatus:0})}(Ke),ht=function Ci(O,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(An.create("app-offline"))};const Z={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Ke=function Xr(O,W){return si.apply(this,arguments)}(O,Z);return{installationEntry:Z,registrationPromise:Ke}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:Kn(O)}:{installationEntry:W}}(O,tt);return W=ht.registrationPromise,ht.installationEntry});return""===Z.fid?{installationEntry:yield W}:{installationEntry:Z,registrationPromise:W}}),mi.apply(this,arguments)}function si(){return si=(0,L.A)(function*(O,W){try{const Z=yield function Tn(O,W){return er.apply(this,arguments)}(O,W);return Ft(O.appConfig,Z)}catch(Z){throw _n(Z)&&409===Z.customData.serverCode?yield an(O.appConfig):yield Ft(O.appConfig,{fid:W.fid,registrationStatus:0}),Z}}),si.apply(this,arguments)}function Kn(O){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,L.A)(function*(O){let W=yield _i(O.appConfig);for(;1===W.registrationStatus;)yield On(100),W=yield _i(O.appConfig);if(0===W.registrationStatus){const{installationEntry:Z,registrationPromise:Ke}=yield Kr(O);return Ke||Z}return W})).apply(this,arguments)}function _i(O){return lr(O,W=>{if(!W)throw An.create("installation-not-found");return Xn(W)})}function Xn(O){return function Ct(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Ht(){return(Ht=(0,L.A)(function*({appConfig:O,heartbeatServiceProvider:W},Z){const Ke=function It(O,{fid:W}){return`${yt(O)}/${W}/authTokens:generate`}(O,Z),tt=function Je(O,{refreshToken:W}){const Z=Ot(O);return Z.append("Authorization",function $t(O){return`FIS_v2 ${O}`}(W)),Z}(O,Z),ht=W.getImmediate({optional:!0});if(ht){const Mr=yield ht.getHeartbeatsHeader();Mr&&tt.append("x-firebase-client",Mr)}const gn={method:"POST",headers:tt,body:JSON.stringify({installation:{sdkVersion:Ae,appId:O.appId}})},Cn=yield Et(()=>fetch(Ke,gn));if(Cn.ok)return wn(yield Cn.json());throw yield Sn("Generate Auth Token",Cn)})).apply(this,arguments)}function Gn(O){return sr.apply(this,arguments)}function sr(){return sr=(0,L.A)(function*(O,W=!1){let Z;const Ke=yield lr(O.appConfig,ht=>{if(!xr(ht))throw An.create("not-registered");const rn=ht.authToken;if(!W&&function yr(O){return 2===O.requestStatus&&!function br(O){const W=Date.now();return W<O.creationTime||O.creationTime+O.expiresIn<W+36e5}(O)}(rn))return ht;if(1===rn.requestStatus)return Z=function Pr(O,W){return gr.apply(this,arguments)}(O,W),ht;{if(!navigator.onLine)throw An.create("app-offline");const gn=function yi(O){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:W})}(ht);return Z=function Ur(O,W){return Nn.apply(this,arguments)}(O,gn),gn}});return Z?yield Z:Ke.authToken}),sr.apply(this,arguments)}function gr(){return(gr=(0,L.A)(function*(O,W){let Z=yield Jr(O.appConfig);for(;1===Z.authToken.requestStatus;)yield On(100),Z=yield Jr(O.appConfig);const Ke=Z.authToken;return 0===Ke.requestStatus?Gn(O,W):Ke})).apply(this,arguments)}function Jr(O){return lr(O,W=>{if(!xr(W))throw An.create("not-registered");return function ei(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function Nn(){return Nn=(0,L.A)(function*(O,W){try{const Z=yield function ln(O,W){return Ht.apply(this,arguments)}(O,W),Ke=Object.assign(Object.assign({},W),{authToken:Z});return yield Ft(O.appConfig,Ke),Z}catch(Z){if(!_n(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const Ke=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield Ft(O.appConfig,Ke)}else yield an(O.appConfig);throw Z}}),Nn.apply(this,arguments)}function xr(O){return void 0!==O&&2===O.registrationStatus}function Un(){return(Un=(0,L.A)(function*(O){const W=O,{installationEntry:Z,registrationPromise:Ke}=yield Kr(W);return Ke?Ke.catch(console.error):Gn(W).catch(console.error),Z.fid})).apply(this,arguments)}function Bt(){return Bt=(0,L.A)(function*(O,W=!1){const Z=O;return yield function pn(O){return bn.apply(this,arguments)}(Z),(yield Gn(Z,W)).token}),Bt.apply(this,arguments)}function bn(){return(bn=(0,L.A)(function*(O){const{registrationPromise:W}=yield Kr(O);W&&(yield W)})).apply(this,arguments)}function ie(O){return An.create("missing-app-config-values",{valueName:O})}const Pe="installations",ve=O=>{const W=O.getProvider("app").getImmediate(),Z=function ce(O){if(!O||!O.options)throw ie("App Configuration");if(!O.name)throw ie("App Name");const W=["projectId","apiKey","appId"];for(const Z of W)if(!O.options[Z])throw ie(Z);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(W);return{app:W,appConfig:Z,heartbeatServiceProvider:(0,a.j6)(W,"heartbeat"),_delete:()=>Promise.resolve()}},z=O=>{const W=O.getProvider("app").getImmediate(),Z=(0,a.j6)(W,Pe).getImmediate();return{getId:()=>function Er(O){return Un.apply(this,arguments)}(Z),getToken:tt=>function fn(O){return Bt.apply(this,arguments)}(Z,tt)}};(function Ze(){(0,a.om)(new B.uA(Pe,ve,"PUBLIC")),(0,a.om)(new B.uA("installations-internal",z,"PRIVATE"))})(),(0,a.KO)(ct,j),(0,a.KO)(ct,j,"esm2017")},1896:(Hn,vt,I)=>{I.d(vt,{Kn:()=>ct,yU:()=>$e,Uv:()=>j});var L=I(4602);const B=(0,I(2336).L)(Ae=>function(ye){Ae(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((He,kt)=>`${kt+1}) ${He.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var _e=I(359);class $e{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const zt of ye)zt.remove(this);else ye.remove(this);const{initialTeardown:He}=this;if((0,L.T)(He))try{He()}catch(zt){Ce=zt instanceof B?zt.errors:[zt]}const{_finalizers:kt}=this;if(kt){this._finalizers=null;for(const zt of kt)try{fe(zt)}catch(Xt){Ce=Ce??[],Xt instanceof B?Ce=[...Ce,...Xt.errors]:Ce.push(Xt)}}if(Ce)throw new B(Ce)}}add(Ce){var ye;if(Ce&&Ce!==this)if(this.closed)fe(Ce);else{if(Ce instanceof $e){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(Ce)}}_hasParent(Ce){const{_parentage:ye}=this;return ye===Ce||Array.isArray(ye)&&ye.includes(Ce)}_addParent(Ce){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(Ce),ye):ye?[ye,Ce]:Ce}_removeParent(Ce){const{_parentage:ye}=this;ye===Ce?this._parentage=null:Array.isArray(ye)&&(0,_e.o)(ye,Ce)}remove(Ce){const{_finalizers:ye}=this;ye&&(0,_e.o)(ye,Ce),Ce instanceof $e&&Ce._removeParent(this)}}$e.EMPTY=(()=>{const Ae=new $e;return Ae.closed=!0,Ae})();const ct=$e.EMPTY;function j(Ae){return Ae instanceof $e||Ae&&"closed"in Ae&&(0,L.T)(Ae.remove)&&(0,L.T)(Ae.add)&&(0,L.T)(Ae.unsubscribe)}function fe(Ae){(0,L.T)(Ae)?Ae():Ae.unsubscribe()}},2120:(Hn,vt,I)=>{I.d(vt,{w:()=>a});const a=new(I(7014).c)($e=>$e.complete())},2316:(Hn,vt,I)=>{I.d(vt,{Q:()=>$e});var L=I(3731),a=I(5015),B=I(3701),_e=I(4526);function $e(ct){return(0,L.N)((j,fe)=>{(0,B.Tg)(ct).subscribe((0,a._)(fe,()=>fe.complete(),_e.l)),!fe.closed&&j.subscribe(fe)})}},2336:(Hn,vt,I)=>{function L(a){const _e=a($e=>{Error.call($e),$e.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}I.d(vt,{L:()=>L})},2425:(Hn,vt,I)=>{I.d(vt,{ES_:()=>ye,HJs:()=>ro,L39:()=>se,MKu:()=>qr,RxE:()=>Lt,TL3:()=>ze,Udg:()=>dt,_q3:()=>dr,a0P:()=>go,cCO:()=>He,ebz:()=>Sn,gRc:()=>Pr,hFB:()=>_n,naY:()=>ln,sbv:()=>Et,uEv:()=>uo,xvI:()=>Be});var L=I(1698),a=I(6777),B=I(7385);const _e=Symbol("InputSignalNode#UNSET"),$e={...a.s0,transformFn:void 0,applyValueToInputSignal(ae,U){(0,a.j2)(ae,U)}};function j(ae,U){const re=Object.create($e);function xe(){if((0,a.mK)(re),re.value===_e)throw new L.buA(-950,null);return re.value}return re.value=ae,re.transformFn=U?.transform,xe[a.bh]=re,xe}class ye{attributeName;constructor(U){this.attributeName=U}__NG_ELEMENT_ID__=()=>(0,B.kS0)(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}const He=new L.nKC("");function Xt(ae,U){return j(ae,U)}He.__NG_ELEMENT_ID__=ae=>{const U=(0,L.Mx4)();if(null===U)throw new L.buA(204,!1);if(2&U.type)return U.value;if(8&ae)return null;throw new L.buA(204,!1)};const _n=(Xt.required=function An(ae){return j(_e,ae)},Xt);function yt(ae,U){return(0,B.mU9)(U)}const Sn=(yt.required=function wn(ae,U){return(0,B.hnC)(U)},yt);function Ot(ae,U){return(0,B.mU9)(U)}const Et=(Ot.required=function Je(ae,U){return(0,B.hnC)(U)},Ot);class Lt{full;major;minor;patch;constructor(U){this.full=U;const re=U.split(".");this.major=re[0],this.minor=re[1],this.patch=re.slice(2).join(".")}}const Be=new Lt("20.0.0"),sn=new L.nKC(""),Jt=new L.nKC("");function vn(ae){return!ae.moduleRef}let ft,lr=null;function ln(){return!1}let Pr=(()=>class ae{static __NG_ELEMENT_ID__=gr})();function gr(ae){return function Jr(ae,U,re){if((0,L.Qs1)(ae)&&!re){const xe=(0,L.KdJ)(ae.index,U);return new B.NCX(xe,xe)}return 175&ae.type?new B.NCX(U[L.b5C],U):null}((0,L.Mx4)(),(0,L.OAn)(),!(16&~ae))}class xr{constructor(){}supports(U){return(0,B.ozJ)(U)}create(U){return new br(U)}}const yr=(ae,U)=>U;class br{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(U){this._trackByFn=U||yr}forEachItem(U){let re;for(re=this._itHead;null!==re;re=re._next)U(re)}forEachOperation(U){let re=this._itHead,xe=this._removalsHead,Tt=0,Gt=null;for(;re||xe;){const xn=!xe||re&&re.currentIndex<Un(xe,Tt,Gt)?re:xe,Jn=Un(xn,Tt,Gt),wr=xn.currentIndex;if(xn===xe)Tt--,xe=xe._nextRemoved;else if(re=re._next,null==xn.previousIndex)Tt++;else{Gt||(Gt=[]);const Qr=Jn-Tt,$i=wr-Tt;if(Qr!=$i){for(let to=0;to<Qr;to++){const Yi=to<Gt.length?Gt[to]:Gt[to]=0,io=Yi+to;$i<=io&&io<Qr&&(Gt[to]=Yi+1)}Gt[xn.previousIndex]=$i-Qr}}Jn!==wr&&U(xn,Jn,wr)}}forEachPreviousItem(U){let re;for(re=this._previousItHead;null!==re;re=re._nextPrevious)U(re)}forEachAddedItem(U){let re;for(re=this._additionsHead;null!==re;re=re._nextAdded)U(re)}forEachMovedItem(U){let re;for(re=this._movesHead;null!==re;re=re._nextMoved)U(re)}forEachRemovedItem(U){let re;for(re=this._removalsHead;null!==re;re=re._nextRemoved)U(re)}forEachIdentityChange(U){let re;for(re=this._identityChangesHead;null!==re;re=re._nextIdentityChange)U(re)}diff(U){if(null==U&&(U=[]),!(0,B.ozJ)(U))throw new L.buA(900,!1);return this.check(U)?this:null}onDestroy(){}check(U){this._reset();let Tt,Gt,xn,re=this._itHead,xe=!1;if(Array.isArray(U)){this.length=U.length;for(let Jn=0;Jn<this.length;Jn++)Gt=U[Jn],xn=this._trackByFn(Jn,Gt),null!==re&&Object.is(re.trackById,xn)?(xe&&(re=this._verifyReinsertion(re,Gt,xn,Jn)),Object.is(re.item,Gt)||this._addIdentityChange(re,Gt)):(re=this._mismatch(re,Gt,xn,Jn),xe=!0),re=re._next}else Tt=0,(0,B.utN)(U,Jn=>{xn=this._trackByFn(Tt,Jn),null!==re&&Object.is(re.trackById,xn)?(xe&&(re=this._verifyReinsertion(re,Jn,xn,Tt)),Object.is(re.item,Jn)||this._addIdentityChange(re,Jn)):(re=this._mismatch(re,Jn,xn,Tt),xe=!0),re=re._next,Tt++}),this.length=Tt;return this._truncate(re),this.collection=U,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let U;for(U=this._previousItHead=this._itHead;null!==U;U=U._next)U._nextPrevious=U._next;for(U=this._additionsHead;null!==U;U=U._nextAdded)U.previousIndex=U.currentIndex;for(this._additionsHead=this._additionsTail=null,U=this._movesHead;null!==U;U=U._nextMoved)U.previousIndex=U.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(U,re,xe,Tt){let Gt;return null===U?Gt=this._itTail:(Gt=U._prev,this._remove(U)),null!==(U=null===this._unlinkedRecords?null:this._unlinkedRecords.get(xe,null))?(Object.is(U.item,re)||this._addIdentityChange(U,re),this._reinsertAfter(U,Gt,Tt)):null!==(U=null===this._linkedRecords?null:this._linkedRecords.get(xe,Tt))?(Object.is(U.item,re)||this._addIdentityChange(U,re),this._moveAfter(U,Gt,Tt)):U=this._addAfter(new yi(re,xe),Gt,Tt),U}_verifyReinsertion(U,re,xe,Tt){let Gt=null===this._unlinkedRecords?null:this._unlinkedRecords.get(xe,null);return null!==Gt?U=this._reinsertAfter(Gt,U._prev,Tt):U.currentIndex!=Tt&&(U.currentIndex=Tt,this._addToMoves(U,Tt)),U}_truncate(U){for(;null!==U;){const re=U._next;this._addToRemovals(this._unlink(U)),U=re}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(U,re,xe){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(U);const Tt=U._prevRemoved,Gt=U._nextRemoved;return null===Tt?this._removalsHead=Gt:Tt._nextRemoved=Gt,null===Gt?this._removalsTail=Tt:Gt._prevRemoved=Tt,this._insertAfter(U,re,xe),this._addToMoves(U,xe),U}_moveAfter(U,re,xe){return this._unlink(U),this._insertAfter(U,re,xe),this._addToMoves(U,xe),U}_addAfter(U,re,xe){return this._insertAfter(U,re,xe),this._additionsTail=null===this._additionsTail?this._additionsHead=U:this._additionsTail._nextAdded=U,U}_insertAfter(U,re,xe){const Tt=null===re?this._itHead:re._next;return U._next=Tt,U._prev=re,null===Tt?this._itTail=U:Tt._prev=U,null===re?this._itHead=U:re._next=U,null===this._linkedRecords&&(this._linkedRecords=new Er),this._linkedRecords.put(U),U.currentIndex=xe,U}_remove(U){return this._addToRemovals(this._unlink(U))}_unlink(U){null!==this._linkedRecords&&this._linkedRecords.remove(U);const re=U._prev,xe=U._next;return null===re?this._itHead=xe:re._next=xe,null===xe?this._itTail=re:xe._prev=re,U}_addToMoves(U,re){return U.previousIndex===re||(this._movesTail=null===this._movesTail?this._movesHead=U:this._movesTail._nextMoved=U),U}_addToRemovals(U){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Er),this._unlinkedRecords.put(U),U.currentIndex=null,U._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=U,U._prevRemoved=null):(U._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=U),U}_addIdentityChange(U,re){return U.item=re,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=U:this._identityChangesTail._nextIdentityChange=U,U}}class yi{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(U,re){this.item=U,this.trackById=re}}class ei{_head=null;_tail=null;add(U){null===this._head?(this._head=this._tail=U,U._nextDup=null,U._prevDup=null):(this._tail._nextDup=U,U._prevDup=this._tail,U._nextDup=null,this._tail=U)}get(U,re){let xe;for(xe=this._head;null!==xe;xe=xe._nextDup)if((null===re||re<=xe.currentIndex)&&Object.is(xe.trackById,U))return xe;return null}remove(U){const re=U._prevDup,xe=U._nextDup;return null===re?this._head=xe:re._nextDup=xe,null===xe?this._tail=re:xe._prevDup=re,null===this._head}}class Er{map=new Map;put(U){const re=U.trackById;let xe=this.map.get(re);xe||(xe=new ei,this.map.set(re,xe)),xe.add(U)}get(U,re){const Tt=this.map.get(U);return Tt?Tt.get(U,re):null}remove(U){const re=U.trackById;return this.map.get(re).remove(U)&&this.map.delete(re),U}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Un(ae,U,re){const xe=ae.previousIndex;if(null===xe)return xe;let Tt=0;return re&&xe<re.length&&(Tt=re[xe]),xe+U+Tt}class fn{constructor(){}supports(U){return U instanceof Map||(0,B.vDg)(U)}create(){return new Bt}}class Bt{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(U){let re;for(re=this._mapHead;null!==re;re=re._next)U(re)}forEachPreviousItem(U){let re;for(re=this._previousMapHead;null!==re;re=re._nextPrevious)U(re)}forEachChangedItem(U){let re;for(re=this._changesHead;null!==re;re=re._nextChanged)U(re)}forEachAddedItem(U){let re;for(re=this._additionsHead;null!==re;re=re._nextAdded)U(re)}forEachRemovedItem(U){let re;for(re=this._removalsHead;null!==re;re=re._nextRemoved)U(re)}diff(U){if(U){if(!(U instanceof Map||(0,B.vDg)(U)))throw new L.buA(900,!1)}else U=new Map;return this.check(U)?this:null}onDestroy(){}check(U){this._reset();let re=this._mapHead;if(this._appendAfter=null,this._forEach(U,(xe,Tt)=>{if(re&&re.key===Tt)this._maybeAddToChanges(re,xe),this._appendAfter=re,re=re._next;else{const Gt=this._getOrCreateRecordForKey(Tt,xe);re=this._insertBeforeOrAppend(re,Gt)}}),re){re._prev&&(re._prev._next=null),this._removalsHead=re;for(let xe=re;null!==xe;xe=xe._nextRemoved)xe===this._mapHead&&(this._mapHead=null),this._records.delete(xe.key),xe._nextRemoved=xe._next,xe.previousValue=xe.currentValue,xe.currentValue=null,xe._prev=null,xe._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(U,re){if(U){const xe=U._prev;return re._next=U,re._prev=xe,U._prev=re,xe&&(xe._next=re),U===this._mapHead&&(this._mapHead=re),this._appendAfter=U,U}return this._appendAfter?(this._appendAfter._next=re,re._prev=this._appendAfter):this._mapHead=re,this._appendAfter=re,null}_getOrCreateRecordForKey(U,re){if(this._records.has(U)){const Tt=this._records.get(U);this._maybeAddToChanges(Tt,re);const Gt=Tt._prev,xn=Tt._next;return Gt&&(Gt._next=xn),xn&&(xn._prev=Gt),Tt._next=null,Tt._prev=null,Tt}const xe=new pn(U);return this._records.set(U,xe),xe.currentValue=re,this._addToAdditions(xe),xe}_reset(){if(this.isDirty){let U;for(this._previousMapHead=this._mapHead,U=this._previousMapHead;null!==U;U=U._next)U._nextPrevious=U._next;for(U=this._changesHead;null!==U;U=U._nextChanged)U.previousValue=U.currentValue;for(U=this._additionsHead;null!=U;U=U._nextAdded)U.previousValue=U.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(U,re){Object.is(re,U.currentValue)||(U.previousValue=U.currentValue,U.currentValue=re,this._addToChanges(U))}_addToAdditions(U){null===this._additionsHead?this._additionsHead=this._additionsTail=U:(this._additionsTail._nextAdded=U,this._additionsTail=U)}_addToChanges(U){null===this._changesHead?this._changesHead=this._changesTail=U:(this._changesTail._nextChanged=U,this._changesTail=U)}_forEach(U,re){U instanceof Map?U.forEach(re):Object.keys(U).forEach(xe=>re(U[xe],xe))}}class pn{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(U){this.key=U}}function bn(){return new dr([new xr])}let dr=(()=>{class ae{factories;static \u0275prov=(0,L.jDH)({token:ae,providedIn:"root",factory:bn});constructor(re){this.factories=re}static create(re,xe){if(null!=xe){const Tt=xe.factories.slice();re=re.concat(Tt)}return new ae(re)}static extend(re){return{provide:ae,useFactory:xe=>ae.create(re,xe||bn()),deps:[[ae,new B.kdw,new B.Xx1]]}}find(re){const xe=this.factories.find(Tt=>Tt.supports(re));if(null!=xe)return xe;throw new L.buA(901,!1)}}return ae})();function Ir(){return new qr([new fn])}let qr=(()=>{class ae{static \u0275prov=(0,L.jDH)({token:ae,providedIn:"root",factory:Ir});factories;constructor(re){this.factories=re}static create(re,xe){if(xe){const Tt=xe.factories.slice();re=re.concat(Tt)}return new ae(re)}static extend(re){return{provide:ae,useFactory:xe=>ae.create(re,xe||Ir()),deps:[[ae,new B.kdw,new B.Xx1]]}}find(re){const xe=this.factories.find(Tt=>Tt.supports(re));if(xe)return xe;throw new L.buA(901,!1)}}return ae})();function ze(ae){(0,B.Ef8)(8);try{const{rootComponent:U,appProviders:re,platformProviders:xe}=ae,Tt=function Kn(ae=[]){if(lr)return lr;(0,B.pl0)();const U=function Vn(ae=[],U){return L.zZn.create({name:U,providers:[{provide:L.GBX,useValue:"platform"},{provide:sn,useValue:new Set([()=>lr=null])},...ae]})}(ae);return lr=U,(0,B.ypd)(),function _i(ae){const U=ae.get(B.PLl,null);(0,L.N4e)(ae,()=>{U?.forEach(re=>re())})}(U),U}(xe),Gt=[(0,B.SdI)({}),{provide:L.hk6,useExisting:B.Ts$},L.gv8,...re||[]];return function ur(ae){const U=vn(ae)?ae.r3Injector:ae.moduleRef.injector,re=U.get(B.SKi);return re.run(()=>{vn(ae)?ae.r3Injector.resolveInjectorInitializers():ae.moduleRef.resolveInjectorInitializers();const xe=U.get(L.ZTf);let Tt;if(re.runOutsideAngular(()=>{Tt=re.onError.subscribe({next:xe})}),vn(ae)){const Gt=()=>U.destroy(),xn=ae.platformInjector.get(sn);xn.add(Gt),U.onDestroy(()=>{Tt.unsubscribe(),xn.delete(Gt)})}else{const Gt=()=>ae.moduleRef.destroy(),xn=ae.platformInjector.get(sn);xn.add(Gt),ae.moduleRef.onDestroy(()=>{(0,B.TFI)(ae.allPlatformModules,ae.moduleRef),Tt.unsubscribe(),xn.delete(Gt)})}return function an(ae,U,re){try{const xe=re();return(0,B.yLl)(xe)?xe.catch(Tt=>{throw U.runOutsideAngular(()=>ae(Tt)),Tt}):xe}catch(xe){throw U.runOutsideAngular(()=>ae(xe)),xe}}(xe,re,()=>{const Gt=U.get(B.H1s);return Gt.runInitializers(),Gt.donePromise.then(()=>{const xn=U.get(B.xe9,B.DkB);if((0,B.e6s)(xn||B.DkB),!U.get(Jt,!0))return vn(ae)?U.get(B.o8S):(ae.allPlatformModules.push(ae.moduleRef),ae.moduleRef);if(vn(ae)){const wr=U.get(B.o8S);return void 0!==ae.rootComponent&&wr.bootstrap(ae.rootComponent),wr}return ft?.(ae.moduleRef,ae.allPlatformModules),ae.moduleRef})})})}({r3Injector:new B.bH1({providers:Gt,parent:Tt,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:Tt,rootComponent:U})}catch(U){return Promise.reject(U)}finally{(0,B.Ef8)(9)}}function se(ae){return"boolean"==typeof ae?ae:null!=ae&&"false"!==ae}function dt(ae,U=NaN){return isNaN(parseFloat(ae))||isNaN(Number(ae))?U:Number(ae)}const Br=Symbol("NOT_SET"),ki=new Set,Fi={...a.s0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Br,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(null===this.sequence.lastPhase||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(ae){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Br&&!(0,a.si)(this))return this.signal;try{for(const Tt of this.cleanup??ki)Tt()}finally{this.cleanup?.clear()}const U=[];void 0!==ae&&U.push(ae),U.push(this.registerCleanupFn);const re=(0,a.Bg)(this);let xe;try{xe=this.userFn.apply(null,U)}finally{(0,a.Wu)(this,re)}return(this.value===Br||!this.equal(this.value,xe))&&(this.value=xe,this.version++),this.signal}};class Ai extends B._ys{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(U,re,xe,Tt,Gt,xn=null){super(U,[void 0,void 0,void 0,void 0],xe,!1,Gt,xn),this.scheduler=Tt;for(const Jn of B.zoo){const wr=re[Jn];if(void 0===wr)continue;const Qr=Object.create(Fi);Qr.sequence=this,Qr.phase=Jn,Qr.userFn=wr,Qr.dirty=!0,Qr.signal=()=>((0,a.mK)(Qr),Qr.value),Qr.signal[a.bh]=Qr,Qr.registerCleanupFn=$i=>(Qr.cleanup??=new Set).add($i),this.nodes[Jn]=Qr,this.hooks[Jn]=$i=>Qr.phaseFn($i)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(const U of this.nodes)for(const re of U?.cleanup??ki)re()}}function uo(ae,U){const re=U?.injector??(0,L.WQX)(L.zZn),xe=re.get(L.hk6),Tt=re.get(B.cf$),Gt=re.get(B.a8H,null,{optional:!0});Tt.impl??=re.get(B.ziy);let xn=ae;"function"==typeof xn&&(xn={mixedReadWrite:ae});const Jn=re.get(L.r4V,null,{optional:!0}),wr=new Ai(Tt.impl,[xn.earlyRead,xn.write,xn.mixedReadWrite,xn.read],Jn?.view,xe,re.get(L.abz),Gt?.snapshot(null));return Tt.impl.register(wr),wr}function go(ae,U){const re=(0,L.xUg)(ae),xe=U.elementInjector||(0,L.WB9)();return new B.eHC(re).create(xe,U.projectableNodes,U.hostElement,U.environmentInjector,U.directives,U.bindings)}function ro(ae){const U=(0,L.xUg)(ae);if(!U)return null;const re=new B.eHC(U);return{get selector(){return re.selector},get type(){return re.componentType},get inputs(){return re.inputs},get outputs(){return re.outputs},get ngContentSelectors(){return re.ngContentSelectors},get isStandalone(){return U.standalone},get isSignal(){return U.signals}}}},2474:(Hn,vt,I)=>{I.d(vt,{MW:()=>Xt,Wp:()=>wn,XU:()=>ct,gL:()=>j});var L=I(8813),a=I(1698),B=I(7385),_e=I(2425),$e=I(8424);class ct{constructor(tn){return tn}}class j{constructor(){return(0,L.Dk)()}}const Ce=new a.nKC("angularfire2._apps"),ye={provide:ct,useFactory:function Ae(Et){return Et&&1===Et.length?Et[0]:new ct((0,L.Sx)())},deps:[[new B.Xx1,Ce]]},He={provide:j,deps:[[new B.Xx1,Ce]]};function kt(Et){return(tn,_t)=>{const $t=_t.get(B.Agw);(0,L.KO)("angularfire",$e.xv.full,"core"),(0,L.KO)("angularfire",$e.xv.full,"app"),(0,L.KO)("angular",_e.xvI.full,$t.toString());const Tn=tn.runOutsideAngular(()=>Et(_t));return new ct(Tn)}}function Xt(Et,...tn){return(0,a.EmA)([ye,He,{provide:Ce,useFactory:kt(Et),multi:!0,deps:[B.SKi,a.zZn,$e.u0,...tn]}])}const wn=(0,$e.S3)(L.Wp,!0)},2652:(Hn,vt,I)=>{I.d(vt,{M:()=>$e});var L=I(4602),a=I(3731),B=I(5015),_e=I(560);function $e(ct,j,fe){const Ae=(0,L.T)(ct)||j||fe?{next:ct,error:j,complete:fe}:ct;return Ae?(0,a.N)((Ce,ye)=>{var He;null===(He=Ae.subscribe)||void 0===He||He.call(Ae);let kt=!0;Ce.subscribe((0,B._)(ye,zt=>{var Xt;null===(Xt=Ae.next)||void 0===Xt||Xt.call(Ae,zt),ye.next(zt)},()=>{var zt;kt=!1,null===(zt=Ae.complete)||void 0===zt||zt.call(Ae),ye.complete()},zt=>{var Xt;kt=!1,null===(Xt=Ae.error)||void 0===Xt||Xt.call(Ae,zt),ye.error(zt)},()=>{var zt,Xt;kt&&(null===(zt=Ae.unsubscribe)||void 0===zt||zt.call(Ae)),null===(Xt=Ae.finalize)||void 0===Xt||Xt.call(Ae)}))}):_e.D}},2662:(Hn,vt,I)=>{I.d(vt,{U:()=>B});var L=I(433),a=I(560);function B(_e=1/0){return(0,L.Z)(a.D,_e)}},2862:(Hn,vt,I)=>{I.d(vt,{X:()=>L});const L=a=>a&&"number"==typeof a.length&&"function"!=typeof a},2901:(Hn,vt,I)=>{I.d(vt,{F:()=>An});var L=I(649),a=I(1767),B=I(7014),_e=I(1698),$e=I(2474),ct=I(7730),j=I(5270),fe=I(6391),Ae=I(8725),Ce=I(4830),ye=I(1373),He=I(884),kt=I(1465),zt=I(8657);let Xt=(()=>{var _n;class yt{constructor(Sn,Ge,Ot,Je,Et,tn,_t,$t,Tn,er,On){this.app=Sn,this.auth=Ge,this.firestore=Ot,this.storage=Je,this.functions=Et,this.messaging=tn,this.performance=_t,this.remoteConfig=$t,this.analytics=Tn,this.appCheck=er,this.vertexAI=On}getApp(){return this.app}getAuth(){return this.auth}getFirestore(){return this.firestore}getStorage(){return this.storage}getFunctions(){return this.functions}getMessaging(){return this.messaging}getPerformance(){return this.performance}getRemoteConfig(){return this.remoteConfig}getAnalytics(){return this.analytics}getAppCheck(){return this.appCheck}getVertexAI(){return this.vertexAI}static#e=_n=()=>(this.\u0275fac=function(Ge){return new(Ge||yt)(_e.KVO($e.XU),_e.KVO(a.Nj),_e.KVO(ct._7),_e.KVO(j.wc),_e.KVO(fe.ah),_e.KVO(Ae.T0),_e.KVO(Ce.V),_e.KVO(ye.$T),_e.KVO(He.j0),_e.KVO(kt.OE),_e.KVO(zt.L9))},this.\u0275prov=_e.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"}))}return _n(),yt})(),An=(()=>{var _n;class yt{constructor(Sn){this.firebaseService=Sn,this.auth=this.firebaseService.getAuth()}login(Sn,Ge){var Ot=this;return(0,L.A)(function*(){try{return(yield(0,a.x9)(Ot.auth,Sn,Ge)).user}catch(Je){return console.error("\u767b\u9304\u5931\u6557:",Je),null}})()}register(Sn,Ge){var Ot=this;return(0,L.A)(function*(){try{return(yield(0,a.eJ)(Ot.auth,Sn,Ge)).user}catch(Je){return console.error("\u8a3b\u518a\u5931\u6557:",Je),null}})()}logout(){var Sn=this;return(0,L.A)(function*(){try{yield(0,a.CI)(Sn.auth)}catch(Ge){console.error("\u767b\u51fa\u5931\u6557:",Ge)}})()}getCurrentUser(){return this.auth.currentUser}isLoggedIn(){return!!this.auth.currentUser}getCurrentUserId(){return this.auth.currentUser?.uid||null}getCurrentUserEmail(){return this.auth.currentUser?.email||null}isEmailVerified(){return this.auth.currentUser?.emailVerified||!1}onAuthStateChanged(){return new B.c(Sn=>{const Ge=(0,a.hg)(this.auth,Ot=>{Sn.next(Ot)});return()=>Ge()})}static#e=_n=()=>(this.\u0275fac=function(Ge){return new(Ge||yt)(_e.KVO(Xt))},this.\u0275prov=_e.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"}))}return _n(),yt})()},2983:(Hn,vt,I)=>{I.d(vt,{n:()=>_e});var L=I(3701),a=I(3731),B=I(5015);function _e($e,ct){return(0,a.N)((j,fe)=>{let Ae=null,Ce=0,ye=!1;const He=()=>ye&&!Ae&&fe.complete();j.subscribe((0,B._)(fe,kt=>{Ae?.unsubscribe();let zt=0;const Xt=Ce++;(0,L.Tg)($e(kt,Xt)).subscribe(Ae=(0,B._)(fe,An=>fe.next(ct?ct(kt,An,Xt,zt++):An),()=>{Ae=null,He()}))},()=>{ye=!0,He()}))})}},3273:(Hn,vt,I)=>{I.d(vt,{v:()=>B});var L=I(7014),a=I(3701);function B(_e){return new L.c($e=>{(0,a.Tg)(_e()).subscribe($e)})}},3441:(Hn,vt,I)=>{I.d(vt,{C:()=>B,U:()=>_e});var L=I(5482),a=I(4602);function B($e){return(0,L.AQ)(this,arguments,function*(){const j=$e.getReader();try{for(;;){const{value:fe,done:Ae}=yield(0,L.N3)(j.read());if(Ae)return yield(0,L.N3)(void 0);yield yield(0,L.N3)(fe)}}finally{j.releaseLock()}})}function _e($e){return(0,a.T)($e?.getReader)}},3486:(Hn,vt,I)=>{I.d(vt,{T:()=>a});var L=I(4602);function a(B){return Symbol.asyncIterator&&(0,L.T)(B?.[Symbol.asyncIterator])}},3559:(Hn,vt,I)=>{I.d(vt,{Y:()=>B,l:()=>_e});var L=I(8517);let a=null;function B($e){if(L.$.useDeprecatedSynchronousErrorHandling){const ct=!a;if(ct&&(a={errorThrown:!1,error:null}),$e(),ct){const{errorThrown:j,error:fe}=a;if(a=null,j)throw fe}}else $e()}function _e($e){L.$.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=$e)}},3590:(Hn,vt,I)=>{I.d(vt,{G:()=>ct});var L=I(7014),a=I(1896),B=I(3881),_e=I(5015),$e=I(3731);class ct extends L.c{constructor(fe,Ae){super(),this.source=fe,this.subjectFactory=Ae,this._subject=null,this._refCount=0,this._connection=null,(0,$e.S)(fe)&&(this.lift=fe.lift)}_subscribe(fe){return this.getSubject().subscribe(fe)}getSubject(){const fe=this._subject;return(!fe||fe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:fe}=this;this._subject=this._connection=null,fe?.unsubscribe()}connect(){let fe=this._connection;if(!fe){fe=this._connection=new a.yU;const Ae=this.getSubject();fe.add(this.source.subscribe((0,_e._)(Ae,void 0,()=>{this._teardown(),Ae.complete()},Ce=>{this._teardown(),Ae.error(Ce)},()=>this._teardown()))),fe.closed&&(this._connection=null,fe=a.yU.EMPTY)}return fe}refCount(){return(0,B.B)()(this)}}},3638:(Hn,vt,I)=>{I.d(vt,{W:()=>_e});var L=I(3701),a=I(5015),B=I(3731);function _e($e){return(0,B.N)((ct,j)=>{let Ce,fe=null,Ae=!1;fe=ct.subscribe((0,a._)(j,void 0,void 0,ye=>{Ce=(0,L.Tg)($e(ye,_e($e)(ct))),fe?(fe.unsubscribe(),fe=null,Ce.subscribe(j)):Ae=!0})),Ae&&(fe.unsubscribe(),fe=null,Ce.subscribe(j))})}},3701:(Hn,vt,I)=>{I.d(vt,{Tg:()=>kt});var L=I(5482),a=I(2862),B=I(8509),_e=I(7014),$e=I(300),ct=I(3486),j=I(6862),fe=I(1296),Ae=I(3441),Ce=I(4602),ye=I(1459),He=I(5967);function kt(Ge){if(Ge instanceof _e.c)return Ge;if(null!=Ge){if((0,$e.l)(Ge))return function zt(Ge){return new _e.c(Ot=>{const Je=Ge[He.s]();if((0,Ce.T)(Je.subscribe))return Je.subscribe(Ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,a.X)(Ge))return function Xt(Ge){return new _e.c(Ot=>{for(let Je=0;Je<Ge.length&&!Ot.closed;Je++)Ot.next(Ge[Je]);Ot.complete()})}(Ge);if((0,B.y)(Ge))return function An(Ge){return new _e.c(Ot=>{Ge.then(Je=>{Ot.closed||(Ot.next(Je),Ot.complete())},Je=>Ot.error(Je)).then(null,ye.m)})}(Ge);if((0,ct.T)(Ge))return yt(Ge);if((0,fe.x)(Ge))return function _n(Ge){return new _e.c(Ot=>{for(const Je of Ge)if(Ot.next(Je),Ot.closed)return;Ot.complete()})}(Ge);if((0,Ae.U)(Ge))return function wn(Ge){return yt((0,Ae.C)(Ge))}(Ge)}throw(0,j.L)(Ge)}function yt(Ge){return new _e.c(Ot=>{(function Sn(Ge,Ot){var Je,Et,tn,_t;return(0,L.sH)(this,void 0,void 0,function*(){try{for(Je=(0,L.xN)(Ge);!(Et=yield Je.next()).done;)if(Ot.next(Et.value),Ot.closed)return}catch($t){tn={error:$t}}finally{try{Et&&!Et.done&&(_t=Je.return)&&(yield _t.call(Je))}finally{if(tn)throw tn.error}}Ot.complete()})})(Ge,Ot).catch(Je=>Ot.error(Je))})}},3730:(Hn,vt,I)=>{I.d(vt,{yG:()=>Bt,Ay:()=>ir});var L=I(649),a=I(1572),B=I(9333),_e=I(5099),$e=I(7650);const ct=new Map,j={activated:!1,tokenObservers:[]},fe={initialized:!1,enabled:!1};function Ae(ve){return ct.get(ve)||Object.assign({},j)}function ye(){return fe}const He="https://content-firebaseappcheck.googleapis.com/v1",An={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class yt{constructor(z,Ze,O,W,Z){if(this.operation=z,this.retryPolicy=Ze,this.getWaitDuration=O,this.lowerBound=W,this.upperBound=Z,this.pending=null,this.nextErrorWaitInterval=W,W>Z)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(z){var Ze=this;return(0,L.A)(function*(){Ze.stop();try{Ze.pending=new _e.cY,Ze.pending.promise.catch(O=>{}),yield function wn(ve){return new Promise(z=>{setTimeout(z,ve)})}(Ze.getNextRun(z)),Ze.pending.resolve(),yield Ze.pending.promise,Ze.pending=new _e.cY,Ze.pending.promise.catch(O=>{}),yield Ze.operation(),Ze.pending.resolve(),yield Ze.pending.promise,Ze.process(!0).catch(()=>{})}catch(O){Ze.retryPolicy(O)?Ze.process(!1).catch(()=>{}):Ze.stop()}})()}getNextRun(z){if(z)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ze=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ze}}}const Ge=new _e.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Ot(ve=!1){var z;return ve?null===(z=self.grecaptcha)||void 0===z?void 0:z.enterprise:self.grecaptcha}function Je(ve){if(!Ae(ve).activated)throw Ge.create("use-before-activation",{appName:ve.name})}function Et(ve){const z=Math.round(ve/1e3),Ze=Math.floor(z/86400),O=Math.floor((z-3600*Ze*24)/3600),W=Math.floor((z-3600*Ze*24-3600*O)/60),Z=z-3600*Ze*24-3600*O-60*W;let Ke="";return Ze&&(Ke+=tn(Ze)+"d:"),O&&(Ke+=tn(O)+"h:"),Ke+=tn(W)+"m:"+tn(Z)+"s",Ke}function tn(ve){return 0===ve?"00":ve>=10?ve.toString():"0"+ve}function _t(ve,z){return $t.apply(this,arguments)}function $t(){return($t=(0,L.A)(function*({url:ve,body:z},Ze){const O={"Content-Type":"application/json"},W=Ze.getImmediate({optional:!0});if(W){const Cn=yield W.getHeartbeatsHeader();Cn&&(O["X-Firebase-Client"]=Cn)}const Z={method:"POST",body:JSON.stringify(z),headers:O};let Ke,tt;try{Ke=yield fetch(ve,Z)}catch(Cn){throw Ge.create("fetch-network-error",{originalErrorMessage:Cn?.message})}if(200!==Ke.status)throw Ge.create("fetch-status-error",{httpStatus:Ke.status});try{tt=yield Ke.json()}catch(Cn){throw Ge.create("fetch-parse-error",{originalErrorMessage:Cn?.message})}const ht=tt.ttl.match(/^([\d.]+)(s)$/);if(!ht||!ht[2]||isNaN(Number(ht[1])))throw Ge.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${tt.ttl}`});const rn=1e3*Number(ht[1]),gn=Date.now();return{token:tt.token,expireTimeMillis:gn+rn,issuedAtTimeMillis:gn}})).apply(this,arguments)}function On(ve,z){const{projectId:Ze,appId:O,apiKey:W}=ve.options;return{url:`${He}/projects/${Ze}/apps/${O}:exchangeDebugToken?key=${W}`,body:{debug_token:z}}}const st="firebase-app-check-store",Rn="debug-token";let de=null;function at(){return de||(de=new Promise((ve,z)=>{try{const Ze=indexedDB.open("firebase-app-check-database",1);Ze.onsuccess=O=>{ve(O.target.result)},Ze.onerror=O=>{var W;z(Ge.create("storage-open",{originalErrorMessage:null===(W=O.target.error)||void 0===W?void 0:W.message}))},Ze.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(st,{keyPath:"compositeKey"})}}catch(Ze){z(Ge.create("storage-open",{originalErrorMessage:Ze?.message}))}}),de)}function pe(ve,z){return et.apply(this,arguments)}function et(){return(et=(0,L.A)(function*(ve,z){const O=(yield at()).transaction(st,"readwrite"),Z=O.objectStore(st).put({compositeKey:ve,value:z});return new Promise((Ke,tt)=>{Z.onsuccess=ht=>{Ke()},O.onerror=ht=>{var rn;tt(Ge.create("storage-set",{originalErrorMessage:null===(rn=ht.target.error)||void 0===rn?void 0:rn.message}))}})})).apply(this,arguments)}function Ye(ve){return Le.apply(this,arguments)}function Le(){return(Le=(0,L.A)(function*(ve){const Ze=(yield at()).transaction(st,"readonly"),W=Ze.objectStore(st).get(ve);return new Promise((Z,Ke)=>{W.onsuccess=tt=>{const ht=tt.target.result;Z(ht?ht.value:void 0)},Ze.onerror=tt=>{var ht;Ke(Ge.create("storage-get",{originalErrorMessage:null===(ht=tt.target.error)||void 0===ht?void 0:ht.message}))}})})).apply(this,arguments)}function Re(ve){return`${ve.options.appId}-${ve.name}`}const sn=new $e.Vy("@firebase/app-check");function vn(){return(vn=(0,L.A)(function*(ve){if((0,_e.zW)()){let z;try{z=yield function Lt(ve){return Ye(Re(ve))}(ve)}catch(Ze){sn.warn(`Failed to read token from IndexedDB. Error: ${Ze}`)}return z}})).apply(this,arguments)}function ur(ve,z){return(0,_e.zW)()?function Be(ve,z){return pe(Re(ve),z)}(ve,z).catch(Ze=>{sn.warn(`Failed to write token to IndexedDB. Error: ${Ze}`)}):Promise.resolve()}function Ft(){return(Ft=(0,L.A)(function*(){let ve;try{ve=yield function Ne(){return Ye(Rn)}()}catch{}if(ve)return ve;{const z=crypto.randomUUID();return function ge(ve){return pe(Rn,ve)}(z).catch(Ze=>sn.warn(`Failed to persist debug token to IndexedDB. Error: ${Ze}`)),z}})).apply(this,arguments)}function En(){return ye().enabled}function an(){return _r.apply(this,arguments)}function _r(){return(_r=(0,L.A)(function*(){const ve=ye();if(ve.enabled&&ve.token)return ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zr={error:"UNKNOWN_ERROR"};function Kr(ve){return _e.K3.encodeString(JSON.stringify(ve),!1)}function mi(ve){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,L.A)(function*(ve,z=!1,Ze=!1){const O=ve.app;Je(O);const W=Ae(O);let Ke,Z=W.token;if(Z&&!Ct(Z)&&(W.token=void 0,Z=void 0),!Z){const rn=yield W.cachedTokenPromise;rn&&(Ct(rn)?Z=rn:yield ur(O,void 0))}if(!z&&Z&&Ct(Z))return{token:Z.token};let ht,tt=!1;if(En())try{W.exchangeTokenPromise||(W.exchangeTokenPromise=_t(On(O,yield an()),ve.heartbeatServiceProvider).finally(()=>{W.exchangeTokenPromise=void 0}),tt=!0);const rn=yield W.exchangeTokenPromise;return yield ur(O,rn),W.token=rn,{token:rn.token}}catch(rn){return"appCheck/throttled"===rn.code||"appCheck/initial-throttle"===rn.code?sn.warn(rn.message):Ze&&sn.error(rn),ln(rn)}try{W.exchangeTokenPromise||(W.exchangeTokenPromise=W.provider.getToken().finally(()=>{W.exchangeTokenPromise=void 0}),tt=!0),Z=yield Ae(O).exchangeTokenPromise}catch(rn){"appCheck/throttled"===rn.code||"appCheck/initial-throttle"===rn.code?sn.warn(rn.message):Ze&&sn.error(rn),Ke=rn}return Z?Ke?ht=Ct(Z)?{token:Z.token,internalError:Ke}:ln(Ke):(ht={token:Z.token},W.token=Z,yield ur(O,Z)):ht=ln(Ke),tt&&Xn(O,ht),ht})).apply(this,arguments)}function Xr(){return(Xr=(0,L.A)(function*(ve){const z=ve.app;Je(z);const{provider:Ze}=Ae(z);if(En()){const O=yield an(),{token:W}=yield _t(On(z,O),ve.heartbeatServiceProvider);return{token:W}}{const{token:O}=yield Ze.getToken();return{token:O}}})).apply(this,arguments)}function si(ve,z,Ze,O){const{app:W}=ve,Z=Ae(W);if(Z.tokenObservers=[...Z.tokenObservers,{next:Ze,error:O,type:z}],Z.token&&Ct(Z.token)){const tt=Z.token;Promise.resolve().then(()=>{Ze({token:tt.token}),Gr(ve)}).catch(()=>{})}Z.cachedTokenPromise.then(()=>Gr(ve))}function Kn(ve,z){const Ze=Ae(ve),O=Ze.tokenObservers.filter(W=>W.next!==z);0===O.length&&Ze.tokenRefresher&&Ze.tokenRefresher.isRunning()&&Ze.tokenRefresher.stop(),Ze.tokenObservers=O}function Gr(ve){const{app:z}=ve,Ze=Ae(z);let O=Ze.tokenRefresher;O||(O=function _i(ve){const{app:z}=ve;return new yt((0,L.A)(function*(){let O;if(O=Ae(z).token?yield mi(ve,!0):yield mi(ve),O.error)throw O.error;if(O.internalError)throw O.internalError}),()=>!0,()=>{const Ze=Ae(z);if(Ze.token){let O=Ze.token.issuedAtTimeMillis+.5*(Ze.token.expireTimeMillis-Ze.token.issuedAtTimeMillis)+3e5;return O=Math.min(O,Ze.token.expireTimeMillis-3e5),Math.max(0,O-Date.now())}return 0},An.RETRIAL_MIN_WAIT,An.RETRIAL_MAX_WAIT)}(ve),Ze.tokenRefresher=O),!O.isRunning()&&Ze.isTokenAutoRefreshEnabled&&O.start()}function Xn(ve,z){const Ze=Ae(ve).tokenObservers;for(const O of Ze)try{"EXTERNAL"===O.type&&null!=z.error?O.error(z.error):O.next(z)}catch{}}function Ct(ve){return ve.expireTimeMillis-Date.now()>0}function ln(ve){return{token:Kr(Zr),error:ve}}class Ht{constructor(z,Ze){this.app=z,this.heartbeatServiceProvider=Ze}_delete(){const{tokenObservers:z}=Ae(this.app);for(const Ze of z)Kn(this.app,Ze.next);return Promise.resolve()}}function Nn(ve,z){const Ze=new _e.cY;Ae(ve).reCAPTCHAState={initialized:Ze};const W=function yr(ve){const z=`fire_app_check_${ve.name}`,Ze=document.createElement("div");return Ze.id=z,Ze.style.display="none",document.body.appendChild(Ze),z}(ve),Z=Ot(!0);return Z?xr(ve,z,Z,W,Ze):function Un(ve){const z=document.createElement("script");z.src="https://www.google.com/recaptcha/enterprise.js",z.onload=ve,document.head.appendChild(z)}(()=>{const Ke=Ot(!0);if(!Ke)throw new Error("no recaptcha");xr(ve,z,Ke,W,Ze)}),Ze.promise}function xr(ve,z,Ze,O,W){Ze.ready(()=>{(function ei(ve,z,Ze,O){const W=Ze.render(O,{sitekey:z,size:"invisible",callback:()=>{Ae(ve).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ae(ve).reCAPTCHAState.succeeded=!1}}),Z=Ae(ve);Z.reCAPTCHAState=Object.assign(Object.assign({},Z.reCAPTCHAState),{widgetId:W})})(ve,z,Ze,O),W.resolve(Ze)})}function yi(){return(yi=(0,L.A)(function*(ve){Je(ve);const Ze=yield Ae(ve).reCAPTCHAState.initialized.promise;return new Promise((O,W)=>{const Z=Ae(ve).reCAPTCHAState;Ze.ready(()=>{O(Ze.execute(Z.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class Bt{constructor(z){this._siteKey=z,this._throttleData=null}getToken(){var z=this;return(0,L.A)(function*(){var Ze,O,W;!function dr(ve){if(ve&&Date.now()-ve.allowRequestsAfter<=0)throw Ge.create("throttled",{time:Et(ve.allowRequestsAfter-Date.now()),httpStatus:ve.httpStatus})}(z._throttleData);const Z=yield function br(ve){return yi.apply(this,arguments)}(z._app).catch(tt=>{throw Ge.create("recaptcha-error")});if(null===(Ze=Ae(z._app).reCAPTCHAState)||void 0===Ze||!Ze.succeeded)throw Ge.create("recaptcha-error");let Ke;try{Ke=yield _t(function er(ve,z){const{projectId:Ze,appId:O,apiKey:W}=ve.options;return{url:`${He}/projects/${Ze}/apps/${O}:exchangeRecaptchaEnterpriseToken?key=${W}`,body:{recaptcha_enterprise_token:z}}}(z._app,Z),z._heartbeatServiceProvider)}catch(tt){throw null!==(O=tt.code)&&void 0!==O&&O.includes("fetch-status-error")?(z._throttleData=function bn(ve,z){if(404===ve||403===ve)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:ve};{const Ze=z?z.backoffCount:0,O=(0,_e.p9)(Ze,1e3,2);return{backoffCount:Ze+1,allowRequestsAfter:Date.now()+O,httpStatus:ve}}}(Number(null===(W=tt.customData)||void 0===W?void 0:W.httpStatus),z._throttleData),Ge.create("initial-throttle",{time:Et(z._throttleData.allowRequestsAfter-Date.now()),httpStatus:z._throttleData.httpStatus})):tt}return z._throttleData=null,Ke})()}initialize(z){this._app=z,this._heartbeatServiceProvider=(0,a.j6)(z,"heartbeat"),Nn(z,this._siteKey).catch(()=>{})}isEqual(z){return z instanceof Bt&&this._siteKey===z._siteKey}}function ir(ve=(0,a.Sx)(),z){ve=(0,_e.Ku)(ve);const Ze=(0,a.j6)(ve,"app-check");if(ye().initialized||function lr(){const ve=(0,_e.mS)(),z=ye();if(z.initialized=!0,"string"!=typeof ve.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==ve.FIREBASE_APPCHECK_DEBUG_TOKEN)return;z.enabled=!0;const Ze=new _e.cY;z.token=Ze,Ze.resolve("string"==typeof ve.FIREBASE_APPCHECK_DEBUG_TOKEN?ve.FIREBASE_APPCHECK_DEBUG_TOKEN:function ft(){return Ft.apply(this,arguments)}())}(),En()&&an().then(W=>console.log(`App Check debug token: ${W}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),Ze.isInitialized()){const W=Ze.getImmediate(),Z=Ze.getOptions();if(Z.isTokenAutoRefreshEnabled===z.isTokenAutoRefreshEnabled&&Z.provider.isEqual(z.provider))return W;throw Ge.create("already-initialized",{appName:ve.name})}const O=Ze.initialize({options:z});return function Ir(ve,z,Ze=!1){const O=function Ce(ve,z){return ct.set(ve,z),ct.get(ve)}(ve,Object.assign({},j));O.activated=!0,O.provider=z,O.cachedTokenPromise=function Jt(ve){return vn.apply(this,arguments)}(ve).then(W=>(W&&Ct(W)&&(O.token=W,Xn(ve,{token:W.token})),W)),O.isTokenAutoRefreshEnabled=Ze&&ve.automaticDataCollectionEnabled,!ve.automaticDataCollectionEnabled&&Ze&&sn.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),O.provider.initialize(ve)}(ve,z.provider,z.isTokenAutoRefreshEnabled),Ae(ve).isTokenAutoRefreshEnabled&&si(O,"INTERNAL",()=>{}),O}const Pe="app-check-internal";!function ze(){(0,a.om)(new B.uA("app-check",ve=>function It(ve,z){return new Ht(ve,z)}(ve.getProvider("app").getImmediate(),ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ve,z,Ze)=>{ve.getProvider(Pe).initialize()})),(0,a.om)(new B.uA(Pe,ve=>function Gn(ve){return{getToken:z=>mi(ve,z),getLimitedUseToken:()=>function Ci(ve){return Xr.apply(this,arguments)}(ve),addTokenListener:z=>si(ve,"INTERNAL",z),removeTokenListener:z=>Kn(ve.app,z)}}(ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,a.KO)("@firebase/app-check","0.10.1")}()},3731:(Hn,vt,I)=>{I.d(vt,{N:()=>B,S:()=>a});var L=I(4602);function a(_e){return(0,L.T)(_e?.lift)}function B(_e){return $e=>{if(a($e))return $e.lift(function(ct){try{return _e(ct,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}},3773:(Hn,vt,I)=>{function L(a,B){return a.reduce((_e,$e,ct)=>(_e[$e]=B[ct],_e),{})}I.d(vt,{e:()=>L})},3840:(Hn,vt,I)=>{I.d(vt,{H:()=>Ot});var L=I(3701),a=I(4368),B=I(5024),ct=I(7014),fe=I(5356),Ae=I(4602),Ce=I(902);function He(Je,Et){if(!Je)throw new Error("Iterable cannot be null");return new ct.c(tn=>{(0,Ce.N)(tn,Et,()=>{const _t=Je[Symbol.asyncIterator]();(0,Ce.N)(tn,Et,()=>{_t.next().then($t=>{$t.done?tn.complete():tn.next($t.value)})},0,!0)})})}var kt=I(300),zt=I(8509),Xt=I(2862),An=I(1296),_n=I(3486),yt=I(6862),wn=I(3441);function Ot(Je,Et){return Et?function Ge(Je,Et){if(null!=Je){if((0,kt.l)(Je))return function _e(Je,Et){return(0,L.Tg)(Je).pipe((0,B._)(Et),(0,a.Q)(Et))}(Je,Et);if((0,Xt.X)(Je))return function j(Je,Et){return new ct.c(tn=>{let _t=0;return Et.schedule(function(){_t===Je.length?tn.complete():(tn.next(Je[_t++]),tn.closed||this.schedule())})})}(Je,Et);if((0,zt.y)(Je))return function $e(Je,Et){return(0,L.Tg)(Je).pipe((0,B._)(Et),(0,a.Q)(Et))}(Je,Et);if((0,_n.T)(Je))return He(Je,Et);if((0,An.x)(Je))return function ye(Je,Et){return new ct.c(tn=>{let _t;return(0,Ce.N)(tn,Et,()=>{_t=Je[fe.l](),(0,Ce.N)(tn,Et,()=>{let $t,Tn;try{({value:$t,done:Tn}=_t.next())}catch(er){return void tn.error(er)}Tn?tn.complete():tn.next($t)},0,!0)}),()=>(0,Ae.T)(_t?.return)&&_t.return()})}(Je,Et);if((0,wn.U)(Je))return function Sn(Je,Et){return He((0,wn.C)(Je),Et)}(Je,Et)}throw(0,yt.L)(Je)}(Je,Et):(0,L.Tg)(Je)}},3881:(Hn,vt,I)=>{I.d(vt,{B:()=>B});var L=I(3731),a=I(5015);function B(){return(0,L.N)((_e,$e)=>{let ct=null;_e._refCount++;const j=(0,a._)($e,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void(ct=null);const fe=_e._connection,Ae=ct;ct=null,fe&&(!Ae||fe===Ae)&&fe.unsubscribe(),$e.unsubscribe()});_e.subscribe(j),j.closed||(ct=_e.connect())})}},3919:(Hn,vt,I)=>{I.d(vt,{$:()=>B});var L=I(7014),a=I(4602);function B(_e,$e){const ct=(0,a.T)(_e)?_e:()=>_e,j=fe=>fe.error(ct());return new L.c($e?fe=>$e.schedule(j,0,fe):j)}},4147:(Hn,vt,I)=>{I.d(vt,{j:()=>a});var L=I(3731);function a(B){return(0,L.N)((_e,$e)=>{try{_e.subscribe($e)}finally{$e.add(B)}})}},4156:(Hn,vt,I)=>{var L=I(9125),a=I(6078),B=I(1698),_e=I(2425),$e=I(7385);const ct=new B.nKC("");let j=(()=>{class x{_zone;_plugins;_eventNameToPlugin=new Map;constructor(E,C){this._zone=C,E.forEach(F=>{F.manager=this}),this._plugins=E.slice().reverse()}addEventListener(E,C,F,ee){return this._findPluginFor(C).addEventListener(E,C,F,ee)}getZone(){return this._zone}_findPluginFor(E){let C=this._eventNameToPlugin.get(E);if(C)return C;if(C=this._plugins.find(ee=>ee.supports(E)),!C)throw new B.buA(5101,!1);return this._eventNameToPlugin.set(E,C),C}static \u0275fac=function(C){return new(C||x)(B.KVO(ct),B.KVO($e.SKi))};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})();class fe{_doc;constructor(_){this._doc=_}manager}const Ae="ng-app-id";function Ce(x){for(const _ of x)_.remove()}function ye(x,_){const E=_.createElement("style");return E.textContent=x,E}function kt(x,_){const E=_.createElement("link");return E.setAttribute("rel","stylesheet"),E.setAttribute("href",x),E}let zt=(()=>{class x{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(E,C,F,ee={}){this.doc=E,this.appId=C,this.nonce=F,this.isServer=(0,a.Vy)(ee),function He(x,_,E,C){const F=x.head?.querySelectorAll(`style[${Ae}="${_}"],link[${Ae}="${_}"]`);if(F)for(const ee of F)ee.removeAttribute(Ae),ee instanceof HTMLLinkElement?C.set(ee.href.slice(ee.href.lastIndexOf("/")+1),{usage:0,elements:[ee]}):ee.textContent&&E.set(ee.textContent,{usage:0,elements:[ee]})}(E,C,this.inline,this.external),this.hosts.add(E.head)}addStyles(E,C){for(const F of E)this.addUsage(F,this.inline,ye);C?.forEach(F=>this.addUsage(F,this.external,kt))}removeStyles(E,C){for(const F of E)this.removeUsage(F,this.inline);C?.forEach(F=>this.removeUsage(F,this.external))}addUsage(E,C,F){const ee=C.get(E);ee?ee.usage++:C.set(E,{usage:1,elements:[...this.hosts].map(Oe=>this.addElement(Oe,F(E,this.doc)))})}removeUsage(E,C){const F=C.get(E);F&&(F.usage--,F.usage<=0&&(Ce(F.elements),C.delete(E)))}ngOnDestroy(){for(const[,{elements:E}]of[...this.inline,...this.external])Ce(E);this.hosts.clear()}addHost(E){this.hosts.add(E);for(const[C,{elements:F}]of this.inline)F.push(this.addElement(E,ye(C,this.doc)));for(const[C,{elements:F}]of this.external)F.push(this.addElement(E,kt(C,this.doc)))}removeHost(E){this.hosts.delete(E)}addElement(E,C){return this.nonce&&C.setAttribute("nonce",this.nonce),this.isServer&&C.setAttribute(Ae,this.appId),E.appendChild(C)}static \u0275fac=function(C){return new(C||x)(B.KVO(B.qQL),B.KVO($e.sZ2),B.KVO($e.BIS,8),B.KVO($e.Agw))};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})();const Xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},An=/%COMP%/g,Je=new B.nKC("",{providedIn:"root",factory:()=>!0});function _t(x,_){return _.map(E=>E.replace(An,x))}let Tn=(()=>{class x{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(E,C,F,ee,Oe,ke,Dt,Qt=null,Yn=null){this.eventManager=E,this.sharedStylesHost=C,this.appId=F,this.removeStylesOnCompDestroy=ee,this.doc=Oe,this.platformId=ke,this.ngZone=Dt,this.nonce=Qt,this.tracingService=Yn,this.platformIsServer=!1,this.defaultRenderer=new er(E,Oe,Dt,this.platformIsServer,this.tracingService)}createRenderer(E,C){if(!E||!C)return this.defaultRenderer;const F=this.getOrCreateRenderer(E,C);return F instanceof de?F.applyToHost(E):F instanceof Rn&&F.applyStyles(),F}getOrCreateRenderer(E,C){const F=this.rendererByCompId;let ee=F.get(C.id);if(!ee){const Oe=this.doc,ke=this.ngZone,Dt=this.eventManager,Qt=this.sharedStylesHost,Yn=this.removeStylesOnCompDestroy,tr=this.platformIsServer,pi=this.tracingService;switch(C.encapsulation){case $e.gXe.Emulated:ee=new de(Dt,Qt,C,this.appId,Yn,Oe,ke,tr,pi);break;case $e.gXe.ShadowDom:return new st(Dt,Qt,E,C,Oe,ke,this.nonce,tr,pi);default:ee=new Rn(Dt,Qt,C,Yn,Oe,ke,tr,pi)}F.set(C.id,ee)}return ee}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(E){this.rendererByCompId.delete(E)}static \u0275fac=function(C){return new(C||x)(B.KVO(j),B.KVO(zt),B.KVO($e.sZ2),B.KVO(Je),B.KVO(B.qQL),B.KVO($e.Agw),B.KVO($e.SKi),B.KVO($e.BIS),B.KVO($e.a8H,8))};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})();class er{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(_,E,C,F,ee){this.eventManager=_,this.doc=E,this.ngZone=C,this.platformIsServer=F,this.tracingService=ee}destroy(){}destroyNode=null;createElement(_,E){return E?this.doc.createElementNS(Xt[E]||E,_):this.doc.createElement(_)}createComment(_){return this.doc.createComment(_)}createText(_){return this.doc.createTextNode(_)}appendChild(_,E){(pr(_)?_.content:_).appendChild(E)}insertBefore(_,E,C){_&&(pr(_)?_.content:_).insertBefore(E,C)}removeChild(_,E){E.remove()}selectRootElement(_,E){let C="string"==typeof _?this.doc.querySelector(_):_;if(!C)throw new B.buA(-5104,!1);return E||(C.textContent=""),C}parentNode(_){return _.parentNode}nextSibling(_){return _.nextSibling}setAttribute(_,E,C,F){if(F){E=F+":"+E;const ee=Xt[F];ee?_.setAttributeNS(ee,E,C):_.setAttribute(E,C)}else _.setAttribute(E,C)}removeAttribute(_,E,C){if(C){const F=Xt[C];F?_.removeAttributeNS(F,E):_.removeAttribute(`${C}:${E}`)}else _.removeAttribute(E)}addClass(_,E){_.classList.add(E)}removeClass(_,E){_.classList.remove(E)}setStyle(_,E,C,F){F&($e.czy.DashCase|$e.czy.Important)?_.style.setProperty(E,C,F&$e.czy.Important?"important":""):_.style[E]=C}removeStyle(_,E,C){C&$e.czy.DashCase?_.style.removeProperty(E):_.style[E]=""}setProperty(_,E,C){null!=_&&(_[E]=C)}setValue(_,E){_.nodeValue=E}listen(_,E,C,F){if("string"==typeof _&&!(_=(0,L.rb)().getGlobalEventTarget(this.doc,_)))throw new B.buA(5102,!1);let ee=this.decoratePreventDefault(C);return this.tracingService?.wrapEventListener&&(ee=this.tracingService.wrapEventListener(_,E,ee)),this.eventManager.addEventListener(_,E,ee,F)}decoratePreventDefault(_){return E=>{if("__ngUnwrap__"===E)return _;!1===_(E)&&E.preventDefault()}}}function pr(x){return"TEMPLATE"===x.tagName&&void 0!==x.content}class st extends er{sharedStylesHost;hostEl;shadowRoot;constructor(_,E,C,F,ee,Oe,ke,Dt,Qt){super(_,ee,Oe,Dt,Qt),this.sharedStylesHost=E,this.hostEl=C,this.shadowRoot=C.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Yn=F.styles;Yn=_t(F.id,Yn);for(const pi of Yn){const fi=document.createElement("style");ke&&fi.setAttribute("nonce",ke),fi.textContent=pi,this.shadowRoot.appendChild(fi)}const tr=F.getExternalStyles?.();if(tr)for(const pi of tr){const fi=kt(pi,ee);ke&&fi.setAttribute("nonce",ke),this.shadowRoot.appendChild(fi)}}nodeOrShadowRoot(_){return _===this.hostEl?this.shadowRoot:_}appendChild(_,E){return super.appendChild(this.nodeOrShadowRoot(_),E)}insertBefore(_,E,C){return super.insertBefore(this.nodeOrShadowRoot(_),E,C)}removeChild(_,E){return super.removeChild(null,E)}parentNode(_){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rn extends er{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(_,E,C,F,ee,Oe,ke,Dt,Qt){super(_,ee,Oe,ke,Dt),this.sharedStylesHost=E,this.removeStylesOnCompDestroy=F;let Yn=C.styles;this.styles=Qt?_t(Qt,Yn):Yn,this.styleUrls=C.getExternalStyles?.(Qt)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class de extends Rn{contentAttr;hostAttr;constructor(_,E,C,F,ee,Oe,ke,Dt,Qt){const Yn=F+"-"+C.id;super(_,E,C,ee,Oe,ke,Dt,Qt,Yn),this.contentAttr=function Et(x){return"_ngcontent-%COMP%".replace(An,x)}(Yn),this.hostAttr=function tn(x){return"_nghost-%COMP%".replace(An,x)}(Yn)}applyToHost(_){this.applyStyles(),this.setAttribute(_,this.hostAttr,"")}createElement(_,E){const C=super.createElement(_,E);return super.setAttribute(C,this.contentAttr,""),C}}class at extends L.qj{supportsDOMEvents=!0;static makeCurrent(){(0,L.ig)(new at)}onAndCancel(_,E,C,F){return _.addEventListener(E,C,F),()=>{_.removeEventListener(E,C,F)}}dispatchEvent(_,E){_.dispatchEvent(E)}remove(_){_.remove()}createElement(_,E){return(E=E||this.getDefaultDocument()).createElement(_)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_){return _.nodeType===Node.ELEMENT_NODE}isShadowRoot(_){return _ instanceof DocumentFragment}getGlobalEventTarget(_,E){return"window"===E?window:"document"===E?_:"body"===E?_.body:null}getBaseHref(_){const E=function Be(){return Lt=Lt||document.head.querySelector("base"),Lt?Lt.getAttribute("href"):null}();return null==E?null:function ge(x){return new URL(x,document.baseURI).pathname}(E)}resetBaseElement(){Lt=null}getUserAgent(){return window.navigator.userAgent}getCookie(_){return(0,a.bS)(document.cookie,_)}}let Lt=null,pe=(()=>{class x{build(){return new XMLHttpRequest}static \u0275fac=function(C){return new(C||x)};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})(),et=(()=>{class x extends fe{constructor(E){super(E)}supports(E){return!0}addEventListener(E,C,F,ee){return E.addEventListener(C,F,ee),()=>this.removeEventListener(E,C,F,ee)}removeEventListener(E,C,F,ee){return E.removeEventListener(C,F,ee)}static \u0275fac=function(C){return new(C||x)(B.KVO(B.qQL))};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})();const Ye=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Re={alt:x=>x.altKey,control:x=>x.ctrlKey,meta:x=>x.metaKey,shift:x=>x.shiftKey};let sn=(()=>{class x extends fe{constructor(E){super(E)}supports(E){return null!=x.parseEventName(E)}addEventListener(E,C,F,ee){const Oe=x.parseEventName(C),ke=x.eventCallback(Oe.fullKey,F,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,L.rb)().onAndCancel(E,Oe.domEventName,ke,ee))}static parseEventName(E){const C=E.toLowerCase().split("."),F=C.shift();if(0===C.length||"keydown"!==F&&"keyup"!==F)return null;const ee=x._normalizeKey(C.pop());let Oe="",ke=C.indexOf("code");if(ke>-1&&(C.splice(ke,1),Oe="code."),Ye.forEach(Qt=>{const Yn=C.indexOf(Qt);Yn>-1&&(C.splice(Yn,1),Oe+=Qt+".")}),Oe+=ee,0!=C.length||0===ee.length)return null;const Dt={};return Dt.domEventName=F,Dt.fullKey=Oe,Dt}static matchEventFullKeyCode(E,C){let F=Le[E.key]||E.key,ee="";return C.indexOf("code.")>-1&&(F=E.code,ee="code."),!(null==F||!F)&&(F=F.toLowerCase()," "===F?F="space":"."===F&&(F="dot"),Ye.forEach(Oe=>{Oe!==F&&(0,Re[Oe])(E)&&(ee+=Oe+".")}),ee+=F,ee===C)}static eventCallback(E,C,F){return ee=>{x.matchEventFullKeyCode(ee,E)&&F.runGuarded(()=>C(ee))}}static _normalizeKey(E){return"esc"===E?"escape":E}static \u0275fac=function(C){return new(C||x)(B.KVO(B.qQL))};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})();function ur(x){return{appProviders:[...mi,...x?.providers??[]],platformProviders:_r}}const _r=[{provide:$e.Agw,useValue:a.Zn},{provide:$e.PLl,useValue:function Ft(){at.makeCurrent()},multi:!0},{provide:B.qQL,useFactory:function an(){return(0,$e._9u)(document),document}}],mi=[{provide:B.GBX,useValue:"root"},{provide:B.zcH,useFactory:function En(){return new B.zcH}},{provide:ct,useClass:et,multi:!0,deps:[B.qQL]},{provide:ct,useClass:sn,multi:!0,deps:[B.qQL]},Tn,zt,j,{provide:$e._9s,useExisting:Tn},{provide:a.N0,useClass:pe},[]];var Ci=I(305);let Xr=(()=>{var x;class _{static#e=x=()=>(this.\u0275fac=function(F){return new(F||_)},this.\u0275cmp=$e.VBU({type:_,selectors:[["app-root"]],decls:1,vars:0,template:function(F,ee){1&F&&$e.nrm(0,"router-outlet")},dependencies:[Ci.n3],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;height:100vh;width:100vw}']}))}return x(),_})();var si=I(9803),Kn=function(x){return x[x.State=0]="State",x[x.Transition=1]="Transition",x[x.Sequence=2]="Sequence",x[x.Group=3]="Group",x[x.Animate=4]="Animate",x[x.Keyframes=5]="Keyframes",x[x.Style=6]="Style",x[x.Trigger=7]="Trigger",x[x.Reference=8]="Reference",x[x.AnimateChild=9]="AnimateChild",x[x.AnimateRef=10]="AnimateRef",x[x.Query=11]="Query",x[x.Stagger=12]="Stagger",x}(Kn||{});const Gr="*";function Ht(x){return{type:Kn.Style,styles:x,offset:null}}class xr{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(_=0,E=0){this.totalTime=_+E}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_=>_()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_){this._position=this.totalTime?_*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_){const E="start"==_?this._onStartFns:this._onDoneFns;E.forEach(C=>C()),E.length=0}}class yr{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(_){this.players=_;let E=0,C=0,F=0;const ee=this.players.length;0==ee?queueMicrotask(()=>this._onFinish()):this.players.forEach(Oe=>{Oe.onDone(()=>{++E==ee&&this._onFinish()}),Oe.onDestroy(()=>{++C==ee&&this._onDestroy()}),Oe.onStart(()=>{++F==ee&&this._onStart()})}),this.totalTime=this.players.reduce((Oe,ke)=>Math.max(Oe,ke.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this.players.forEach(_=>_.init())}onStart(_){this._onStartFns.push(_)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_=>_()),this._onStartFns=[])}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_=>_.play())}pause(){this.players.forEach(_=>_.pause())}restart(){this.players.forEach(_=>_.restart())}finish(){this._onFinish(),this.players.forEach(_=>_.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_=>_.destroy()),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this.players.forEach(_=>_.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_){const E=_*this.totalTime;this.players.forEach(C=>{const F=C.totalTime?Math.min(1,E/C.totalTime):1;C.setPosition(F)})}getPosition(){const _=this.players.reduce((E,C)=>null===E||C.totalTime>E.totalTime?C:E,null);return null!=_?_.getPosition():0}beforeDestroy(){this.players.forEach(_=>{_.beforeDestroy&&_.beforeDestroy()})}triggerCallback(_){const E="start"==_?this._onStartFns:this._onDoneFns;E.forEach(C=>C()),E.length=0}}function ei(x){return new B.buA(3e3,!1)}function li(x){switch(x.length){case 0:return new xr;case 1:return x[0];default:return new yr(x)}}function Tr(x,_,E=new Map,C=new Map){const F=[],ee=[];let Oe=-1,ke=null;if(_.forEach(Dt=>{const Qt=Dt.get("offset"),Yn=Qt==Oe,tr=Yn&&ke||new Map;Dt.forEach((pi,fi)=>{let $r=fi,Ei=pi;if("offset"!==fi)switch($r=x.normalizePropertyName($r,F),Ei){case"!":Ei=E.get(fi);break;case Gr:Ei=C.get(fi);break;default:Ei=x.normalizeStyleValue(fi,$r,Ei,F)}tr.set($r,Ei)}),Yn||ee.push(tr),ke=tr,Oe=Qt}),F.length)throw function Z(){return new B.buA(3502,!1)}();return ee}function $n(x,_,E,C){switch(_){case"start":x.onStart(()=>C(E&&ii(E,"start",x)));break;case"done":x.onDone(()=>C(E&&ii(E,"done",x)));break;case"destroy":x.onDestroy(()=>C(E&&ii(E,"destroy",x)))}}function ii(x,_,E){const ee=Pi(x.element,x.triggerName,x.fromState,x.toState,_||x.phaseName,E.totalTime??x.totalTime,!!E.disabled),Oe=x._data;return null!=Oe&&(ee._data=Oe),ee}function Pi(x,_,E,C,F="",ee=0,Oe){return{element:x,triggerName:_,fromState:E,toState:C,phaseName:F,totalTime:ee,disabled:!!Oe}}function Cr(x,_,E){let C=x.get(_);return C||x.set(_,C=E),C}function Qe(x){const _=x.indexOf(":");return[x.substring(1,_),x.slice(_+1)]}const Pt=typeof document>"u"?null:document.documentElement;function dn(x){const _=x.parentNode||x.host||null;return _===Pt?null:_}let or=null,Ar=!1;function St(x,_){for(;_;){if(_===x)return!0;_=dn(_)}return!1}function on(x,_,E){if(E)return Array.from(x.querySelectorAll(_));const C=x.querySelector(_);return C?[C]:[]}const gi="ng-enter",ai="ng-leave",Ui="ng-trigger",bi=".ng-trigger",ti="ng-animating",$=".ng-animating";function be(x){if("number"==typeof x)return x;const _=x.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:te(parseFloat(_[1]),_[2])}function te(x,_){return"s"===_?1e3*x:x}function se(x,_,E){return x.hasOwnProperty("duration")?x:function dt(x,_,E){let F,ee=0,Oe="";if("string"==typeof x){const ke=x.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ke)return _.push(ei()),{duration:0,delay:0,easing:""};F=te(parseFloat(ke[1]),ke[2]);const Dt=ke[3];null!=Dt&&(ee=te(parseFloat(Dt),ke[4]));const Qt=ke[5];Qt&&(Oe=Qt)}else F=x;if(!E){let ke=!1,Dt=_.length;F<0&&(_.push(function Er(){return new B.buA(3100,!1)}()),ke=!0),ee<0&&(_.push(function Un(){return new B.buA(3101,!1)}()),ke=!0),ke&&_.splice(Dt,0,ei())}return{duration:F,delay:ee,easing:Oe}}(x,_,E)}function qn(x,_,E){_.forEach((C,F)=>{const ee=pt(F);E&&!E.has(F)&&E.set(F,x.style[ee]),x.style[ee]=C})}function ci(x,_){_.forEach((E,C)=>{const F=pt(C);x.style[F]=""})}function di(x){return Array.isArray(x)?1==x.length?x[0]:function ln(x,_=null){return{type:Kn.Sequence,steps:x,options:_}}(x):x}const ui=new RegExp("{{\\s*(.+?)\\s*}}","g");function ji(x){let _=[];if("string"==typeof x){let E;for(;E=ui.exec(x);)_.push(E[1]);ui.lastIndex=0}return _}function hi(x,_,E){const C=`${x}`,F=C.replace(ui,(ee,Oe)=>{let ke=_[Oe];return null==ke&&(E.push(function Bt(){return new B.buA(3003,!1)}()),ke=""),ke.toString()});return F==C?x:F}const Ti=/-+([a-z0-9])/g;function pt(x){return x.replace(Ti,(..._)=>_[1].toUpperCase())}function je(x,_,E){switch(_.type){case Kn.Trigger:return x.visitTrigger(_,E);case Kn.State:return x.visitState(_,E);case Kn.Transition:return x.visitTransition(_,E);case Kn.Sequence:return x.visitSequence(_,E);case Kn.Group:return x.visitGroup(_,E);case Kn.Animate:return x.visitAnimate(_,E);case Kn.Keyframes:return x.visitKeyframes(_,E);case Kn.Style:return x.visitStyle(_,E);case Kn.Reference:return x.visitReference(_,E);case Kn.AnimateChild:return x.visitAnimateChild(_,E);case Kn.AnimateRef:return x.visitAnimateRef(_,E);case Kn.Query:return x.visitQuery(_,E);case Kn.Stagger:return x.visitStagger(_,E);default:throw function pn(){return new B.buA(3004,!1)}()}}function At(x,_){return window.getComputedStyle(x)[_]}let Zt=(()=>{class x{validateStyleProperty(E){return function ue(x){or||(or=function qe(){return typeof document<"u"?document.body:null}()||{},Ar=!!or.style&&"WebkitAppearance"in or.style);let _=!0;return or.style&&!function Pn(x){return"ebkit"==x.substring(1,6)}(x)&&(_=x in or.style,!_&&Ar&&(_="Webkit"+x.charAt(0).toUpperCase()+x.slice(1)in or.style)),_}(E)}containsElement(E,C){return St(E,C)}getParentElement(E){return dn(E)}query(E,C,F){return on(E,C,F)}computeStyle(E,C,F){return F||""}animate(E,C,F,ee,Oe,ke=[],Dt){return new xr(F,ee)}static \u0275fac=function(C){return new(C||x)};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})();class In{static NOOP=new Zt}class cr{}const ki=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fi extends cr{normalizePropertyName(_,E){return pt(_)}normalizeStyleValue(_,E,C,F){let ee="";const Oe=C.toString().trim();if(ki.has(E)&&0!==C&&"0"!==C)if("number"==typeof C)ee="px";else{const ke=C.match(/^[+-]?[\d\.]+([a-z]*)$/);ke&&0==ke[1].length&&F.push(function bn(){return new B.buA(3005,!1)}())}return Oe+ee}}const U=new Set(["true","1"]),re=new Set(["false","0"]);function xe(x,_){const E=U.has(x)||re.has(x),C=U.has(_)||re.has(_);return(F,ee)=>{let Oe="*"==x||x==F,ke="*"==_||_==ee;return!Oe&&E&&"boolean"==typeof F&&(Oe=F?U.has(x):re.has(x)),!ke&&C&&"boolean"==typeof ee&&(ke=ee?U.has(_):re.has(_)),Oe&&ke}}const Gt=new RegExp("s*:selfs*,?","g");function xn(x,_,E,C){return new wr(x).build(_,E,C)}class wr{_driver;constructor(_){this._driver=_}build(_,E,C){const F=new zr(E);return this._resetContextStyleTimingState(F),je(this,di(_),F)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,E){let C=E.queryCount=0,F=E.depCount=0;const ee=[],Oe=[];return"@"==_.name.charAt(0)&&E.errors.push(function dr(){return new B.buA(3006,!1)}()),_.definitions.forEach(ke=>{if(this._resetContextStyleTimingState(E),ke.type==Kn.State){const Dt=ke,Qt=Dt.name;Qt.toString().split(/\s*,\s*/).forEach(Yn=>{Dt.name=Yn,ee.push(this.visitState(Dt,E))}),Dt.name=Qt}else if(ke.type==Kn.Transition){const Dt=this.visitTransition(ke,E);C+=Dt.queryCount,F+=Dt.depCount,Oe.push(Dt)}else E.errors.push(function ir(){return new B.buA(3007,!1)}())}),{type:Kn.Trigger,name:_.name,states:ee,transitions:Oe,queryCount:C,depCount:F,options:null}}visitState(_,E){const C=this.visitStyle(_.styles,E),F=_.options&&_.options.params||null;if(C.containsDynamicStyles){const ee=new Set,Oe=F||{};C.styles.forEach(ke=>{ke instanceof Map&&ke.forEach(Dt=>{ji(Dt).forEach(Qt=>{Oe.hasOwnProperty(Qt)||ee.add(Qt)})})}),ee.size&&E.errors.push(function Ir(){return new B.buA(3008,!1)}(0,ee.values()))}return{type:Kn.State,name:_.name,style:C,options:F?{params:F}:null}}visitTransition(_,E){E.queryCount=0,E.depCount=0;const C=je(this,di(_.animation),E),F=function Ji(x,_){const E=[];return"string"==typeof x?x.split(/\s*,\s*/).forEach(C=>function Ko(x,_,E){if(":"==x[0]){const Dt=function ae(x,_){switch(x){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,C)=>parseFloat(C)>parseFloat(E);case":decrement":return(E,C)=>parseFloat(C)<parseFloat(E);default:return _.push(function z(){return new B.buA(3016,!1)}()),"* => *"}}(x,E);if("function"==typeof Dt)return void _.push(Dt);x=Dt}const C=x.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return E.push(function ve(){return new B.buA(3015,!1)}()),_;const F=C[1],ee=C[2],Oe=C[3];_.push(xe(F,Oe)),"<"==ee[0]&&("*"!=F||"*"!=Oe)&&_.push(xe(Oe,F))}(C,E,_)):E.push(x),E}(_.expr,E.errors);return{type:Kn.Transition,matchers:F,animation:C,queryCount:E.queryCount,depCount:E.depCount,options:io(_.options)}}visitSequence(_,E){return{type:Kn.Sequence,steps:_.steps.map(C=>je(this,C,E)),options:io(_.options)}}visitGroup(_,E){const C=E.currentTime;let F=0;const ee=_.steps.map(Oe=>{E.currentTime=C;const ke=je(this,Oe,E);return F=Math.max(F,E.currentTime),ke});return E.currentTime=F,{type:Kn.Group,steps:ee,options:io(_.options)}}visitAnimate(_,E){const C=function Yi(x,_){if(x.hasOwnProperty("duration"))return x;if("number"==typeof x)return Po(se(x,_).duration,0,"");const E=x;if(E.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=Po(0,0,"");return ee.dynamic=!0,ee.strValue=E,ee}const F=se(E,_);return Po(F.duration,F.delay,F.easing)}(_.timings,E.errors);E.currentAnimateTimings=C;let F,ee=_.styles?_.styles:Ht({});if(ee.type==Kn.Keyframes)F=this.visitKeyframes(ee,E);else{let Oe=_.styles,ke=!1;if(!Oe){ke=!0;const Qt={};C.easing&&(Qt.easing=C.easing),Oe=Ht(Qt)}E.currentTime+=C.duration+C.delay;const Dt=this.visitStyle(Oe,E);Dt.isEmptyStep=ke,F=Dt}return E.currentAnimateTimings=null,{type:Kn.Animate,timings:C,style:F,options:null}}visitStyle(_,E){const C=this._makeStyleAst(_,E);return this._validateStyleAst(C,E),C}_makeStyleAst(_,E){const C=[],F=Array.isArray(_.styles)?_.styles:[_.styles];for(let ke of F)"string"==typeof ke?ke===Gr?C.push(ke):E.errors.push(new B.buA(3002,!1)):C.push(new Map(Object.entries(ke)));let ee=!1,Oe=null;return C.forEach(ke=>{if(ke instanceof Map&&(ke.has("easing")&&(Oe=ke.get("easing"),ke.delete("easing")),!ee))for(let Dt of ke.values())if(Dt.toString().indexOf("{{")>=0){ee=!0;break}}),{type:Kn.Style,styles:C,easing:Oe,offset:_.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(_,E){const C=E.currentAnimateTimings;let F=E.currentTime,ee=E.currentTime;C&&ee>0&&(ee-=C.duration+C.delay),_.styles.forEach(Oe=>{"string"!=typeof Oe&&Oe.forEach((ke,Dt)=>{const Qt=E.collectedStyles.get(E.currentQuerySelector),Yn=Qt.get(Dt);let tr=!0;Yn&&(ee!=F&&ee>=Yn.startTime&&F<=Yn.endTime&&(E.errors.push(function Ki(){return new B.buA(3010,!1)}()),tr=!1),ee=Yn.startTime),tr&&Qt.set(Dt,{startTime:ee,endTime:F}),E.options&&function Si(x,_,E){const C=_.params||{},F=ji(x);F.length&&F.forEach(ee=>{C.hasOwnProperty(ee)||E.push(function fn(){return new B.buA(3001,!1)}())})}(ke,E.options,E.errors)})})}visitKeyframes(_,E){const C={type:Kn.Keyframes,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Ii(){return new B.buA(3011,!1)}()),C;let ee=0;const Oe=[];let ke=!1,Dt=!1,Qt=0;const Yn=_.steps.map(fo=>{const Co=this._makeStyleAst(fo,E);let qo=null!=Co.offset?Co.offset:function to(x){if("string"==typeof x)return null;let _=null;if(Array.isArray(x))x.forEach(E=>{if(E instanceof Map&&E.has("offset")){const C=E;_=parseFloat(C.get("offset")),C.delete("offset")}});else if(x instanceof Map&&x.has("offset")){const E=x;_=parseFloat(E.get("offset")),E.delete("offset")}return _}(Co.styles),wo=0;return null!=qo&&(ee++,wo=Co.offset=qo),Dt=Dt||wo<0||wo>1,ke=ke||wo<Qt,Qt=wo,Oe.push(wo),Co});Dt&&E.errors.push(function Ve(){return new B.buA(3012,!1)}()),ke&&E.errors.push(function ce(){return new B.buA(3200,!1)}());const tr=_.steps.length;let pi=0;ee>0&&ee<tr?E.errors.push(function ie(){return new B.buA(3202,!1)}()):0==ee&&(pi=1/(tr-1));const fi=tr-1,$r=E.currentTime,Ei=E.currentAnimateTimings,Do=Ei.duration;return Yn.forEach((fo,Co)=>{const qo=pi>0?Co==fi?1:pi*Co:Oe[Co],wo=qo*Do;E.currentTime=$r+Ei.delay+wo,Ei.duration=wo,this._validateStyleAst(fo,E),fo.offset=qo,C.styles.push(fo)}),C}visitReference(_,E){return{type:Kn.Reference,animation:je(this,di(_.animation),E),options:io(_.options)}}visitAnimateChild(_,E){return E.depCount++,{type:Kn.AnimateChild,options:io(_.options)}}visitAnimateRef(_,E){return{type:Kn.AnimateRef,animation:this.visitReference(_.animation,E),options:io(_.options)}}visitQuery(_,E){const C=E.currentQuerySelector,F=_.options||{};E.queryCount++,E.currentQuery=_;const[ee,Oe]=function Qr(x){const _=!!x.split(/\s*,\s*/).find(E=>":self"==E);return _&&(x=x.replace(Gt,"")),x=x.replace(/@\*/g,bi).replace(/@\w+/g,E=>bi+"-"+E.slice(1)).replace(/:animating/g,$),[x,_]}(_.selector);E.currentQuerySelector=C.length?C+" "+ee:ee,Cr(E.collectedStyles,E.currentQuerySelector,new Map);const ke=je(this,di(_.animation),E);return E.currentQuery=null,E.currentQuerySelector=C,{type:Kn.Query,selector:ee,limit:F.limit||0,optional:!!F.optional,includeSelf:Oe,animation:ke,originalSelector:_.selector,options:io(_.options)}}visitStagger(_,E){E.currentQuery||E.errors.push(function Pe(){return new B.buA(3013,!1)}());const C="full"===_.timings?{duration:0,delay:0,easing:"full"}:se(_.timings,E.errors,!0);return{type:Kn.Stagger,animation:je(this,di(_.animation),E),timings:C,options:null}}}class zr{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(_){this.errors=_}}function io(x){return x?(x={...x}).params&&(x.params=function $i(x){return x?{...x}:null}(x.params)):x={},x}function Po(x,_,E){return{duration:x,delay:_,easing:E}}function Hi(x,_,E,C,F,ee,Oe=null,ke=!1){return{type:1,element:x,keyframes:_,preStyleProps:E,postStyleProps:C,duration:F,delay:ee,totalTime:F+ee,easing:Oe,subTimeline:ke}}class oo{_map=new Map;get(_){return this._map.get(_)||[]}append(_,E){let C=this._map.get(_);C||this._map.set(_,C=[]),C.push(...E)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const As=new RegExp(":enter","g"),cs=new RegExp(":leave","g");function no(x,_,E,C,F,ee=new Map,Oe=new Map,ke,Dt,Qt=[]){return(new Bi).buildKeyframes(x,_,E,C,F,ee,Oe,ke,Dt,Qt)}class Bi{buildKeyframes(_,E,C,F,ee,Oe,ke,Dt,Qt,Yn=[]){Qt=Qt||new oo;const tr=new Q(_,E,Qt,F,ee,Yn,[]);tr.options=Dt;const pi=Dt.delay?be(Dt.delay):0;tr.currentTimeline.delayNextStep(pi),tr.currentTimeline.setStyles([Oe],null,tr.errors,Dt),je(this,C,tr);const fi=tr.timelines.filter($r=>$r.containsAnimation());if(fi.length&&ke.size){let $r;for(let Ei=fi.length-1;Ei>=0;Ei--){const Do=fi[Ei];if(Do.element===E){$r=Do;break}}$r&&!$r.allowOnlyTimelineStyles()&&$r.setStyles([ke],null,tr.errors,Dt)}return fi.length?fi.map($r=>$r.buildKeyframes()):[Hi(E,[],[],[],0,pi,"",!1)]}visitTrigger(_,E){}visitState(_,E){}visitTransition(_,E){}visitAnimateChild(_,E){const C=E.subInstructions.get(E.element);if(C){const F=E.createSubContext(_.options),ee=E.currentTimeline.currentTime,Oe=this._visitSubInstructions(C,F,F.options);ee!=Oe&&E.transformIntoNewTimeline(Oe)}E.previousNode=_}visitAnimateRef(_,E){const C=E.createSubContext(_.options);C.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],E,C),this.visitReference(_.animation,C),E.transformIntoNewTimeline(C.currentTimeline.currentTime),E.previousNode=_}_applyAnimationRefDelays(_,E,C){for(const F of _){const ee=F?.delay;if(ee){const Oe="number"==typeof ee?ee:be(hi(ee,F?.params??{},E.errors));C.delayNextStep(Oe)}}}_visitSubInstructions(_,E,C){let ee=E.currentTimeline.currentTime;const Oe=null!=C.duration?be(C.duration):null,ke=null!=C.delay?be(C.delay):null;return 0!==Oe&&_.forEach(Dt=>{const Qt=E.appendInstructionToTimeline(Dt,Oe,ke);ee=Math.max(ee,Qt.duration+Qt.delay)}),ee}visitReference(_,E){E.updateOptions(_.options,!0),je(this,_.animation,E),E.previousNode=_}visitSequence(_,E){const C=E.subContextCount;let F=E;const ee=_.options;if(ee&&(ee.params||ee.delay)&&(F=E.createSubContext(ee),F.transformIntoNewTimeline(),null!=ee.delay)){F.previousNode.type==Kn.Style&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=X);const Oe=be(ee.delay);F.delayNextStep(Oe)}_.steps.length&&(_.steps.forEach(Oe=>je(this,Oe,F)),F.currentTimeline.applyStylesToKeyframe(),F.subContextCount>C&&F.transformIntoNewTimeline()),E.previousNode=_}visitGroup(_,E){const C=[];let F=E.currentTimeline.currentTime;const ee=_.options&&_.options.delay?be(_.options.delay):0;_.steps.forEach(Oe=>{const ke=E.createSubContext(_.options);ee&&ke.delayNextStep(ee),je(this,Oe,ke),F=Math.max(F,ke.currentTimeline.currentTime),C.push(ke.currentTimeline)}),C.forEach(Oe=>E.currentTimeline.mergeTimelineCollectedStyles(Oe)),E.transformIntoNewTimeline(F),E.previousNode=_}_visitTiming(_,E){if(_.dynamic){const C=_.strValue;return se(E.params?hi(C,E.params,E.errors):C,E.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,E){const C=E.currentAnimateTimings=this._visitTiming(_.timings,E),F=E.currentTimeline;C.delay&&(E.incrementTime(C.delay),F.snapshotCurrentStyles());const ee=_.style;ee.type==Kn.Keyframes?this.visitKeyframes(ee,E):(E.incrementTime(C.duration),this.visitStyle(ee,E),F.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=_}visitStyle(_,E){const C=E.currentTimeline,F=E.currentAnimateTimings;!F&&C.hasCurrentStyleProperties()&&C.forwardFrame();const ee=F&&F.easing||_.easing;_.isEmptyStep?C.applyEmptyStep(ee):C.setStyles(_.styles,ee,E.errors,E.options),E.previousNode=_}visitKeyframes(_,E){const C=E.currentAnimateTimings,F=E.currentTimeline.duration,ee=C.duration,ke=E.createSubContext().currentTimeline;ke.easing=C.easing,_.styles.forEach(Dt=>{ke.forwardTime((Dt.offset||0)*ee),ke.setStyles(Dt.styles,Dt.easing,E.errors,E.options),ke.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(ke),E.transformIntoNewTimeline(F+ee),E.previousNode=_}visitQuery(_,E){const C=E.currentTimeline.currentTime,F=_.options||{},ee=F.delay?be(F.delay):0;ee&&(E.previousNode.type===Kn.Style||0==C&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=X);let Oe=C;const ke=E.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!F.optional,E.errors);E.currentQueryTotal=ke.length;let Dt=null;ke.forEach((Qt,Yn)=>{E.currentQueryIndex=Yn;const tr=E.createSubContext(_.options,Qt);ee&&tr.delayNextStep(ee),Qt===E.element&&(Dt=tr.currentTimeline),je(this,_.animation,tr),tr.currentTimeline.applyStylesToKeyframe(),Oe=Math.max(Oe,tr.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Oe),Dt&&(E.currentTimeline.mergeTimelineCollectedStyles(Dt),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=_}visitStagger(_,E){const C=E.parentContext,F=E.currentTimeline,ee=_.timings,Oe=Math.abs(ee.duration),ke=Oe*(E.currentQueryTotal-1);let Dt=Oe*E.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":Dt=ke-Dt;break;case"full":Dt=C.currentStaggerTime}const Yn=E.currentTimeline;Dt&&Yn.delayNextStep(Dt);const tr=Yn.currentTime;je(this,_.animation,E),E.previousNode=_,C.currentStaggerTime=F.currentTime-tr+(F.startTime-C.currentTimeline.startTime)}}const X={};class Q{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=X;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(_,E,C,F,ee,Oe,ke,Dt){this._driver=_,this.element=E,this.subInstructions=C,this._enterClassName=F,this._leaveClassName=ee,this.errors=Oe,this.timelines=ke,this.currentTimeline=Dt||new Ue(this._driver,E,0),ke.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,E){if(!_)return;const C=_;let F=this.options;null!=C.duration&&(F.duration=be(C.duration)),null!=C.delay&&(F.delay=be(C.delay));const ee=C.params;if(ee){let Oe=F.params;Oe||(Oe=this.options.params={}),Object.keys(ee).forEach(ke=>{(!E||!Oe.hasOwnProperty(ke))&&(Oe[ke]=hi(ee[ke],Oe,this.errors))})}}_copyOptions(){const _={};if(this.options){const E=this.options.params;if(E){const C=_.params={};Object.keys(E).forEach(F=>{C[F]=E[F]})}}return _}createSubContext(_=null,E,C){const F=E||this.element,ee=new Q(this._driver,F,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(F,C||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(_),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(_){return this.previousNode=X,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,E,C){const F={duration:E??_.duration,delay:this.currentTimeline.currentTime+(C??0)+_.delay,easing:""},ee=new it(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,F,_.stretchStartingKeyframe);return this.timelines.push(ee),F}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,E,C,F,ee,Oe){let ke=[];if(F&&ke.push(this.element),_.length>0){_=(_=_.replace(As,"."+this._enterClassName)).replace(cs,"."+this._leaveClassName);let Qt=this._driver.query(this.element,_,1!=C);0!==C&&(Qt=C<0?Qt.slice(Qt.length+C,Qt.length):Qt.slice(0,C)),ke.push(...Qt)}return!ee&&0==ke.length&&Oe.push(function ze(){return new B.buA(3014,!1)}()),ke}}class Ue{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(_,E,C,F){this._driver=_,this.element=E,this.startTime=C,this._elementTimelineStylesLookup=F,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+_),E&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,E){return this.applyStylesToKeyframe(),new Ue(this._driver,_,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,E){this._localTimelineStyles.set(_,E),this._globalTimelineStyles.set(_,E),this._styleSummary.set(_,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[E,C]of this._globalTimelineStyles)this._backFill.set(E,C||Gr),this._currentKeyframe.set(E,Gr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,E,C,F){E&&this._previousKeyframe.set("easing",E);const ee=F&&F.params||{},Oe=function qt(x,_){const E=new Map;let C;return x.forEach(F=>{if("*"===F){C??=_.keys();for(let ee of C)E.set(ee,Gr)}else for(let[ee,Oe]of F)E.set(ee,Oe)}),E}(_,this._globalTimelineStyles);for(let[ke,Dt]of Oe){const Qt=hi(Dt,ee,C);this._pendingStyles.set(ke,Qt),this._localTimelineStyles.has(ke)||this._backFill.set(ke,this._globalTimelineStyles.get(ke)??Gr),this._updateStyle(ke,Qt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,E)=>{this._currentKeyframe.set(E,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,_)}))}snapshotCurrentStyles(){for(let[_,E]of this._localTimelineStyles)this._pendingStyles.set(_,E),this._updateStyle(_,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let E in this._currentKeyframe)_.push(E);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((E,C)=>{const F=this._styleSummary.get(C);(!F||E.time>F.time)&&this._updateStyle(C,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,E=new Set,C=1===this._keyframes.size&&0===this.duration;let F=[];this._keyframes.forEach((ke,Dt)=>{const Qt=new Map([...this._backFill,...ke]);Qt.forEach((Yn,tr)=>{"!"===Yn?_.add(tr):Yn===Gr&&E.add(tr)}),C||Qt.set("offset",Dt/this.duration),F.push(Qt)});const ee=[..._.values()],Oe=[...E.values()];if(C){const ke=F[0],Dt=new Map(ke);ke.set("offset",0),Dt.set("offset",1),F=[ke,Dt]}return Hi(this.element,F,ee,Oe,this.duration,this.startTime,this.easing,!1)}}class it extends Ue{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(_,E,C,F,ee,Oe,ke=!1){super(_,E,Oe.delay),this.keyframes=C,this.preStyleProps=F,this.postStyleProps=ee,this._stretchStartingKeyframe=ke,this.timings={duration:Oe.duration,delay:Oe.delay,easing:Oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:E,duration:C,easing:F}=this.timings;if(this._stretchStartingKeyframe&&E){const ee=[],Oe=C+E,ke=E/Oe,Dt=new Map(_[0]);Dt.set("offset",0),ee.push(Dt);const Qt=new Map(_[0]);Qt.set("offset",Rt(ke)),ee.push(Qt);const Yn=_.length-1;for(let tr=1;tr<=Yn;tr++){let pi=new Map(_[tr]);const fi=pi.get("offset");pi.set("offset",Rt((E+fi*C)/Oe)),ee.push(pi)}C=Oe,E=0,F="",_=ee}return Hi(this.element,_,this.preStyleProps,this.postStyleProps,C,E,F,!0)}}function Rt(x,_=3){const E=Math.pow(10,_-1);return Math.round(x*E)/E}function Ln(x,_,E,C,F,ee,Oe,ke,Dt,Qt,Yn,tr,pi){return{type:0,element:x,triggerName:_,isRemovalTransition:F,fromState:E,fromStyles:ee,toState:C,toStyles:Oe,timelines:ke,queriedElements:Dt,preStyleProps:Qt,postStyleProps:Yn,totalTime:tr,errors:pi}}const hr={};class zn{_triggerName;ast;_stateStyles;constructor(_,E,C){this._triggerName=_,this.ast=E,this._stateStyles=C}match(_,E,C,F){return function Di(x,_,E,C,F){return x.some(ee=>ee(_,E,C,F))}(this.ast.matchers,_,E,C,F)}buildStyles(_,E,C){let F=this._stateStyles.get("*");return void 0!==_&&(F=this._stateStyles.get(_?.toString())||F),F?F.buildStyles(E,C):new Map}build(_,E,C,F,ee,Oe,ke,Dt,Qt,Yn){const tr=[],pi=this.ast.options&&this.ast.options.params||hr,$r=this.buildStyles(C,ke&&ke.params||hr,tr),Ei=Dt&&Dt.params||hr,Do=this.buildStyles(F,Ei,tr),fo=new Set,Co=new Map,qo=new Map,wo="void"===F,na={params:lo(Ei,pi),delay:this.ast.options?.delay},Qi=Yn?[]:no(_,E,this.ast.animation,ee,Oe,$r,Do,na,Qt,tr);let ls=0;return Qi.forEach(No=>{ls=Math.max(No.duration+No.delay,ls)}),tr.length?Ln(E,this._triggerName,C,F,wo,$r,Do,[],[],Co,qo,ls,tr):(Qi.forEach(No=>{const Fo=No.element,Ms=Cr(Co,Fo,new Set);No.preStyleProps.forEach(ao=>Ms.add(ao));const Rc=Cr(qo,Fo,new Set);No.postStyleProps.forEach(ao=>Rc.add(ao)),Fo!==E&&fo.add(Fo)}),Ln(E,this._triggerName,C,F,wo,$r,Do,Qi,[...fo.values()],Co,qo,ls))}}function lo(x,_){const E={..._};return Object.entries(x).forEach(([C,F])=>{null!=F&&(E[C]=F)}),E}class zi{styles;defaultParams;normalizer;constructor(_,E,C){this.styles=_,this.defaultParams=E,this.normalizer=C}buildStyles(_,E){const C=new Map,F=lo(_,this.defaultParams);return this.styles.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Oe,ke)=>{Oe&&(Oe=hi(Oe,F,E));const Dt=this.normalizer.normalizePropertyName(ke,E);Oe=this.normalizer.normalizeStyleValue(ke,Dt,Oe,E),C.set(ke,Oe)})}),C}}class Ee{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(_,E,C){this.name=_,this.ast=E,this._normalizer=C,E.states.forEach(F=>{this.states.set(F.name,new zi(F.style,F.options&&F.options.params||{},C))}),Xe(this.states,"true","1"),Xe(this.states,"false","0"),E.transitions.forEach(F=>{this.transitionFactories.push(new zn(_,F,this.states))}),this.fallbackTransition=function me(x,_){return new zn(x,{type:Kn.Transition,animation:{type:Kn.Sequence,steps:[],options:null},matchers:[(Oe,ke)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,E,C,F){return this.transitionFactories.find(Oe=>Oe.match(_,E,C,F))||null}matchStyles(_,E,C){return this.fallbackTransition.buildStyles(_,E,C)}}function Xe(x,_,E){x.has(_)?x.has(E)||x.set(E,x.get(_)):x.has(E)&&x.set(_,x.get(E))}const Wt=new oo;class Yt{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(_,E,C){this.bodyNode=_,this._driver=E,this._normalizer=C}register(_,E){const C=[],ee=xn(this._driver,E,C,[]);if(C.length)throw function Ke(){return new B.buA(3503,!1)}();this._animations.set(_,ee)}_buildPlayer(_,E,C){const F=_.element,ee=Tr(this._normalizer,_.keyframes,E,C);return this._driver.animate(F,ee,_.duration,_.delay,_.easing,[],!0)}create(_,E,C={}){const F=[],ee=this._animations.get(_);let Oe;const ke=new Map;if(ee?(Oe=no(this._driver,E,ee,gi,ai,new Map,new Map,C,Wt,F),Oe.forEach(Yn=>{const tr=Cr(ke,Yn.element,new Map);Yn.postStyleProps.forEach(pi=>tr.set(pi,null))})):(F.push(function tt(){return new B.buA(3300,!1)}()),Oe=[]),F.length)throw function ht(){return new B.buA(3504,!1)}();ke.forEach((Yn,tr)=>{Yn.forEach((pi,fi)=>{Yn.set(fi,this._driver.computeStyle(tr,fi,Gr))})});const Qt=li(Oe.map(Yn=>{const tr=ke.get(Yn.element);return this._buildPlayer(Yn,new Map,tr)}));return this._playersById.set(_,Qt),Qt.onDestroy(()=>this.destroy(_)),this.players.push(Qt),Qt}destroy(_){const E=this._getPlayer(_);E.destroy(),this._playersById.delete(_);const C=this.players.indexOf(E);C>=0&&this.players.splice(C,1)}_getPlayer(_){const E=this._playersById.get(_);if(!E)throw function rn(){return new B.buA(3301,!1)}();return E}listen(_,E,C,F){const ee=Pi(E,"","","");return $n(this._getPlayer(_),C,ee,F),()=>{}}command(_,E,C,F){if("register"==C)return void this.register(_,F[0]);if("create"==C)return void this.create(_,E,F[0]||{});const ee=this._getPlayer(_);switch(C){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(F[0]));break;case"destroy":this.destroy(_)}}}const jn="ng-animate-queued",Qn="ng-animate-disabled",Li=[],ho={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_o={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yo="__ng_removed";class zo{namespaceId;value;options;get params(){return this.options.params}constructor(_,E=""){this.namespaceId=E;const C=_&&_.hasOwnProperty("value");if(this.value=function Xs(x){return x??null}(C?_.value:_),C){const{value:ee,...Oe}=_;this.options=Oe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const E=_.params;if(E){const C=this.options.params;Object.keys(E).forEach(F=>{null==C[F]&&(C[F]=E[F])})}}}const is="void",Ys=new zo(is);class Cs{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(_,E,C){this.id=_,this.hostElement=E,this._engine=C,this._hostClassName="ng-tns-"+_,Mo(E,this._hostClassName)}listen(_,E,C,F){if(!this._triggers.has(E))throw function gn(){return new B.buA(3302,!1)}();if(null==C||0==C.length)throw function Cn(){return new B.buA(3303,!1)}();if(!function Ha(x){return"start"==x||"done"==x}(C))throw function Mr(){return new B.buA(3400,!1)}();const ee=Cr(this._elementListeners,_,[]),Oe={name:E,phase:C,callback:F};ee.push(Oe);const ke=Cr(this._engine.statesByElement,_,new Map);return ke.has(E)||(Mo(_,Ui),Mo(_,Ui+"-"+E),ke.set(E,Ys)),()=>{this._engine.afterFlush(()=>{const Dt=ee.indexOf(Oe);Dt>=0&&ee.splice(Dt,1),this._triggers.has(E)||ke.delete(E)})}}register(_,E){return!this._triggers.has(_)&&(this._triggers.set(_,E),!0)}_getTrigger(_){const E=this._triggers.get(_);if(!E)throw function mr(){return new B.buA(3401,!1)}();return E}trigger(_,E,C,F=!0){const ee=this._getTrigger(E),Oe=new $s(this.id,E,_);let ke=this._engine.statesByElement.get(_);ke||(Mo(_,Ui),Mo(_,Ui+"-"+E),this._engine.statesByElement.set(_,ke=new Map));let Dt=ke.get(E);const Qt=new zo(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&Dt&&Qt.absorbOptions(Dt.options),ke.set(E,Qt),Dt||(Dt=Ys),Qt.value!==is&&Dt.value===Qt.value){if(!function Cc(x,_){const E=Object.keys(x),C=Object.keys(_);if(E.length!=C.length)return!1;for(let F=0;F<E.length;F++){const ee=E[F];if(!_.hasOwnProperty(ee)||x[ee]!==_[ee])return!1}return!0}(Dt.params,Qt.params)){const Ei=[],Do=ee.matchStyles(Dt.value,Dt.params,Ei),fo=ee.matchStyles(Qt.value,Qt.params,Ei);Ei.length?this._engine.reportError(Ei):this._engine.afterFlush(()=>{ci(_,Do),qn(_,fo)})}return}const pi=Cr(this._engine.playersByElement,_,[]);pi.forEach(Ei=>{Ei.namespaceId==this.id&&Ei.triggerName==E&&Ei.queued&&Ei.destroy()});let fi=ee.matchTransition(Dt.value,Qt.value,_,Qt.params),$r=!1;if(!fi){if(!F)return;fi=ee.fallbackTransition,$r=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:E,transition:fi,fromState:Dt,toState:Qt,player:Oe,isFallbackTransition:$r}),$r||(Mo(_,jn),Oe.onStart(()=>{Rs(_,jn)})),Oe.onDone(()=>{let Ei=this.players.indexOf(Oe);Ei>=0&&this.players.splice(Ei,1);const Do=this._engine.playersByElement.get(_);if(Do){let fo=Do.indexOf(Oe);fo>=0&&Do.splice(fo,1)}}),this.players.push(Oe),pi.push(Oe),Oe}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(E=>E.delete(_)),this._elementListeners.forEach((E,C)=>{this._elementListeners.set(C,E.filter(F=>F.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const E=this._engine.playersByElement.get(_);E&&(E.forEach(C=>C.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,E){const C=this._engine.driver.query(_,bi,!0);C.forEach(F=>{if(F[yo])return;const ee=this._engine.fetchNamespacesByElement(F);ee.size?ee.forEach(Oe=>Oe.triggerLeaveAnimation(F,E,!1,!0)):this.clearElementCache(F)}),this._engine.afterFlushAnimationsDone(()=>C.forEach(F=>this.clearElementCache(F)))}triggerLeaveAnimation(_,E,C,F){const ee=this._engine.statesByElement.get(_),Oe=new Map;if(ee){const ke=[];if(ee.forEach((Dt,Qt)=>{if(Oe.set(Qt,Dt.value),this._triggers.has(Qt)){const Yn=this.trigger(_,Qt,is,F);Yn&&ke.push(Yn)}}),ke.length)return this._engine.markElementAsRemoved(this.id,_,!0,E,Oe),C&&li(ke).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const E=this._elementListeners.get(_),C=this._engine.statesByElement.get(_);if(E&&C){const F=new Set;E.forEach(ee=>{const Oe=ee.name;if(F.has(Oe))return;F.add(Oe);const Dt=this._triggers.get(Oe).fallbackTransition,Qt=C.get(Oe)||Ys,Yn=new zo(is),tr=new $s(this.id,Oe,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:Oe,transition:Dt,fromState:Qt,toState:Yn,player:tr,isFallbackTransition:!0})})}}removeNode(_,E){const C=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,E),this.triggerLeaveAnimation(_,E,!0))return;let F=!1;if(C.totalAnimations){const ee=C.players.length?C.playersByQueriedElement.get(_):[];if(ee&&ee.length)F=!0;else{let Oe=_;for(;Oe=Oe.parentNode;)if(C.statesByElement.get(Oe)){F=!0;break}}}if(this.prepareLeaveAnimationListeners(_),F)C.markElementAsRemoved(this.id,_,!1,E);else{const ee=_[yo];(!ee||ee===ho)&&(C.afterFlush(()=>this.clearElementCache(_)),C.destroyInnerAnimations(_),C._onRemovalComplete(_,E))}}insertNode(_,E){Mo(_,this._hostClassName)}drainQueuedTransitions(_){const E=[];return this._queue.forEach(C=>{const F=C.player;if(F.destroyed)return;const ee=C.element,Oe=this._elementListeners.get(ee);Oe&&Oe.forEach(ke=>{if(ke.name==C.triggerName){const Dt=Pi(ee,C.triggerName,C.fromState.value,C.toState.value);Dt._data=_,$n(C.player,ke.phase,Dt,ke.callback)}}),F.markedForDestroy?this._engine.afterFlush(()=>{F.destroy()}):E.push(C)}),this._queue=[],E.sort((C,F)=>{const ee=C.transition.ast.depCount,Oe=F.transition.ast.depCount;return 0==ee||0==Oe?ee-Oe:this._engine.driver.containsElement(C.element,F.element)?1:-1})}destroy(_){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class Ka{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(_,E)=>{};_onRemovalComplete(_,E){this.onRemovalComplete(_,E)}constructor(_,E,C){this.bodyNode=_,this.driver=E,this._normalizer=C}get queuedPlayers(){const _=[];return this._namespaceList.forEach(E=>{E.players.forEach(C=>{C.queued&&_.push(C)})}),_}createNamespace(_,E){const C=new Cs(_,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(C,E):(this.newHostElements.set(E,C),this.collectEnterElement(E)),this._namespaceLookup[_]=C}_balanceNamespaceList(_,E){const C=this._namespaceList,F=this.namespacesByHostElement;if(C.length-1>=0){let Oe=!1,ke=this.driver.getParentElement(E);for(;ke;){const Dt=F.get(ke);if(Dt){const Qt=C.indexOf(Dt);C.splice(Qt+1,0,_),Oe=!0;break}ke=this.driver.getParentElement(ke)}Oe||C.unshift(_)}else C.push(_);return F.set(E,_),_}register(_,E){let C=this._namespaceLookup[_];return C||(C=this.createNamespace(_,E)),C}registerTrigger(_,E,C){let F=this._namespaceLookup[_];F&&F.register(E,C)&&this.totalAnimations++}destroy(_,E){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const C=this._fetchNamespace(_);this.namespacesByHostElement.delete(C.hostElement);const F=this._namespaceList.indexOf(C);F>=0&&this._namespaceList.splice(F,1),C.destroy(E),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const E=new Set,C=this.statesByElement.get(_);if(C)for(let F of C.values())if(F.namespaceId){const ee=this._fetchNamespace(F.namespaceId);ee&&E.add(ee)}return E}trigger(_,E,C,F){if(Js(E)){const ee=this._fetchNamespace(_);if(ee)return ee.trigger(E,C,F),!0}return!1}insertNode(_,E,C,F){if(!Js(E))return;const ee=E[yo];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const Oe=this.collectedLeaveElements.indexOf(E);Oe>=0&&this.collectedLeaveElements.splice(Oe,1)}if(_){const Oe=this._fetchNamespace(_);Oe&&Oe.insertNode(E,C)}F&&this.collectEnterElement(E)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,E){E?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Mo(_,Qn)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Rs(_,Qn))}removeNode(_,E,C){if(Js(E)){const F=_?this._fetchNamespace(_):null;F?F.removeNode(E,C):this.markElementAsRemoved(_,E,!1,C);const ee=this.namespacesByHostElement.get(E);ee&&ee.id!==_&&ee.removeNode(E,C)}else this._onRemovalComplete(E,C)}markElementAsRemoved(_,E,C,F,ee){this.collectedLeaveElements.push(E),E[yo]={namespaceId:_,setForRemoval:F,hasAnimation:C,removedBeforeQueried:!1,previousTriggersValues:ee}}listen(_,E,C,F,ee){return Js(E)?this._fetchNamespace(_).listen(E,C,F,ee):()=>{}}_buildInstruction(_,E,C,F,ee){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,C,F,_.fromState.options,_.toState.options,E,ee)}destroyInnerAnimations(_){let E=this.driver.query(_,bi,!0);E.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(_,$,!0),E.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(_){const E=this.playersByElement.get(_);E&&E.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(_){const E=this.playersByQueriedElement.get(_);E&&E.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return li(this.players).onDone(()=>_());_()})}processLeaveNode(_){const E=_[yo];if(E&&E.setForRemoval){if(_[yo]=ho,E.namespaceId){this.destroyInnerAnimations(_);const C=this._fetchNamespace(E.namespaceId);C&&C.clearElementCache(_)}this._onRemovalComplete(_,E.setForRemoval)}_.classList?.contains(Qn)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(_=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,F)=>this._balanceNamespaceList(C,F)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)Mo(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{E=this._flushAnimations(C,_)}finally{for(let F=0;F<C.length;F++)C[F]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],E.length?li(E).onDone(()=>{C.forEach(F=>F())}):C.forEach(F=>F())}}reportError(_){throw function jr(){return new B.buA(3402,!1)}()}_flushAnimations(_,E){const C=new oo,F=[],ee=new Map,Oe=[],ke=new Map,Dt=new Map,Qt=new Map,Yn=new Set;this.disabledNodes.forEach(kr=>{Yn.add(kr);const Lr=this.driver.query(kr,".ng-animate-queued",!0);for(let ni=0;ni<Lr.length;ni++)Yn.add(Lr[ni])});const tr=this.bodyNode,pi=Array.from(this.statesByElement.keys()),fi=da(pi,this.collectedEnterElements),$r=new Map;let Ei=0;fi.forEach((kr,Lr)=>{const ni=gi+Ei++;$r.set(Lr,ni),kr.forEach(Zi=>Mo(Zi,ni))});const Do=[],fo=new Set,Co=new Set;for(let kr=0;kr<this.collectedLeaveElements.length;kr++){const Lr=this.collectedLeaveElements[kr],ni=Lr[yo];ni&&ni.setForRemoval&&(Do.push(Lr),fo.add(Lr),ni.hasAnimation?this.driver.query(Lr,".ng-star-inserted",!0).forEach(Zi=>fo.add(Zi)):Co.add(Lr))}const qo=new Map,wo=da(pi,Array.from(fo));wo.forEach((kr,Lr)=>{const ni=ai+Ei++;qo.set(Lr,ni),kr.forEach(Zi=>Mo(Zi,ni))}),_.push(()=>{fi.forEach((kr,Lr)=>{const ni=$r.get(Lr);kr.forEach(Zi=>Rs(Zi,ni))}),wo.forEach((kr,Lr)=>{const ni=qo.get(Lr);kr.forEach(Zi=>Rs(Zi,ni))}),Do.forEach(kr=>{this.processLeaveNode(kr)})});const na=[],Qi=[];for(let kr=this._namespaceList.length-1;kr>=0;kr--)this._namespaceList[kr].drainQueuedTransitions(E).forEach(ni=>{const Zi=ni.player,bo=ni.element;if(na.push(Zi),this.collectedEnterElements.length){const Qo=bo[yo];if(Qo&&Qo.setForMove){if(Qo.previousTriggersValues&&Qo.previousTriggersValues.has(ni.triggerName)){const oa=Qo.previousTriggersValues.get(ni.triggerName),ys=this.statesByElement.get(ni.element);if(ys&&ys.has(ni.triggerName)){const La=ys.get(ni.triggerName);La.value=oa,ys.set(ni.triggerName,La)}}return void Zi.destroy()}}const jo=!tr||!this.driver.containsElement(tr,bo),ds=qo.get(bo),ia=$r.get(bo),Eo=this._buildInstruction(ni,C,ia,ds,jo);if(Eo.errors&&Eo.errors.length)return void Qi.push(Eo);if(jo)return Zi.onStart(()=>ci(bo,Eo.fromStyles)),Zi.onDestroy(()=>qn(bo,Eo.toStyles)),void F.push(Zi);if(ni.isFallbackTransition)return Zi.onStart(()=>ci(bo,Eo.fromStyles)),Zi.onDestroy(()=>qn(bo,Eo.toStyles)),void F.push(Zi);const pa=[];Eo.timelines.forEach(Qo=>{Qo.stretchStartingKeyframe=!0,this.disabledNodes.has(Qo.element)||pa.push(Qo)}),Eo.timelines=pa,C.append(bo,Eo.timelines),Oe.push({instruction:Eo,player:Zi,element:bo}),Eo.queriedElements.forEach(Qo=>Cr(ke,Qo,[]).push(Zi)),Eo.preStyleProps.forEach((Qo,oa)=>{if(Qo.size){let ys=Dt.get(oa);ys||Dt.set(oa,ys=new Set),Qo.forEach((La,S)=>ys.add(S))}}),Eo.postStyleProps.forEach((Qo,oa)=>{let ys=Qt.get(oa);ys||Qt.set(oa,ys=new Set),Qo.forEach((La,S)=>ys.add(S))})});if(Qi.length){const kr=[];Qi.forEach(Lr=>{kr.push(function Oi(){return new B.buA(3505,!1)}())}),na.forEach(Lr=>Lr.destroy()),this.reportError(kr)}const ls=new Map,No=new Map;Oe.forEach(kr=>{const Lr=kr.element;C.has(Lr)&&(No.set(Lr,Lr),this._beforeAnimationBuild(kr.player.namespaceId,kr.instruction,ls))}),F.forEach(kr=>{const Lr=kr.element;this._getPreviousPlayers(Lr,!1,kr.namespaceId,kr.triggerName,null).forEach(Zi=>{Cr(ls,Lr,[]).push(Zi),Zi.destroy()})});const Fo=Do.filter(kr=>Na(kr,Dt,Qt)),Ms=new Map;Ss(Ms,this.driver,Co,Qt,Gr).forEach(kr=>{Na(kr,Dt,Qt)&&Fo.push(kr)});const ao=new Map;fi.forEach((kr,Lr)=>{Ss(ao,this.driver,new Set(kr),Dt,"!")}),Fo.forEach(kr=>{const Lr=Ms.get(kr),ni=ao.get(kr);Ms.set(kr,new Map([...Lr?.entries()??[],...ni?.entries()??[]]))});const ra=[],Pc=[],Ya={};Oe.forEach(kr=>{const{element:Lr,player:ni,instruction:Zi}=kr;if(C.has(Lr)){if(Yn.has(Lr))return ni.onDestroy(()=>qn(Lr,Zi.toStyles)),ni.disabled=!0,ni.overrideTotalTime(Zi.totalTime),void F.push(ni);let bo=Ya;if(No.size>1){let ds=Lr;const ia=[];for(;ds=ds.parentNode;){const Eo=No.get(ds);if(Eo){bo=Eo;break}ia.push(ds)}ia.forEach(Eo=>No.set(Eo,bo))}const jo=this._buildAnimation(ni.namespaceId,Zi,ls,ee,ao,Ms);if(ni.setRealPlayer(jo),bo===Ya)ra.push(ni);else{const ds=this.playersByElement.get(bo);ds&&ds.length&&(ni.parentPlayer=li(ds)),F.push(ni)}}else ci(Lr,Zi.fromStyles),ni.onDestroy(()=>qn(Lr,Zi.toStyles)),Pc.push(ni),Yn.has(Lr)&&F.push(ni)}),Pc.forEach(kr=>{const Lr=ee.get(kr.element);if(Lr&&Lr.length){const ni=li(Lr);kr.setRealPlayer(ni)}}),F.forEach(kr=>{kr.parentPlayer?kr.syncPlayerEvents(kr.parentPlayer):kr.destroy()});for(let kr=0;kr<Do.length;kr++){const Lr=Do[kr],ni=Lr[yo];if(Rs(Lr,ai),ni&&ni.hasAnimation)continue;let Zi=[];if(ke.size){let jo=ke.get(Lr);jo&&jo.length&&Zi.push(...jo);let ds=this.driver.query(Lr,$,!0);for(let ia=0;ia<ds.length;ia++){let Eo=ke.get(ds[ia]);Eo&&Eo.length&&Zi.push(...Eo)}}const bo=Zi.filter(jo=>!jo.destroyed);bo.length?va(this,Lr,bo):this.processLeaveNode(Lr)}return Do.length=0,ra.forEach(kr=>{this.players.push(kr),kr.onDone(()=>{kr.destroy();const Lr=this.players.indexOf(kr);this.players.splice(Lr,1)}),kr.play()}),ra}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,E,C,F,ee){let Oe=[];if(E){const ke=this.playersByQueriedElement.get(_);ke&&(Oe=ke)}else{const ke=this.playersByElement.get(_);if(ke){const Dt=!ee||ee==is;ke.forEach(Qt=>{Qt.queued||!Dt&&Qt.triggerName!=F||Oe.push(Qt)})}}return(C||F)&&(Oe=Oe.filter(ke=>!(C&&C!=ke.namespaceId||F&&F!=ke.triggerName))),Oe}_beforeAnimationBuild(_,E,C){const ee=E.element,Oe=E.isRemovalTransition?void 0:_,ke=E.isRemovalTransition?void 0:E.triggerName;for(const Dt of E.timelines){const Qt=Dt.element,Yn=Qt!==ee,tr=Cr(C,Qt,[]);this._getPreviousPlayers(Qt,Yn,Oe,ke,E.toState).forEach(fi=>{const $r=fi.getRealPlayer();$r.beforeDestroy&&$r.beforeDestroy(),fi.destroy(),tr.push(fi)})}ci(ee,E.fromStyles)}_buildAnimation(_,E,C,F,ee,Oe){const ke=E.triggerName,Dt=E.element,Qt=[],Yn=new Set,tr=new Set,pi=E.timelines.map($r=>{const Ei=$r.element;Yn.add(Ei);const Do=Ei[yo];if(Do&&Do.removedBeforeQueried)return new xr($r.duration,$r.delay);const fo=Ei!==Dt,Co=function tu(x){const _=[];return _s(x,_),_}((C.get(Ei)||Li).map(ls=>ls.getRealPlayer())).filter(ls=>!!ls.element&&ls.element===Ei),qo=ee.get(Ei),wo=Oe.get(Ei),na=Tr(this._normalizer,$r.keyframes,qo,wo),Qi=this._buildPlayer($r,na,Co);if($r.subTimeline&&F&&tr.add(Ei),fo){const ls=new $s(_,ke,Ei);ls.setRealPlayer(Qi),Qt.push(ls)}return Qi});Qt.forEach($r=>{Cr(this.playersByQueriedElement,$r.element,[]).push($r),$r.onDone(()=>function bs(x,_,E){let C=x.get(_);if(C){if(C.length){const F=C.indexOf(E);C.splice(F,1)}0==C.length&&x.delete(_)}return C}(this.playersByQueriedElement,$r.element,$r))}),Yn.forEach($r=>Mo($r,ti));const fi=li(pi);return fi.onDestroy(()=>{Yn.forEach($r=>Rs($r,ti)),qn(Dt,E.toStyles)}),tr.forEach($r=>{Cr(F,$r,[]).push(fi)}),fi}_buildPlayer(_,E,C){return E.length>0?this.driver.animate(_.element,E,_.duration,_.delay,_.easing,C):new xr(_.duration,_.delay)}}class $s{namespaceId;triggerName;element;_player=new xr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(_,E,C){this.namespaceId=_,this.triggerName=E,this.element=C}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((E,C)=>{E.forEach(F=>$n(_,C,void 0,F))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const E=this._player;E.triggerCallback&&_.onStart(()=>E.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,E){Cr(this._queuedCallbacks,_,[]).push(E)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const E=this._player;E.triggerCallback&&E.triggerCallback(_)}}function Js(x){return x&&1===x.nodeType}function la(x,_){const E=x.style.display;return x.style.display=_??"none",E}function Ss(x,_,E,C,F){const ee=[];E.forEach(Dt=>ee.push(la(Dt)));const Oe=[];C.forEach((Dt,Qt)=>{const Yn=new Map;Dt.forEach(tr=>{const pi=_.computeStyle(Qt,tr,F);Yn.set(tr,pi),(!pi||0==pi.length)&&(Qt[yo]=_o,Oe.push(Qt))}),x.set(Qt,Yn)});let ke=0;return E.forEach(Dt=>la(Dt,ee[ke++])),Oe}function da(x,_){const E=new Map;if(x.forEach(ke=>E.set(ke,[])),0==_.length)return E;const F=new Set(_),ee=new Map;function Oe(ke){if(!ke)return 1;let Dt=ee.get(ke);if(Dt)return Dt;const Qt=ke.parentNode;return Dt=E.has(Qt)?Qt:F.has(Qt)?1:Oe(Qt),ee.set(ke,Dt),Dt}return _.forEach(ke=>{const Dt=Oe(ke);1!==Dt&&E.get(Dt).push(ke)}),E}function Mo(x,_){x.classList?.add(_)}function Rs(x,_){x.classList?.remove(_)}function va(x,_,E){li(E).onDone(()=>x.processLeaveNode(_))}function _s(x,_){for(let E=0;E<x.length;E++){const C=x[E];C instanceof yr?_s(C.players,_):_.push(C)}}function Na(x,_,E){const C=E.get(x);if(!C)return!1;let F=_.get(x);return F?C.forEach(ee=>F.add(ee)):_.set(x,C),E.delete(x),!0}class Oo{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(_,E)=>{};constructor(_,E,C){this._driver=E,this._normalizer=C,this._transitionEngine=new Ka(_.body,E,C),this._timelineEngine=new Yt(_.body,E,C),this._transitionEngine.onRemovalComplete=(F,ee)=>this.onRemovalComplete(F,ee)}registerTrigger(_,E,C,F,ee){const Oe=_+"-"+F;let ke=this._triggerCache[Oe];if(!ke){const Dt=[],Yn=xn(this._driver,ee,Dt,[]);if(Dt.length)throw function W(){return new B.buA(3404,!1)}();ke=function To(x,_,E){return new Ee(x,_,E)}(F,Yn,this._normalizer),this._triggerCache[Oe]=ke}this._transitionEngine.registerTrigger(E,F,ke)}register(_,E){this._transitionEngine.register(_,E)}destroy(_,E){this._transitionEngine.destroy(_,E)}onInsert(_,E,C,F){this._transitionEngine.insertNode(_,E,C,F)}onRemove(_,E,C){this._transitionEngine.removeNode(_,E,C)}disableAnimations(_,E){this._transitionEngine.markElementAsDisabled(_,E)}process(_,E,C,F){if("@"==C.charAt(0)){const[ee,Oe]=Qe(C);this._timelineEngine.command(ee,E,Oe,F)}else this._transitionEngine.trigger(_,E,C,F)}listen(_,E,C,F,ee){if("@"==C.charAt(0)){const[Oe,ke]=Qe(C);return this._timelineEngine.listen(Oe,E,ke,ee)}return this._transitionEngine.listen(_,E,C,F,ee)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}let so=(()=>{class x{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(E,C,F){this._element=E,this._startStyles=C,this._endStyles=F;let ee=x.initialStylesByElement.get(E);ee||x.initialStylesByElement.set(E,ee=new Map),this._initialStyles=ee}start(){this._state<1&&(this._startStyles&&qn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qn(this._element,this._initialStyles),this._endStyles&&(qn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(x.initialStylesByElement.delete(this._element),this._startStyles&&(ci(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),qn(this._element,this._initialStyles),this._state=3)}}return x})();function us(x){let _=null;return x.forEach((E,C)=>{(function za(x){return"display"===x||"position"===x})(C)&&(_=_||new Map,_.set(C,E))}),_}class Ns{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(_,E,C,F){this.element=_,this.keyframes=E,this.options=C,this._specialStyles=F,this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const E=()=>this._onFinish();this.domPlayer.addEventListener("finish",E),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",E)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const E=[];return _.forEach(C=>{E.push(Object.fromEntries(C))}),E}_triggerWebAnimation(_,E,C){return _.animate(this._convertKeyframesToObject(E),C)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((C,F)=>{"offset"!==F&&_.set(F,this._finished?C:At(this.element,F))}),this.currentSnapshot=_}triggerCallback(_){const E="start"===_?this._onStartFns:this._onDoneFns;E.forEach(C=>C()),E.length=0}}class Ws{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}containsElement(_,E){return St(_,E)}getParentElement(_){return dn(_)}query(_,E,C){return on(_,E,C)}computeStyle(_,E,C){return At(_,E)}animate(_,E,C,F,ee,Oe=[]){const Dt={duration:C,delay:F,fill:0==F?"both":"forwards"};ee&&(Dt.easing=ee);const Qt=new Map,Yn=Oe.filter(fi=>fi instanceof Ns);(function Me(x,_){return 0===x||0===_})(C,F)&&Yn.forEach(fi=>{fi.currentSnapshot.forEach(($r,Ei)=>Qt.set(Ei,$r))});let tr=function mn(x){return x.length?x[0]instanceof Map?x:x.map(_=>new Map(Object.entries(_))):[]}(E).map(fi=>new Map(fi));tr=function Ie(x,_,E){if(E.size&&_.length){let C=_[0],F=[];if(E.forEach((ee,Oe)=>{C.has(Oe)||F.push(Oe),C.set(Oe,ee)}),F.length)for(let ee=1;ee<_.length;ee++){let Oe=_[ee];F.forEach(ke=>Oe.set(ke,At(x,ke)))}}return _}(_,tr,Qt);const pi=function Ia(x,_){let E=null,C=null;return Array.isArray(_)&&_.length?(E=us(_[0]),_.length>1&&(C=us(_[_.length-1]))):_ instanceof Map&&(E=us(_)),E||C?new so(x,E,C):null}(_,tr);return new Ns(_,tr,Dt,pi)}}const Gi="@.disabled";class oi{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(_,E,C,F){this.namespaceId=_,this.delegate=E,this.engine=C,this._onDestroy=F}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,E){return this.delegate.createElement(_,E)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,E){this.delegate.appendChild(_,E),this.engine.onInsert(this.namespaceId,E,_,!1)}insertBefore(_,E,C,F=!0){this.delegate.insertBefore(_,E,C),this.engine.onInsert(this.namespaceId,E,_,F)}removeChild(_,E,C){this.parentNode(E)&&this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(_,E){return this.delegate.selectRootElement(_,E)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,E,C,F){this.delegate.setAttribute(_,E,C,F)}removeAttribute(_,E,C){this.delegate.removeAttribute(_,E,C)}addClass(_,E){this.delegate.addClass(_,E)}removeClass(_,E){this.delegate.removeClass(_,E)}setStyle(_,E,C,F){this.delegate.setStyle(_,E,C,F)}removeStyle(_,E,C){this.delegate.removeStyle(_,E,C)}setProperty(_,E,C){"@"==E.charAt(0)&&E==Gi?this.disableAnimations(_,!!C):this.delegate.setProperty(_,E,C)}setValue(_,E){this.delegate.setValue(_,E)}listen(_,E,C,F){return this.delegate.listen(_,E,C,F)}disableAnimations(_,E){this.engine.disableAnimations(_,E)}}class xs extends oi{factory;constructor(_,E,C,F,ee){super(E,C,F,ee),this.factory=_,this.namespaceId=E}setProperty(_,E,C){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Gi?this.disableAnimations(_,C=void 0===C||!!C):this.engine.process(this.namespaceId,_,E.slice(1),C):this.delegate.setProperty(_,E,C)}listen(_,E,C,F){if("@"==E.charAt(0)){const ee=function ks(x){switch(x){case"body":return document.body;case"document":return document;case"window":return window;default:return x}}(_);let Oe=E.slice(1),ke="";return"@"!=Oe.charAt(0)&&([Oe,ke]=function Ks(x){const _=x.indexOf(".");return[x.substring(0,_),x.slice(_+1)]}(Oe)),this.engine.listen(this.namespaceId,ee,Oe,ke,Dt=>{this.factory.scheduleListenerCallback(Dt._data||-1,C,Dt)})}return this.delegate.listen(_,E,C,F)}}class Ta{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(_,E,C){this.delegate=_,this.engine=E,this._zone=C,E.onRemovalComplete=(F,ee)=>{ee?.removeChild(null,F)}}createRenderer(_,E){const F=this.delegate.createRenderer(_,E);if(!_||!E?.data?.animation){const Qt=this._rendererCache;let Yn=Qt.get(F);return Yn||(Yn=new oi("",F,this.engine,()=>Qt.delete(F)),Qt.set(F,Yn)),Yn}const ee=E.id,Oe=E.id+"-"+this._currentId;this._currentId++,this.engine.register(Oe,_);const ke=Qt=>{Array.isArray(Qt)?Qt.forEach(ke):this.engine.registerTrigger(ee,Oe,_,Qt.name,Qt)};return E.data.animation.forEach(ke),new xs(this,Oe,F,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(_,E,C){if(_>=0&&_<this._microtaskId)return void this._zone.run(()=>E(C));const F=this._animationCallbacksBuffer;0==F.length&&queueMicrotask(()=>{this._zone.run(()=>{F.forEach(ee=>{const[Oe,ke]=ee;Oe(ke)}),this._animationCallbacksBuffer=[]})}),F.push([E,C])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(_){this.engine.flush(),this.delegate.componentReplaced?.(_)}}const Zs=[{provide:In,useFactory:()=>new Ws},{provide:$e.bc$,useFactory:()=>"BrowserAnimations"},...[{provide:cr,useFactory:function xa(){return new Fi}},{provide:Oo,useClass:(()=>{class x extends Oo{constructor(E,C,F){super(E,C,F)}ngOnDestroy(){this.flush()}static \u0275fac=function(C){return new(C||x)(B.KVO(B.qQL),B.KVO(In),B.KVO(cr))};static \u0275prov=B.jDH({token:x,factory:x.\u0275fac})}return x})()},{provide:$e._9s,useFactory:function nu(x,_,E){return new Ta(x,_,E)},deps:[Tn,Oo,$e.SKi]}]];var oc=I(5155),Qa=I(884),ea=I(2474),fs=I(1465),ta=I(3730),Jo=I(1767),Or=I(7730),D=I(6391),M=I(8725),b=I(4830),N=I(1373),q=I(5270),le=I(8657);const We_firebase_appCheck={debugToken:"6c9739f9-37d6-44f5-8a0c-9060e10c2cdf",recaptchaSiteKey:"6LcHy58rAAAAAPe_YYY3st4NwUlTJ1xcj4SWDrH5"},bt=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",loadComponent:()=>Promise.all([I.e(620),I.e(9919),I.e(2641)]).then(I.bind(I,2641)).then(x=>x.PassportLayoutComponent),children:[{path:"login",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(6420),I.e(1933),I.e(5972),I.e(659)]).then(I.bind(I,659)).then(x=>x.LoginPageComponent)},{path:"register",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(6420),I.e(1933),I.e(5972),I.e(5432)]).then(I.bind(I,5432)).then(x=>x.RegisterPageComponent)}]},{path:"app",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(6420),I.e(645),I.e(2143),I.e(2076),I.e(1264)]).then(I.bind(I,1264)).then(x=>x.MainAppLayoutComponent),canActivate:[()=>I.e(5865).then(I.bind(I,5865)).then(x=>x.authGuard)],children:[{path:"blank",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(2076),I.e(5765)]).then(I.bind(I,3923)).then(x=>x.BlankPageComponent)},{path:"dashboard",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(6800)]).then(I.bind(I,6800)).then(x=>x.DashboardPageComponent)},{path:"contracts",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(6420),I.e(1933),I.e(645),I.e(2143),I.e(8341),I.e(6986)]).then(I.bind(I,6986)).then(x=>x.ContractsPageComponent)},{path:"projects",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(4166)]).then(I.bind(I,4166)).then(x=>x.ProjectsPage)},{path:"calendars",loadComponent:()=>I.e(5046).then(I.bind(I,5046)).then(x=>x.CalendarsPageComponent)},{path:"daily-reports",loadComponent:()=>I.e(2842).then(I.bind(I,2842)).then(x=>x.DailyReportsPageComponent)},{path:"log",loadComponent:()=>I.e(540).then(I.bind(I,540)).then(x=>x.LogPageComponent)},{path:"schedules",loadComponent:()=>I.e(5061).then(I.bind(I,5061)).then(x=>x.SchedulesPageComponent)},{path:"weather-reports",loadComponent:()=>I.e(7760).then(I.bind(I,7760)).then(x=>x.WeatherReportsPageComponent)},{path:"task",loadComponent:()=>I.e(4211).then(I.bind(I,4211)).then(x=>x.TaskPageComponent)},{path:"inventory",loadComponent:()=>I.e(6503).then(I.bind(I,6503)).then(x=>x.InventoryPageComponent)},{path:"equipment",loadComponent:()=>I.e(6198).then(I.bind(I,6198)).then(x=>x.EquipmentPageComponent)},{path:"quality-control",loadComponent:()=>I.e(5480).then(I.bind(I,5480)).then(x=>x.QualityControlPageComponent)},{path:"documents",loadComponent:()=>I.e(4291).then(I.bind(I,4291)).then(x=>x.DocumentsPageComponent)},{path:"users",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(645),I.e(8341),I.e(5692)]).then(I.bind(I,3463)).then(x=>x.UserListPageComponent)},{path:"personnel",loadComponent:()=>I.e(9861).then(I.bind(I,9861)).then(x=>x.PersonnelPageComponent)},{path:"attendance",loadComponent:()=>I.e(5700).then(I.bind(I,5700)).then(x=>x.AttendancePageComponent)},{path:"partners",loadComponent:()=>I.e(7647).then(I.bind(I,7647)).then(x=>x.PartnersPageComponent)},{path:"public",children:[{path:"about",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(9919),I.e(915)]).then(I.bind(I,915)).then(x=>x.PublicAboutPageComponent)},{path:"blog",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(1749)]).then(I.bind(I,1749)).then(x=>x.PublicBlogPageComponent)},{path:"jobs",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(5933)]).then(I.bind(I,5933)).then(x=>x.PublicJobsPageComponent)},{path:"cases",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(1271)]).then(I.bind(I,1271)).then(x=>x.PublicCasesPageComponent)},{path:"contact",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(3755)]).then(I.bind(I,3755)).then(x=>x.PublicContactPageComponent)},{path:"legal",loadComponent:()=>Promise.all([I.e(620),I.e(6627),I.e(7913),I.e(9919),I.e(1567)]).then(I.bind(I,1567)).then(x=>x.PublicLegalPageComponent)}]},{path:"monitoring",loadComponent:()=>I.e(8436).then(I.bind(I,8436)).then(x=>x.MonitoringPageComponent)},{path:"security",loadComponent:()=>I.e(4044).then(I.bind(I,4044)).then(x=>x.SecurityPageComponent)},{path:"safety",loadComponent:()=>I.e(2439).then(I.bind(I,2439)).then(x=>x.SafetyPageComponent)},{path:"incident-reports",loadComponent:()=>I.e(7746).then(I.bind(I,7746)).then(x=>x.IncidentReportsPageComponent)},{path:"budget",loadComponent:()=>I.e(916).then(I.bind(I,916)).then(x=>x.BudgetPageComponent)},{path:"expenses",loadComponent:()=>I.e(4524).then(I.bind(I,4524)).then(x=>x.ExpensesPageComponent)},{path:"payments",loadComponent:()=>I.e(1526).then(I.bind(I,1526)).then(x=>x.PaymentsPageComponent)},{path:"financial-reports",loadComponent:()=>I.e(7653).then(I.bind(I,7653)).then(x=>x.FinancialReportsPageComponent)},{path:"analytics/performance",loadComponent:()=>I.e(4454).then(I.bind(I,4454)).then(x=>x.AnalyticsPerformancePageComponent)},{path:"analytics/costs",loadComponent:()=>I.e(7975).then(I.bind(I,7975)).then(x=>x.AnalyticsCostsPageComponent)},{path:"analytics/reports",loadComponent:()=>I.e(7321).then(I.bind(I,7321)).then(x=>x.AnalyticsReportsPageComponent)},{path:"settings/system",loadComponent:()=>I.e(4946).then(I.bind(I,4946)).then(x=>x.SettingsSystemPageComponent)},{path:"settings/permissions",loadComponent:()=>I.e(3936).then(I.bind(I,3936)).then(x=>x.SettingsPermissionsPageComponent)},{path:"settings/notifications",loadComponent:()=>I.e(68).then(I.bind(I,68)).then(x=>x.SettingsNotificationsPageComponent)},{path:"settings/backup",loadComponent:()=>I.e(1106).then(I.bind(I,1106)).then(x=>x.SettingsBackupPageComponent)},{path:"state-machine",loadComponent:()=>I.e(6778).then(I.bind(I,6778)).then(x=>x.StateMachinePageComponent)},{path:"",redirectTo:"blank",pathMatch:"full"}]},{path:"**",redirectTo:"/auth/login"}];var xt=I(649),Sr=I(3840),qi=I(2983),Ao=I(3638),os=I(3919),ps=I(2901);let Zo=(()=>{var x;class _{constructor(C){this.firebaseAuth=C}issue(C,F){var ee=this;return(0,xt.A)(function*(){return ee.firebaseAuth.login(C,F)})()}getIdToken(){var C=this;return(0,xt.A)(function*(F=!1){const ee=C.firebaseAuth.getCurrentUser();if(!ee)return null;try{return yield ee.getIdToken(F)}catch(Oe){return console.error("getIdToken \u5931\u6557:",Oe),null}}).apply(this,arguments)}clear(){var C=this;return(0,xt.A)(function*(){yield C.firebaseAuth.logout()})()}static#e=x=()=>(this.\u0275fac=function(F){return new(F||_)(B.KVO(ps.F))},this.\u0275prov=B.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}))}return x(),_})(),fa=(()=>{var x;class _{constructor(C){this.tokenService=C}refresh(){var C=this;return(0,xt.A)(function*(){return C.tokenService.getIdToken(!0)})()}static#e=x=()=>(this.\u0275fac=function(F){return new(F||_)(B.KVO(Zo))},this.\u0275prov=B.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}))}return x(),_})();var Ps=I(2652),Fs=I(8025),sc=I(8466);let Go=(()=>{var x;class _{constructor(C){this.firestore=C,this.collectionName="contracts"}findById(C){var F=this;return(0,xt.A)(function*(){try{const ee=(0,Or.H9)(F.firestore,F.collectionName,C),Oe=yield(0,Or.x7)(ee);return Oe.exists()?F.mapFirestoreToContract(Oe.data()):null}catch(ee){return console.error("Error finding contract by ID:",ee),null}})()}findByContractNumber(C){var F=this;return(0,xt.A)(function*(){try{const ee=(0,Or.rJ)(F.firestore,F.collectionName),Oe=(0,Or.P)(ee,(0,Or._M)("contractNumber","==",C),(0,Or.AB)(1)),ke=yield(0,Or.GG)(Oe);return ke.empty?null:F.mapFirestoreToContract(ke.docs[0].data())}catch(ee){return console.error("Error finding contract by number:",ee),null}})()}findAll(){var C=this;return(0,xt.A)(function*(){try{const F=(0,Or.rJ)(C.firestore,C.collectionName),ee=(0,Or.P)(F,(0,Or.My)("createdAt","desc"));return(yield(0,Or.GG)(ee)).docs.map(ke=>C.mapFirestoreToContract(ke.data()))}catch(F){return console.error("Error finding all contracts:",F),[]}})()}findByCriteria(C){var F=this;return(0,xt.A)(function*(){try{const ee=(0,Or.rJ)(F.firestore,F.collectionName);let Oe=(0,Or.P)(ee);return C.status&&(Oe=(0,Or.P)(Oe,(0,Or._M)("status","==",C.status))),C.type&&(Oe=(0,Or.P)(Oe,(0,Or._M)("type","==",C.type))),C.partyA&&(Oe=(0,Or.P)(Oe,(0,Or._M)("partyA","==",C.partyA))),C.partyB&&(Oe=(0,Or.P)(Oe,(0,Or._M)("partyB","==",C.partyB))),Oe=(0,Or.P)(Oe,(0,Or.My)("createdAt","desc")),(yield(0,Or.GG)(Oe)).docs.map(Dt=>F.mapFirestoreToContract(Dt.data()))}catch(ee){return console.error("Error finding contracts by criteria:",ee),[]}})()}findActive(){var C=this;return(0,xt.A)(function*(){return C.findByStatus(sc.l.ACTIVE)})()}findExpiringSoon(){var C=this;return(0,xt.A)(function*(){try{const ee=new Date((new Date).getTime()+2592e6),Oe=(0,Or.rJ)(C.firestore,C.collectionName),ke=(0,Or.P)(Oe,(0,Or._M)("status","==",sc.l.ACTIVE),(0,Or._M)("endDate","<=",ee),(0,Or.My)("endDate","asc"));return(yield(0,Or.GG)(ke)).docs.map(Qt=>C.mapFirestoreToContract(Qt.data()))}catch(F){return console.error("Error finding expiring contracts:",F),[]}})()}findExpired(){var C=this;return(0,xt.A)(function*(){try{const F=new Date,ee=(0,Or.rJ)(C.firestore,C.collectionName),Oe=(0,Or.P)(ee,(0,Or._M)("endDate","<",F),(0,Or.My)("endDate","desc"));return(yield(0,Or.GG)(Oe)).docs.map(Dt=>C.mapFirestoreToContract(Dt.data()))}catch(F){return console.error("Error finding expired contracts:",F),[]}})()}findByStatus(C){var F=this;return(0,xt.A)(function*(){try{const ee=(0,Or.rJ)(F.firestore,F.collectionName),Oe=(0,Or.P)(ee,(0,Or._M)("status","==",C),(0,Or.My)("createdAt","desc"));return(yield(0,Or.GG)(Oe)).docs.map(Dt=>F.mapFirestoreToContract(Dt.data()))}catch(ee){return console.error("Error finding contracts by status:",ee),[]}})()}findByType(C){var F=this;return(0,xt.A)(function*(){try{const ee=(0,Or.rJ)(F.firestore,F.collectionName),Oe=(0,Or.P)(ee,(0,Or._M)("type","==",C),(0,Or.My)("createdAt","desc"));return(yield(0,Or.GG)(Oe)).docs.map(Dt=>F.mapFirestoreToContract(Dt.data()))}catch(ee){return console.error("Error finding contracts by type:",ee),[]}})()}findByParty(C){var F=this;return(0,xt.A)(function*(){try{const ee=(0,Or.rJ)(F.firestore,F.collectionName),Oe=(0,Or.P)(ee,(0,Or._M)("partyA","==",C),(0,Or.My)("createdAt","desc")),Dt=(yield(0,Or.GG)(Oe)).docs.map($r=>F.mapFirestoreToContract($r.data())),Qt=(0,Or.P)(ee,(0,Or._M)("partyB","==",C),(0,Or.My)("createdAt","desc")),tr=(yield(0,Or.GG)(Qt)).docs.map($r=>F.mapFirestoreToContract($r.data()));return[...Dt,...tr].filter(($r,Ei,Do)=>Ei===Do.findIndex(fo=>fo.id===$r.id)).sort(($r,Ei)=>new Date(Ei.createdAt).getTime()-new Date($r.createdAt).getTime())}catch(ee){return console.error("Error finding contracts by party:",ee),[]}})()}save(C){return(0,xt.A)(function*(){throw new Error("Method not implemented.")})()}update(C){return(0,xt.A)(function*(){throw new Error("Method not implemented.")})()}delete(C){return(0,xt.A)(function*(){throw new Error("Method not implemented.")})()}existsByContractNumber(C){var F=this;return(0,xt.A)(function*(){return null!==(yield F.findByContractNumber(C))})()}count(){var C=this;return(0,xt.A)(function*(){try{const F=(0,Or.rJ)(C.firestore,C.collectionName);return(yield(0,Or.GG)(F)).size}catch(F){return console.error("Error counting contracts:",F),0}})()}countByCriteria(C){var F=this;return(0,xt.A)(function*(){return(yield F.findByCriteria(C)).length})()}mapFirestoreToContract(C){const F={id:C.id,title:C.title,description:C.description,contractNumber:C.contractNumber,status:C.status,type:C.type,startDate:C.startDate?.toDate()||new Date,endDate:C.endDate?.toDate()||new Date,amount:C.amount,currency:C.currency,partyA:C.partyA,partyB:C.partyB,terms:C.terms||[],attachments:C.attachments||[]};return Fs.N.create(F)}static#e=x=()=>(this.\u0275fac=function(F){return new(F||_)(B.KVO(Or._7))},this.\u0275prov=B.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}))}return x(),_})();const Bu={providers:[(0,oc.lh)(bt),function ka(){return(0,$e._jY)("NgEagerAnimations"),[...Zs]}(),(0,si.$R)((0,si.b$)([(x,_)=>{const E=performance.now(),C=`${Date.now()}-${Math.floor(1e5*Math.random())}`;return _(x.clone({setHeaders:{"X-Request-Id":C}})).pipe((0,Ps.M)({next:ee=>{},error:ee=>{const Oe=Math.round(performance.now()-E);console.error("[HTTP ERROR]",{id:C,url:x.url,method:x.method,status:ee?.status??"UNKNOWN",elapsedMs:Oe})},complete:()=>{const ee=Math.round(performance.now()-E);console.log("[HTTP DONE]",{id:C,url:x.url,method:x.method,elapsedMs:ee})}}))},(x,_)=>{const E=(0,B.WQX)(Zo),C=(0,B.WQX)(fa);return(0,Sr.H)(E.getIdToken(!1)).pipe((0,qi.n)(F=>{const ee=F?x.clone({setHeaders:{Authorization:`Bearer ${F}`}}):x;return _(ee).pipe((0,Ao.W)(Oe=>401===Oe.status||403===Oe.status?(0,Sr.H)(C.refresh()).pipe((0,qi.n)(function(){var ke=(0,xt.A)(function*(Dt){if(!Dt)return yield E.clear(),(0,os.$)(()=>Oe);const Qt=x.clone({setHeaders:{Authorization:`Bearer ${Dt}`}});return _(Qt)});return function(Dt){return ke.apply(this,arguments)}}()),(0,Ao.W)(()=>(0,os.$)(()=>Oe))):(0,os.$)(()=>Oe)))}))},(x,_)=>_(x).pipe((0,Ao.W)(E=>{const F=new si.yz({status:E.status,statusText:E.statusText,url:E.url||x.url,error:{message:"string"==typeof E?.error?E.error:E.message||"Request failed"}});return(0,os.$)(()=>F)}))])),(0,ea.MW)(()=>(0,ea.Wp)({projectId:"acc-ng",appId:"1:713375778540:web:ddf84d3016300c2abb87c9",storageBucket:"acc-ng.firebasestorage.app",apiKey:"AIzaSyD0mftbDKLDXTDttoXUQwnHNQUeJEwADQc",authDomain:"acc-ng.firebaseapp.com",messagingSenderId:"713375778540",measurementId:"G-FWEJ2HQYZD"})),(0,Jo._q)(()=>(0,Jo.xI)()),(0,Qa.Ol)(()=>(0,Qa.P5)()),Qa.Rv,Qa.MO,(0,fs.VL)(()=>{const x=new ta.yG(We_firebase_appCheck.recaptchaSiteKey);return(0,fs.Ay)(void 0,{provider:x,isTokenAutoRefreshEnabled:!0})}),(0,Or.hV)(()=>(0,Or.aU)()),(0,D.LQ)(()=>(0,D.Uz)()),(0,M.MM)(()=>(0,M.dG)()),(0,b.es)(()=>(0,b.FJ)()),(0,q.Xm)(()=>(0,q.c7)()),(0,N.Sh)(()=>(0,N.LO)()),(0,le.cw)(()=>(0,le.v_)()),{provide:"IContractRepository",useClass:Go}]};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/ngsw-worker.js").then(x=>{console.log("Service Worker \u8a3b\u518a\u6210\u529f:",x)}).catch(x=>{console.log("Service Worker \u8a3b\u518a\u5931\u6557:",x)})}),function Jt(x,_){return(0,_e.TL3)({rootComponent:x,...ur(_)})}(Xr,Bu).catch(x=>console.error(x))},4179:(Hn,vt,I)=>{I.d(vt,{f:()=>L});const L={setTimeout(a,B,..._e){const{delegate:$e}=L;return $e?.setTimeout?$e.setTimeout(a,B,..._e):setTimeout(a,B,..._e)},clearTimeout(a){const{delegate:B}=L;return(B?.clearTimeout||clearTimeout)(a)},delegate:void 0}},4368:(Hn,vt,I)=>{I.d(vt,{Q:()=>_e});var L=I(902),a=I(3731),B=I(5015);function _e($e,ct=0){return(0,a.N)((j,fe)=>{j.subscribe((0,B._)(fe,Ae=>(0,L.N)(fe,$e,()=>fe.next(Ae),ct),()=>(0,L.N)(fe,$e,()=>fe.complete(),ct),Ae=>(0,L.N)(fe,$e,()=>fe.error(Ae),ct)))})}},4526:(Hn,vt,I)=>{function L(){}I.d(vt,{l:()=>L})},4602:(Hn,vt,I)=>{function L(a){return"function"==typeof a}I.d(vt,{T:()=>L})},4830:(Hn,vt,I)=>{I.d(vt,{V:()=>Ri,FJ:()=>lo,es:()=>Ln});var Ae,Ce,L=I(8424),a=I(6078),B=I(1698),_e=I(7385),$e=I(2474),ct=I(8813),j=I(5099),fe=I(7650),ye=function(){var Ee=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(Ee&&Ee.responseStart>0&&Ee.responseStart<performance.now())return Ee},He=function(Ee){if("loading"===document.readyState)return"loading";var me=ye();if(me){if(Ee<me.domInteractive)return"loading";if(0===me.domContentLoadedEventStart||Ee<me.domContentLoadedEventStart)return"dom-interactive";if(0===me.domComplete||Ee<me.domComplete)return"dom-content-loaded"}return"complete"},kt=function(Ee){var me=Ee.nodeName;return 1===Ee.nodeType?me.toLowerCase():me.toUpperCase().replace(/^#/,"")},zt=function(Ee,me){var Xe="";try{for(;Ee&&9!==Ee.nodeType;){var Wt=Ee,Yt=Wt.id?"#"+Wt.id:kt(Wt)+(Wt.classList&&Wt.classList.value&&Wt.classList.value.trim()&&Wt.classList.value.trim().length?"."+Wt.classList.value.trim().replace(/\s+/g,"."):"");if(Xe.length+Yt.length>(me||100)-1)return Xe||Yt;if(Xe=Xe?Yt+">"+Xe:Yt,Wt.id)break;Ee=Wt.parentNode}}catch{}return Xe},Xt=-1,_n=function(Ee){addEventListener("pageshow",function(me){me.persisted&&(Xt=me.timeStamp,Ee(me))},!0)},yt=function(){var Ee=ye();return Ee&&Ee.activationStart||0},wn=function(Ee,me){var Xe=ye(),Wt="navigate";return Xt>=0?Wt="back-forward-cache":Xe&&(document.prerendering||yt()>0?Wt="prerender":document.wasDiscarded?Wt="restore":Xe.type&&(Wt=Xe.type.replace(/_/g,"-"))),{name:Ee,value:void 0===me?-1:me,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:Wt}},Sn=function(Ee,me,Xe){try{if(PerformanceObserver.supportedEntryTypes.includes(Ee)){var Wt=new PerformanceObserver(function(Yt){Promise.resolve().then(function(){me(Yt.getEntries())})});return Wt.observe(Object.assign({type:Ee,buffered:!0},Xe||{})),Wt}}catch{}},Ge=function(Ee,me,Xe,Wt){var Yt,jn;return function(kn){var Qn,fr;me.value>=0&&(kn||Wt)&&((jn=me.value-(Yt||0))||void 0===Yt)&&(Yt=me.value,me.delta=jn,me.rating=(Qn=me.value)>(fr=Xe)[1]?"poor":Qn>fr[0]?"needs-improvement":"good",Ee(me))}},Ot=function(Ee){requestAnimationFrame(function(){return requestAnimationFrame(function(){return Ee()})})},Je=function(Ee){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&Ee()})},Et=function(Ee){var me=!1;return function(){me||(Ee(),me=!0)}},tn=-1,_t=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},$t=function(Ee){"hidden"===document.visibilityState&&tn>-1&&(tn="visibilitychange"===Ee.type?Ee.timeStamp:0,er())},Tn=function(){addEventListener("visibilitychange",$t,!0),addEventListener("prerenderingchange",$t,!0)},er=function(){removeEventListener("visibilitychange",$t,!0),removeEventListener("prerenderingchange",$t,!0)},On=function(){return tn<0&&(tn=_t(),Tn(),_n(function(){setTimeout(function(){tn=_t(),Tn()},0)})),{get firstHiddenTime(){return tn}}},rr=function(Ee){document.prerendering?addEventListener("prerenderingchange",function(){return Ee()},!0):Ee()},pr=[1800,3e3],Rn=[.1,.25],de=function(Ee,me){var Xe,Wt;Xe=function(Xe){var Wt=function(Yt){var jn,kn={};if(Yt.entries.length){var Qn=Yt.entries.reduce(function(wi,Mi){return wi&&wi.value>Mi.value?wi:Mi});if(Qn&&Qn.sources&&Qn.sources.length){var fr=(jn=Qn.sources).find(function(wi){return wi.node&&1===wi.node.nodeType})||jn[0];fr&&(kn={largestShiftTarget:zt(fr.node),largestShiftTime:Qn.startTime,largestShiftValue:Qn.value,largestShiftSource:fr,largestShiftEntry:Qn,loadState:He(Qn.startTime)})}}return Object.assign(Yt,{attribution:kn})}(Xe);Ee(Wt)},Wt=(Wt=me)||{},function(Ee,me){me=me||{},rr(function(){var Xe,Wt=On(),Yt=wn("FCP"),jn=Sn("paint",function(kn){kn.forEach(function(Qn){"first-contentful-paint"===Qn.name&&(jn.disconnect(),Qn.startTime<Wt.firstHiddenTime&&(Yt.value=Math.max(Qn.startTime-yt(),0),Yt.entries.push(Qn),Xe(!0)))})});jn&&(Xe=Ge(Ee,Yt,pr,me.reportAllChanges),_n(function(kn){Yt=wn("FCP"),Xe=Ge(Ee,Yt,pr,me.reportAllChanges),Ot(function(){Yt.value=performance.now()-kn.timeStamp,Xe(!0)})}))})}(Et(function(){var Yt,jn=wn("CLS",0),kn=0,Qn=[],fr=function(Mi){Mi.forEach(function(Li){Li.hadRecentInput||(kn&&Li.startTime-Qn[Qn.length-1].startTime<1e3&&Li.startTime-Qn[0].startTime<5e3?(kn+=Li.value,Qn.push(Li)):(kn=Li.value,Qn=[Li]))}),kn>jn.value&&(jn.value=kn,jn.entries=Qn,Yt())},wi=Sn("layout-shift",fr);wi&&(Yt=Ge(Xe,jn,Rn,Wt.reportAllChanges),Je(function(){fr(wi.takeRecords()),Yt(!0)}),_n(function(){kn=0,jn=wn("CLS",0),Yt=Ge(Xe,jn,Rn,Wt.reportAllChanges),Ot(function(){return Yt()})}),setTimeout(Yt,0))}))},Lt=0,Be=1/0,ge=0,Ne=function(Ee){Ee.forEach(function(me){me.interactionId&&(Be=Math.min(Be,me.interactionId),ge=Math.max(ge,me.interactionId),Lt=ge?(ge-Be)/7+1:0)})},pe=function(){return Ae?Lt:performance.interactionCount||0},Ye=[],Le=new Map,Re=0,Jt=[],vn=function(Ee){if(Jt.forEach(function(Yt){return Yt(Ee)}),Ee.interactionId||"first-input"===Ee.entryType){var me=Ye[Ye.length-1],Xe=Le.get(Ee.interactionId);if(Xe||Ye.length<10||Ee.duration>me.latency){if(Xe)Ee.duration>Xe.latency?(Xe.entries=[Ee],Xe.latency=Ee.duration):Ee.duration===Xe.latency&&Ee.startTime===Xe.entries[0].startTime&&Xe.entries.push(Ee);else{var Wt={id:Ee.interactionId,latency:Ee.duration,entries:[Ee]};Le.set(Wt.id,Wt),Ye.push(Wt)}Ye.sort(function(Yt,jn){return jn.latency-Yt.latency}),Ye.length>10&&Ye.splice(10).forEach(function(Yt){return Le.delete(Yt.id)})}}},ur=function(Ee){var me=self.requestIdleCallback||self.setTimeout,Xe=-1;return Ee=Et(Ee),"hidden"===document.visibilityState?Ee():(Xe=me(Ee),Je(Ee)),Xe},ft=[200,500],En=[],an=[],_r=0,lr=new WeakMap,Zr=new Map,Kr=-1,mi=function(Ee){En=En.concat(Ee),Vn()},Vn=function(){Kr<0&&(Kr=ur(Ci))},Ci=function(){Zr.size>10&&Zr.forEach(function(kn,Qn){Le.has(Qn)||Zr.delete(Qn)});var Ee=Ye.map(function(kn){return lr.get(kn.entries[0])}),me=an.length-50;an=an.filter(function(kn,Qn){return Qn>=me||Ee.includes(kn)});for(var Xe=new Set,Wt=0;Wt<an.length;Wt++){var Yt=an[Wt];_i(Yt.startTime,Yt.processingEnd).forEach(function(kn){Xe.add(kn)})}var jn=En.length-1-50;En=En.filter(function(kn,Qn){return kn.startTime>_r&&Qn>jn||Xe.has(kn)}),Kr=-1};Jt.push(function(Ee){Ee.interactionId&&Ee.target&&!Zr.has(Ee.interactionId)&&Zr.set(Ee.interactionId,Ee.target)},function(Ee){var me,Xe=Ee.startTime+Ee.duration;_r=Math.max(_r,Ee.processingEnd);for(var Wt=an.length-1;Wt>=0;Wt--){var Yt=an[Wt];if(Math.abs(Xe-Yt.renderTime)<=8){(me=Yt).startTime=Math.min(Ee.startTime,me.startTime),me.processingStart=Math.min(Ee.processingStart,me.processingStart),me.processingEnd=Math.max(Ee.processingEnd,me.processingEnd),me.entries.push(Ee);break}}me||an.push(me={startTime:Ee.startTime,processingStart:Ee.processingStart,processingEnd:Ee.processingEnd,renderTime:Xe,entries:[Ee]}),(Ee.interactionId||"first-input"===Ee.entryType)&&lr.set(Ee,me),Vn()});var _i=function(Ee,me){for(var Xe,Wt=[],Yt=0;Xe=En[Yt];Yt++)if(!(Xe.startTime+Xe.duration<Ee)){if(Xe.startTime>me)break;Wt.push(Xe)}return Wt},Xn=function(Ee,me){Ce||(Ce=Sn("long-animation-frame",mi)),function(Ee,me){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(me=me||{},rr(function(){var Xe;"interactionCount"in performance||Ae||(Ae=Sn("event",Ne,{type:"event",buffered:!0,durationThreshold:0}));var Wt,Yt=wn("INP"),jn=function(Qn){ur(function(){Qn.forEach(vn);var fr=function(){var Ee=Math.min(Ye.length-1,Math.floor((pe()-Re)/50));return Ye[Ee]}();fr&&fr.latency!==Yt.value&&(Yt.value=fr.latency,Yt.entries=fr.entries,Wt())})},kn=Sn("event",jn,{durationThreshold:null!==(Xe=me.durationThreshold)&&void 0!==Xe?Xe:40});Wt=Ge(Ee,Yt,ft,me.reportAllChanges),kn&&(kn.observe({type:"first-input",buffered:!0}),Je(function(){jn(kn.takeRecords()),Wt(!0)}),_n(function(){Re=pe(),Ye.length=0,Le.clear(),Yt=wn("INP"),Wt=Ge(Ee,Yt,ft,me.reportAllChanges)}))}))}(function(Xe){var Yt,jn,kn,Qn,fr,wi,Mi,Li,ho,_o,yo,zo,Wt=(kn=lr.get(jn=(Yt=Xe).entries[0]),Qn=jn.processingStart,fr=kn.processingEnd,wi=kn.entries.sort(function(is,Ys){return is.processingStart-Ys.processingStart}),Mi=_i(jn.startTime,fr),ho=(Li=Yt.entries.find(function(is){return is.target}))&&Li.target||Zr.get(jn.interactionId),_o=[jn.startTime+jn.duration,fr].concat(Mi.map(function(is){return is.startTime+is.duration})),yo=Math.max.apply(Math,_o),zo={interactionTarget:zt(ho),interactionTargetElement:ho,interactionType:jn.name.startsWith("key")?"keyboard":"pointer",interactionTime:jn.startTime,nextPaintTime:yo,processedEventEntries:wi,longAnimationFrameEntries:Mi,inputDelay:Qn-jn.startTime,processingDuration:fr-Qn,presentationDelay:Math.max(yo-fr,0),loadState:He(jn.startTime)},Object.assign(Yt,{attribution:zo}));Ee(Wt)},me)},Ct=[2500,4e3],ln={},Ht=function(Ee,me){var Xe,Wt;Xe=function(Xe){var Wt=function(Yt){var jn={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:Yt.value};if(Yt.entries.length){var kn=ye();if(kn){var Qn=kn.activationStart||0,fr=Yt.entries[Yt.entries.length-1],wi=fr.url&&performance.getEntriesByType("resource").filter(function(yo){return yo.name===fr.url})[0],Mi=Math.max(0,kn.responseStart-Qn),Li=Math.max(Mi,wi?(wi.requestStart||wi.startTime)-Qn:0),ho=Math.max(Li,wi?wi.responseEnd-Qn:0),_o=Math.max(ho,fr.startTime-Qn);jn={element:zt(fr.element),timeToFirstByte:Mi,resourceLoadDelay:Li-Mi,resourceLoadDuration:ho-Li,elementRenderDelay:_o-ho,navigationEntry:kn,lcpEntry:fr},fr.url&&(jn.url=fr.url),wi&&(jn.lcpResourceEntry=wi)}}return Object.assign(Yt,{attribution:jn})}(Xe);Ee(Wt)},Wt=(Wt=me)||{},rr(function(){var Yt,jn=On(),kn=wn("LCP"),Qn=function(Mi){Wt.reportAllChanges||(Mi=Mi.slice(-1)),Mi.forEach(function(Li){Li.startTime<jn.firstHiddenTime&&(kn.value=Math.max(Li.startTime-yt(),0),kn.entries=[Li],Yt())})},fr=Sn("largest-contentful-paint",Qn);if(fr){Yt=Ge(Xe,kn,Ct,Wt.reportAllChanges);var wi=Et(function(){ln[kn.id]||(Qn(fr.takeRecords()),fr.disconnect(),ln[kn.id]=!0,Yt(!0))});["keydown","click"].forEach(function(Mi){addEventListener(Mi,function(){return ur(wi)},{once:!0,capture:!0})}),Je(wi),_n(function(Mi){kn=wn("LCP"),Yt=Ge(Xe,kn,Ct,Wt.reportAllChanges),Ot(function(){kn.value=performance.now()-Mi.timeStamp,ln[kn.id]=!0,Yt(!0)})})}})},Er=I(1572),Un=I(9333);I(1873);const Bt="@firebase/performance",pn="0.7.7",bn=pn,Ir="FB-PERF-TRACE-MEASURE",Ze="@firebase/performance/config",O="@firebase/performance/configexpire",Z="Performance",tt=new j.FA("performance",Z,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),ht=new fe.Vy(Z);let rn,gn,mr,Tr;ht.logLevel=fe.$b.INFO;class Cn{constructor(me){if(this.window=me,!me)throw tt.create("no window");this.performance=me.performance,this.PerformanceObserver=me.PerformanceObserver,this.windowLocation=me.location,this.navigator=me.navigator,this.document=me.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=me.localStorage),me.perfMetrics&&me.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=me.perfMetrics.onFirstInputDelay),this.onLCP=Ht,this.onINP=Xn,this.onCLS=de}getUrl(){return this.windowLocation.href.split("?")[0]}mark(me){!this.performance||!this.performance.mark||this.performance.mark(me)}measure(me,Xe,Wt){!this.performance||!this.performance.measure||this.performance.measure(me,Xe,Wt)}getEntriesByType(me){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(me):[]}getEntriesByName(me){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(me):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,j.dM)()?!!(0,j.zW)()||(ht.info("IndexedDB is not supported by current browser"),!1):(ht.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(me,Xe){this.PerformanceObserver&&new this.PerformanceObserver(Yt=>{for(const jn of Yt.getEntries())Xe(jn)}).observe({entryTypes:[me]})}static getInstance(){return void 0===rn&&(rn=new Cn(gn)),rn}}function Oi(){return mr}function li(Ee,me){const Xe=Ee.length-me.length;if(Xe<0||Xe>1)throw tt.create("invalid String merger input");const Wt=[];for(let Yt=0;Yt<Ee.length;Yt++)Wt.push(Ee.charAt(Yt)),me.length>Yt&&Wt.push(me.charAt(Yt));return Wt.join("")}class $n{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=li("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=li("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===Tr&&(Tr=new $n),Tr}}var ii=function(Ee){return Ee[Ee.UNKNOWN=0]="UNKNOWN",Ee[Ee.VISIBLE=1]="VISIBLE",Ee[Ee.HIDDEN=2]="HIDDEN",Ee}(ii||{});const Pi=["firebase_","google_","ga_"],Cr=new RegExp("^[a-zA-Z]\\w*$");function dn(){const Ee=Cn.getInstance().navigator;return Ee?.serviceWorker?Ee.serviceWorker.controller?2:3:1}function Pn(){switch(Cn.getInstance().document.visibilityState){case"visible":return ii.VISIBLE;case"hidden":return ii.HIDDEN;default:return ii.UNKNOWN}}function or(){const me=Cn.getInstance().navigator.connection;switch(me&&me.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Fe(Ee){var me;const Xe=null===(me=Ee.options)||void 0===me?void 0:me.appId;if(!Xe)throw tt.create("no app id");return Xe}const Ut={loggingEnabled:!0};const Ui="Could not fetch config, will use default configs";function ti(Ee){if(!Ee)return Ee;const me=$n.getInstance(),Xe=Ee.entries||{};return me.loggingEnabled=void 0!==Xe.fpr_enabled?"true"===String(Xe.fpr_enabled):Ut.loggingEnabled,Xe.fpr_log_source?me.logSource=Number(Xe.fpr_log_source):Ut.logSource&&(me.logSource=Ut.logSource),Xe.fpr_log_endpoint_url?me.logEndPointUrl=Xe.fpr_log_endpoint_url:Ut.logEndPointUrl&&(me.logEndPointUrl=Ut.logEndPointUrl),Xe.fpr_log_transport_key?me.transportKey=Xe.fpr_log_transport_key:Ut.transportKey&&(me.transportKey=Ut.transportKey),void 0!==Xe.fpr_vc_network_request_sampling_rate?me.networkRequestsSamplingRate=Number(Xe.fpr_vc_network_request_sampling_rate):void 0!==Ut.networkRequestsSamplingRate&&(me.networkRequestsSamplingRate=Ut.networkRequestsSamplingRate),void 0!==Xe.fpr_vc_trace_sampling_rate?me.tracesSamplingRate=Number(Xe.fpr_vc_trace_sampling_rate):void 0!==Ut.tracesSamplingRate&&(me.tracesSamplingRate=Ut.tracesSamplingRate),me.logTraceAfterSampling=be(me.tracesSamplingRate),me.logNetworkAfterSampling=be(me.networkRequestsSamplingRate),Ee}function be(Ee){return Math.random()<=Ee}let se,te=1;function dt(Ee){return te=2,se=se||function Mn(Ee){return function qn(){const Ee=Cn.getInstance().document;return new Promise(me=>{if(Ee&&"complete"!==Ee.readyState){const Xe=()=>{"complete"===Ee.readyState&&(Ee.removeEventListener("readystatechange",Xe),me())};Ee.addEventListener("readystatechange",Xe)}else me()})}().then(()=>function jr(Ee){const me=Ee.getId();return me.then(Xe=>{mr=Xe}),me}(Ee.installations)).then(me=>function Dr(Ee,me){const Xe=function gi(){const Ee=Cn.getInstance().localStorage;if(!Ee)return;const me=Ee.getItem(O);if(!me||!function $(Ee){return Number(Ee)>Date.now()}(me))return;const Xe=Ee.getItem(Ze);if(Xe)try{return JSON.parse(Xe)}catch{return}}();return Xe?(ti(Xe),Promise.resolve()):function bi(Ee,me){return function Ni(Ee){const me=Ee.getToken();return me.then(Xe=>{}),me}(Ee.installations).then(Xe=>{const Wt=function qe(Ee){var me;const Xe=null===(me=Ee.options)||void 0===me?void 0:me.projectId;if(!Xe)throw tt.create("no project id");return Xe}(Ee.app),Yt=function St(Ee){var me;const Xe=null===(me=Ee.options)||void 0===me?void 0:me.apiKey;if(!Xe)throw tt.create("no api key");return Xe}(Ee.app),kn=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${Wt}/namespaces/fireperf:fetch?key=${Yt}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${Xe}`},body:JSON.stringify({app_instance_id:me,app_instance_id_token:Xe,app_id:Fe(Ee.app),app_version:bn,sdk_version:"0.0.1"})});return fetch(kn).then(Qn=>{if(Qn.ok)return Qn.json();throw tt.create("RC response not ok")})}).catch(()=>{ht.info(Ui)})}(Ee,me).then(ti).then(Wt=>function ai(Ee){const me=Cn.getInstance().localStorage;!Ee||!me||(me.setItem(Ze,JSON.stringify(Ee)),me.setItem(O,String(Date.now()+60*$n.getInstance().configTimeToLive*60*1e3)))}(Wt),()=>{})}(Ee,me)).then(()=>ci(),()=>ci())}(Ee),se}function ci(){te=3}let cr,hi=3,Ti=[],pt=!1;function Me(Ee){setTimeout(()=>{hi<=0||(Ti.length>0&&Ie(),Me(1e4))},Ee)}function Ie(){const Ee=Ti.splice(0,1e3),me=Ee.map(Wt=>({source_extension_json_proto3:Wt.message,event_time_ms:String(Wt.eventTime)}));(function je(Ee){const me=$n.getInstance().getFlTransportFullUrl(),Xe=JSON.stringify(Ee);return navigator.sendBeacon&&navigator.sendBeacon(me,Xe)?Promise.resolve():fetch(me,{method:"POST",body:Xe,keepalive:!0}).then()})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:$n.getInstance().logSource,log_event:me}).then(()=>{hi=3}).catch(()=>{Ti=[...Ee,...Ti],hi--,ht.info(`Tries left: ${hi}.`),Me(1e4)})}function Zt(Ee){return(...me)=>{!function At(Ee){if(!Ee.eventTime||!Ee.message)throw tt.create("invalid cc log");Ti=[...Ti,Ee]}({message:Ee(...me),eventTime:Date.now()})}}function In(){for(;Ti.length>0;)Ie()}function Br(Ee,me){cr||(cr={send:Zt(go),flush:In}),cr.send(Ee,me)}function ki(Ee){const me=$n.getInstance();!me.instrumentationEnabled&&Ee.isAuto||!me.dataCollectionEnabled&&!Ee.isAuto||Cn.getInstance().requiredApisAvailable()&&(function mn(){return 3===te}()?Ai(Ee):dt(Ee.performanceController).then(()=>Ai(Ee),()=>Ai(Ee)))}function Ai(Ee){if(!Oi())return;const me=$n.getInstance();!me.loggingEnabled||!me.logTraceAfterSampling||Br(Ee,1)}function go(Ee,me){return 0===me?function ro(Ee){const me={url:Ee.url,http_method:Ee.httpMethod||0,http_response_code:200,response_payload_bytes:Ee.responsePayloadBytes,client_start_time_us:Ee.startTimeUs,time_to_response_initiated_us:Ee.timeToResponseInitiatedUs,time_to_response_completed_us:Ee.timeToResponseCompletedUs},Xe={application_info:eo(Ee.performanceController.app),network_request_metric:me};return JSON.stringify(Xe)}(Ee):function Ro(Ee){const me={name:Ee.name,is_auto:Ee.isAuto,client_start_time_us:Ee.startTimeUs,duration_us:Ee.durationUs};0!==Object.keys(Ee.counters).length&&(me.counters=Ee.counters);const Xe=Ee.getAttributes();0!==Object.keys(Xe).length&&(me.custom_attributes=Xe);const Wt={application_info:eo(Ee.performanceController.app),trace_metric:me};return JSON.stringify(Wt)}(Ee)}function eo(Ee){return{google_app_id:Fe(Ee),app_instance_id:Oi(),web_app_info:{sdk_version:bn,page_url:Cn.getInstance().getUrl(),service_worker_status:dn(),visibility_state:Pn(),effective_connection_type:or()},application_process_state:0}}function Ji(Ee,me){const Xe=me;if(!Xe||void 0===Xe.responseStart)return;const Wt=Cn.getInstance().getTimeOrigin(),Yt=Math.floor(1e3*(Xe.startTime+Wt)),jn=Xe.responseStart?Math.floor(1e3*(Xe.responseStart-Xe.startTime)):void 0,kn=Math.floor(1e3*(Xe.responseEnd-Xe.startTime));!function uo(Ee){const me=$n.getInstance();if(!me.instrumentationEnabled)return;const Xe=Ee.url,Wt=me.logEndPointUrl.split("?")[0],Yt=me.flTransportEndpointUrl.split("?")[0];Xe===Wt||Xe===Yt||!me.loggingEnabled||!me.logNetworkAfterSampling||Br(Ee,0)}({performanceController:Ee,url:Xe.name&&Xe.name.split("?")[0],responsePayloadBytes:Xe.transferSize,startTimeUs:Yt,timeToResponseInitiatedUs:jn,timeToResponseCompletedUs:kn})}const U=["_fp","_fcp","_fid","_lcp","_cls","_inp"];class Tt{constructor(me,Xe,Wt=!1,Yt){this.performanceController=me,this.name=Xe,this.isAuto=Wt,this.state=1,this.customAttributes={},this.counters={},this.api=Cn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=Yt||`${Ir}-${this.randomId}-${this.name}`,Yt&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw tt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw tt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ki(this)}record(me,Xe,Wt){if(me<=0)throw tt.create("nonpositive trace startTime",{traceName:this.name});if(Xe<=0)throw tt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*Xe),this.startTimeUs=Math.floor(1e3*me),Wt&&Wt.attributes&&(this.customAttributes=Object.assign({},Wt.attributes)),Wt&&Wt.metrics)for(const Yt of Object.keys(Wt.metrics))isNaN(Number(Wt.metrics[Yt]))||(this.counters[Yt]=Math.floor(Number(Wt.metrics[Yt])));ki(this)}incrementMetric(me,Xe=1){this.putMetric(me,void 0===this.counters[me]?Xe:this.counters[me]+Xe)}putMetric(me,Xe){if(!function re(Ee,me){return!(0===Ee.length||Ee.length>100)&&(me&&me.startsWith("_wt_")&&U.indexOf(Ee)>-1||!Ee.startsWith("_"))}(me,this.name))throw tt.create("invalid custom metric name",{customMetricName:me});this.counters[me]=function xe(Ee){const me=Math.floor(Ee);return me<Ee&&ht.info(`Metric value should be an Integer, setting the value as : ${me}.`),me}(Xe??0)}getMetric(me){return this.counters[me]||0}putAttribute(me,Xe){const Wt=function Ar(Ee){return!(0===Ee.length||Ee.length>40||Pi.some(Xe=>Ee.startsWith(Xe))||!Ee.match(Cr))}(me),Yt=function ue(Ee){return 0!==Ee.length&&Ee.length<=100}(Xe);if(Wt&&Yt)this.customAttributes[me]=Xe;else{if(!Wt)throw tt.create("invalid attribute name",{attributeName:me});if(!Yt)throw tt.create("invalid attribute value",{attributeValue:Xe})}}getAttribute(me){return this.customAttributes[me]}removeAttribute(me){void 0!==this.customAttributes[me]&&delete this.customAttributes[me]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(me){this.startTimeUs=me}setDuration(me){this.durationUs=me}calculateTraceMetrics(){const me=this.api.getEntriesByName(this.traceMeasure),Xe=me&&me[0];Xe&&(this.durationUs=Math.floor(1e3*Xe.duration),this.startTimeUs=Math.floor(1e3*(Xe.startTime+this.api.getTimeOrigin())))}static createOobTrace(me,Xe,Wt,Yt,jn){const kn=Cn.getInstance().getUrl();if(!kn)return;const Qn=new Tt(me,"_wt_"+kn,!0),fr=Math.floor(1e3*Cn.getInstance().getTimeOrigin());if(Qn.setStartTime(fr),Xe&&Xe[0]&&(Qn.setDuration(Math.floor(1e3*Xe[0].duration)),Qn.putMetric("domInteractive",Math.floor(1e3*Xe[0].domInteractive)),Qn.putMetric("domContentLoadedEventEnd",Math.floor(1e3*Xe[0].domContentLoadedEventEnd)),Qn.putMetric("loadEventEnd",Math.floor(1e3*Xe[0].loadEventEnd))),Wt){const Li=Wt.find(_o=>"first-paint"===_o.name);Li&&Li.startTime&&Qn.putMetric("_fp",Math.floor(1e3*Li.startTime));const ho=Wt.find(_o=>"first-contentful-paint"===_o.name);ho&&ho.startTime&&Qn.putMetric("_fcp",Math.floor(1e3*ho.startTime)),jn&&Qn.putMetric("_fid",Math.floor(1e3*jn))}this.addWebVitalMetric(Qn,"_lcp","lcp_element",Yt.lcp),this.addWebVitalMetric(Qn,"_cls","cls_largestShiftTarget",Yt.cls),this.addWebVitalMetric(Qn,"_inp","inp_interactionTarget",Yt.inp),ki(Qn),function Fi(){cr&&cr.flush()}()}static addWebVitalMetric(me,Xe,Wt,Yt){Yt&&(me.putMetric(Xe,Math.floor(1e3*Yt.value)),Yt.elementAttribution&&me.putAttribute(Wt,Yt.elementAttribution))}static createUserTimingTrace(me,Xe){ki(new Tt(me,Xe,!1,Xe))}}let Jn,Gt={},xn=!1;function wr(Ee){Oi()&&(setTimeout(()=>function $i(Ee){const me=Cn.getInstance();"onpagehide"in window?me.document.addEventListener("pagehide",()=>Yi(Ee)):me.document.addEventListener("unload",()=>Yi(Ee)),me.document.addEventListener("visibilitychange",()=>{"hidden"===me.document.visibilityState&&Yi(Ee)}),me.onFirstInputDelay&&me.onFirstInputDelay(Xe=>{Jn=Xe}),me.onLCP(Xe=>{var Wt;Gt.lcp={value:Xe.value,elementAttribution:null===(Wt=Xe.attribution)||void 0===Wt?void 0:Wt.element}}),me.onCLS(Xe=>{var Wt;Gt.cls={value:Xe.value,elementAttribution:null===(Wt=Xe.attribution)||void 0===Wt?void 0:Wt.largestShiftTarget}}),me.onINP(Xe=>{var Wt;Gt.inp={value:Xe.value,elementAttribution:null===(Wt=Xe.attribution)||void 0===Wt?void 0:Wt.interactionTarget}})}(Ee),0),setTimeout(()=>function Qr(Ee){const me=Cn.getInstance(),Xe=me.getEntriesByType("resource");for(const Wt of Xe)Ji(Ee,Wt);me.setupObserver("resource",Wt=>Ji(Ee,Wt))}(Ee),0),setTimeout(()=>function zr(Ee){const me=Cn.getInstance(),Xe=me.getEntriesByType("measure");for(const Wt of Xe)to(Ee,Wt);me.setupObserver("measure",Wt=>to(Ee,Wt))}(Ee),0))}function to(Ee,me){const Xe=me.name;Xe.substring(0,21)!==Ir&&Tt.createUserTimingTrace(Ee,Xe)}function Yi(Ee){if(!xn){xn=!0;const me=Cn.getInstance(),Xe=me.getEntriesByType("navigation"),Wt=me.getEntriesByType("paint");setTimeout(()=>{Tt.createOobTrace(Ee,Xe,Wt,Gt,Jn)},0)}}class io{constructor(me,Xe){this.app=me,this.installations=Xe,this.initialized=!1}_init(me){this.initialized||(void 0!==me?.dataCollectionEnabled&&(this.dataCollectionEnabled=me.dataCollectionEnabled),void 0!==me?.instrumentationEnabled&&(this.instrumentationEnabled=me.instrumentationEnabled),Cn.getInstance().requiredApisAvailable()?(0,j.eX)().then(Xe=>{Xe&&(function J(){pt||(Me(5500),pt=!0)}(),dt(this).then(()=>wr(this),()=>wr(this)),this.initialized=!0)}).catch(Xe=>{ht.info(`Environment doesn't support IndexedDB: ${Xe}`)}):ht.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(me){$n.getInstance().instrumentationEnabled=me}get instrumentationEnabled(){return $n.getInstance().instrumentationEnabled}set dataCollectionEnabled(me){$n.getInstance().dataCollectionEnabled=me}get dataCollectionEnabled(){return $n.getInstance().dataCollectionEnabled}}function Hi(Ee=(0,Er.Sx)()){return Ee=(0,j.Ku)(Ee),(0,Er.j6)(Ee,"performance").getImmediate()}const Ho=(Ee,{options:me})=>{const Xe=Ee.getProvider("app").getImmediate(),Wt=Ee.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==Xe.name)throw tt.create("FB not default");if(typeof window>"u")throw tt.create("no window");!function Mr(Ee){gn=Ee}(window);const Yt=new io(Xe,Wt);return Yt._init(me),Yt};!function As(){(0,Er.om)(new Un.uA("performance",Ho,"PUBLIC")),(0,Er.KO)(Bt,pn),(0,Er.KO)(Bt,pn,"esm2017")}();class Ri{constructor(me){return me}}const cs="performance",X=new B.nKC("angularfire2.performance-instances");function Ue(Ee){return(me,Xe,Wt)=>{if(!(0,a.UE)(Xe))return null;const Yt=me.runOutsideAngular(()=>Ee(Wt));return new Ri(Yt)}}const it={provide:class no{constructor(){return(0,L.CA)(cs)}},deps:[[new _e.Xx1,X]]},Rt={provide:Ri,useFactory:function Q(Ee,me,Xe){if(!(0,a.UE)(Xe))return null;const Wt=(0,L.lR)(cs,Ee,me);return Wt&&new Ri(Wt)},deps:[[new _e.Xx1,X],$e.XU,_e.Agw]};function Ln(Ee,...me){return(0,ct.KO)("angularfire",L.xv.full,"perf"),(0,B.EmA)([Rt,it,{provide:X,useFactory:Ue(Ee),multi:!0,deps:[_e.SKi,_e.Agw,B.zZn,L.u0,$e.gL,...me]}])}const lo=(0,L.S3)(Hi,!0)},5015:(Hn,vt,I)=>{I.d(vt,{H:()=>B,_:()=>a});var L=I(923);function a(_e,$e,ct,j,fe){return new B(_e,$e,ct,j,fe)}class B extends L.vU{constructor($e,ct,j,fe,Ae,Ce){super($e),this.onFinalize=Ae,this.shouldUnsubscribe=Ce,this._next=ct?function(ye){try{ct(ye)}catch(He){$e.error(He)}}:super._next,this._error=fe?function(ye){try{fe(ye)}catch(He){$e.error(He)}finally{this.unsubscribe()}}:super._error,this._complete=j?function(){try{j()}catch(ye){$e.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ct}=this;super.unsubscribe(),!ct&&(null===($e=this.onFinalize)||void 0===$e||$e.call(this))}}}},5024:(Hn,vt,I)=>{I.d(vt,{_:()=>a});var L=I(3731);function a(B,_e=0){return(0,L.N)(($e,ct)=>{ct.add(B.schedule(()=>$e.subscribe(ct),_e))})}},5099:(Hn,vt,I)=>{I.d(vt,{cY:()=>tn,FA:()=>_r,g:()=>an,dM:()=>Ft,K3:()=>fe,u:()=>He,Uj:()=>ye,p9:()=>Ir,Fy:()=>er,tD:()=>Jr,bD:()=>ln,hp:()=>Pr,T9:()=>Je,Tj:()=>Ge,yU:()=>Ot,XA:()=>Et,mS:()=>An,Ku:()=>Ii,ZQ:()=>de,sr:()=>pe,zJ:()=>_t,c1:()=>Ne,Im:()=>Xn,lT:()=>Le,zW:()=>ur,jZ:()=>at,lV:()=>et,nr:()=>Jt,Ov:()=>vn,gE:()=>$t,Am:()=>Gn,I9:()=>sr,P1:()=>Rn,eX:()=>ft});var L=I(649);const ct=function(Ve){const ce=[];let ie=0;for(let Pe=0;Pe<Ve.length;Pe++){let ze=Ve.charCodeAt(Pe);ze<128?ce[ie++]=ze:ze<2048?(ce[ie++]=ze>>6|192,ce[ie++]=63&ze|128):55296==(64512&ze)&&Pe+1<Ve.length&&56320==(64512&Ve.charCodeAt(Pe+1))?(ze=65536+((1023&ze)<<10)+(1023&Ve.charCodeAt(++Pe)),ce[ie++]=ze>>18|240,ce[ie++]=ze>>12&63|128,ce[ie++]=ze>>6&63|128,ce[ie++]=63&ze|128):(ce[ie++]=ze>>12|224,ce[ie++]=ze>>6&63|128,ce[ie++]=63&ze|128)}return ce},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ve,ce){if(!Array.isArray(Ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let ze=0;ze<Ve.length;ze+=3){const ve=Ve[ze],z=ze+1<Ve.length,Ze=z?Ve[ze+1]:0,O=ze+2<Ve.length,W=O?Ve[ze+2]:0;let tt=(15&Ze)<<2|W>>6,ht=63&W;O||(ht=64,z||(tt=64)),Pe.push(ie[ve>>2],ie[(3&ve)<<4|Ze>>4],ie[tt],ie[ht])}return Pe.join("")},encodeString(Ve,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(Ve):this.encodeByteArray(ct(Ve),ce)},decodeString(Ve,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(Ve):function(Ve){const ce=[];let ie=0,Pe=0;for(;ie<Ve.length;){const ze=Ve[ie++];if(ze<128)ce[Pe++]=String.fromCharCode(ze);else if(ze>191&&ze<224){const ve=Ve[ie++];ce[Pe++]=String.fromCharCode((31&ze)<<6|63&ve)}else if(ze>239&&ze<365){const O=((7&ze)<<18|(63&Ve[ie++])<<12|(63&Ve[ie++])<<6|63&Ve[ie++])-65536;ce[Pe++]=String.fromCharCode(55296+(O>>10)),ce[Pe++]=String.fromCharCode(56320+(1023&O))}else{const ve=Ve[ie++],z=Ve[ie++];ce[Pe++]=String.fromCharCode((15&ze)<<12|(63&ve)<<6|63&z)}}return ce.join("")}(this.decodeStringToByteArray(Ve,ce))},decodeStringToByteArray(Ve,ce){this.init_();const ie=ce?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let ze=0;ze<Ve.length;){const ve=ie[Ve.charAt(ze++)],Ze=ze<Ve.length?ie[Ve.charAt(ze)]:0;++ze;const W=ze<Ve.length?ie[Ve.charAt(ze)]:64;++ze;const Ke=ze<Ve.length?ie[Ve.charAt(ze)]:64;if(++ze,null==ve||null==Ze||null==W||null==Ke)throw new Ae;Pe.push(ve<<2|Ze>>4),64!==W&&(Pe.push(Ze<<4&240|W>>2),64!==Ke&&Pe.push(W<<6&192|Ke))}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ve=0;Ve<this.ENCODED_VALS.length;Ve++)this.byteToCharMap_[Ve]=this.ENCODED_VALS.charAt(Ve),this.charToByteMap_[this.byteToCharMap_[Ve]]=Ve,this.byteToCharMapWebSafe_[Ve]=this.ENCODED_VALS_WEBSAFE.charAt(Ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ve]]=Ve,Ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ve)]=Ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ve)]=Ve)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(Ve){return function(Ve){const ce=ct(Ve);return fe.encodeByteArray(ce,!0)}(Ve).replace(/\./g,"")},He=function(Ve){try{return fe.decodeString(Ve,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function An(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Sn=()=>{try{return An().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ve=process.env.__FIREBASE_DEFAULTS__;return Ve?JSON.parse(Ve):void 0})()||(()=>{if(typeof document>"u")return;let Ve;try{Ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=Ve&&He(Ve[1]);return ce&&JSON.parse(ce)})()}catch(Ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ve}`)}},Ge=Ve=>{var ce,ie;return null===(ie=null===(ce=Sn())||void 0===ce?void 0:ce.emulatorHosts)||void 0===ie?void 0:ie[Ve]},Ot=Ve=>{const ce=Ge(Ve);if(!ce)return;const ie=ce.lastIndexOf(":");if(ie<=0||ie+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const Pe=parseInt(ce.substring(ie+1),10);return"["===ce[0]?[ce.substring(1,ie-1),Pe]:[ce.substring(0,ie),Pe]},Je=()=>{var Ve;return null===(Ve=Sn())||void 0===Ve?void 0:Ve.config},Et=Ve=>{var ce;return null===(ce=Sn())||void 0===ce?void 0:ce[`_${Ve}`]};class tn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,ie)=>{this.resolve=ce,this.reject=ie})}wrapCallback(ce){return(ie,Pe)=>{ie?this.reject(ie):this.resolve(Pe),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(ie):ce(ie,Pe))}}}function _t(Ve){try{return(Ve.startsWith("http://")||Ve.startsWith("https://")?new URL(Ve).hostname:Ve).endsWith(".cloudworkstations.dev")}catch{return!1}}function $t(Ve){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,L.A)(function*(Ve){return(yield fetch(Ve,{credentials:"include"})).ok})).apply(this,arguments)}function er(Ve,ce){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pe=ce||"demo-project",ze=Ve.iat||0,ve=Ve.sub||Ve.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const z=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:ze,exp:ze+3600,auth_time:ze,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},Ve);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(z)),""].join(".")}const On={};let st=!1;function Rn(Ve,ce){if(typeof window>"u"||typeof document>"u"||!_t(window.location.host)||On[Ve]===ce||On[Ve]||st)return;function ie(tt){return`__firebase__banner__${tt}`}On[Ve]=ce;const Pe="__firebase__banner",ve=function rr(){const Ve={prod:[],emulator:[]};for(const ce of Object.keys(On))On[ce]?Ve.emulator.push(ce):Ve.prod.push(ce);return Ve}().prod.length>0;function Ke(){const tt=function pr(Ve){let ce=document.getElementById(Ve),ie=!1;return ce||(ce=document.createElement("div"),ce.setAttribute("id",Ve),ie=!0),{created:ie,element:ce}}(Pe),ht=ie("text"),rn=document.getElementById(ht)||document.createElement("span"),gn=ie("learnmore"),Cn=document.getElementById(gn)||document.createElement("a"),Mr=ie("preprendIcon"),mr=document.getElementById(Mr)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(tt.created){const jr=tt.element;(function Ze(tt){tt.style.display="flex",tt.style.background="#7faaf0",tt.style.position="fixed",tt.style.bottom="5px",tt.style.left="5px",tt.style.padding=".5em",tt.style.borderRadius="5px",tt.style.alignItems="center"})(jr),function Z(tt,ht){tt.setAttribute("id",ht),tt.innerText="Learn more",tt.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",tt.setAttribute("target","__blank"),tt.style.paddingLeft="5px",tt.style.textDecoration="underline"}(Cn,gn);const Oi=function W(){const tt=document.createElement("span");return tt.style.cursor="pointer",tt.style.marginLeft="16px",tt.style.fontSize="24px",tt.innerHTML=" &times;",tt.onclick=()=>{st=!0,function z(){const tt=document.getElementById(Pe);tt&&tt.remove()}()},tt}();(function O(tt,ht){tt.setAttribute("width","24"),tt.setAttribute("id",ht),tt.setAttribute("height","24"),tt.setAttribute("viewBox","0 0 24 24"),tt.setAttribute("fill","none"),tt.style.marginLeft="-6px"})(mr,Mr),jr.append(mr,rn,Cn,Oi),document.body.appendChild(jr)}ve?(rn.innerText="Preview backend disconnected.",mr.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(mr.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',rn.innerText="Preview backend running in this workspace."),rn.setAttribute("id",ht)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",Ke):Ke()}function de(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function Lt(){var Ve;const ce=null===(Ve=Sn())||void 0===Ve?void 0:Ve.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function pe(){const Ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ve&&void 0!==Ve.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const Ve=de();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function Jt(){return!Lt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vn(){return!Lt()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ur(){try{return"object"==typeof indexedDB}catch{return!1}}function ft(){return new Promise((Ve,ce)=>{try{let ie=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",ze=self.indexedDB.open(Pe);ze.onsuccess=()=>{ze.result.close(),ie||self.indexedDB.deleteDatabase(Pe),Ve(!0)},ze.onupgradeneeded=()=>{ie=!1},ze.onerror=()=>{var ve;ce((null===(ve=ze.error)||void 0===ve?void 0:ve.message)||"")}}catch(ie){ce(ie)}})}function Ft(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class an extends Error{constructor(ce,ie,Pe){super(ie),this.code=ce,this.customData=Pe,this.name="FirebaseError",Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_r.prototype.create)}}class _r{constructor(ce,ie,Pe){this.service=ce,this.serviceName=ie,this.errors=Pe}create(ce,...ie){const Pe=ie[0]||{},ze=`${this.service}/${ce}`,ve=this.errors[ce],z=ve?function lr(Ve,ce){return Ve.replace(Zr,(ie,Pe)=>{const ze=ce[Pe];return null!=ze?String(ze):`<${Pe}?>`})}(ve,Pe):"Error";return new an(ze,`${this.serviceName}: ${z} (${ze}).`,Pe)}}const Zr=/\{\$([^}]+)}/g;function Xn(Ve){for(const ce in Ve)if(Object.prototype.hasOwnProperty.call(Ve,ce))return!1;return!0}function ln(Ve,ce){if(Ve===ce)return!0;const ie=Object.keys(Ve),Pe=Object.keys(ce);for(const ze of ie){if(!Pe.includes(ze))return!1;const ve=Ve[ze],z=ce[ze];if(Ht(ve)&&Ht(z)){if(!ln(ve,z))return!1}else if(ve!==z)return!1}for(const ze of Pe)if(!ie.includes(ze))return!1;return!0}function Ht(Ve){return null!==Ve&&"object"==typeof Ve}function Gn(Ve){const ce=[];for(const[ie,Pe]of Object.entries(Ve))Array.isArray(Pe)?Pe.forEach(ze=>{ce.push(encodeURIComponent(ie)+"="+encodeURIComponent(ze))}):ce.push(encodeURIComponent(ie)+"="+encodeURIComponent(Pe));return ce.length?"&"+ce.join("&"):""}function sr(Ve){const ce={};return Ve.replace(/^\?/,"").split("&").forEach(Pe=>{if(Pe){const[ze,ve]=Pe.split("=");ce[decodeURIComponent(ze)]=decodeURIComponent(ve)}}),ce}function Pr(Ve){const ce=Ve.indexOf("?");if(!ce)return"";const ie=Ve.indexOf("#",ce);return Ve.substring(ce,ie>0?ie:void 0)}function Jr(Ve,ce){const ie=new Ur(Ve,ce);return ie.subscribe.bind(ie)}class Ur{constructor(ce,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{ce(this)}).catch(Pe=>{this.error(Pe)})}next(ce){this.forEachObserver(ie=>{ie.next(ce)})}error(ce){this.forEachObserver(ie=>{ie.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,ie,Pe){let ze;if(void 0===ce&&void 0===ie&&void 0===Pe)throw new Error("Missing Observer.");ze=function xr(Ve,ce){if("object"!=typeof Ve||null===Ve)return!1;for(const ie of ce)if(ie in Ve&&"function"==typeof Ve[ie])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:ie,complete:Pe},void 0===ze.next&&(ze.next=yr),void 0===ze.error&&(ze.error=yr),void 0===ze.complete&&(ze.complete=yr);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ze.error(this.finalError):ze.complete()}catch{}}),this.observers.push(ze),ve}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,ce)}sendOne(ce,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{ie(this.observers[ce])}catch(Pe){typeof console<"u"&&console.error&&console.error(Pe)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}const pn=1e3,bn=2,dr=144e5,ir=.5;function Ir(Ve,ce=pn,ie=bn){const Pe=ce*Math.pow(ie,Ve),ze=Math.round(ir*Pe*(Math.random()-.5)*2);return Math.min(dr,Pe+ze)}function Ii(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}},5122:(Hn,vt,I)=>{I.d(vt,{F:()=>a,m:()=>B});var L=I(560);function a(..._e){return B(_e)}function B(_e){return 0===_e.length?L.D:1===_e.length?_e[0]:function(ct){return _e.reduce((j,fe)=>fe(j),ct)}}},5155:(Hn,vt,I)=>{I.d(vt,{Wk:()=>Tr,wQ:()=>$n,iI:()=>ci,lh:()=>or});var L=I(649),a=I(9125),B=I(2425),_e=I(1698);let j=(()=>{class J{static \u0275prov=(0,_e.jDH)({token:J,providedIn:"root",factory:()=>new fe((0,_e.WQX)(_e.qQL),window)})}return J})();class fe{document;window;offset=()=>[0,0];constructor(Me,Ie){this.document=Me,this.window=Ie}setOffset(Me){this.offset=Array.isArray(Me)?()=>Me:Me}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Me,Ie){this.window.scrollTo({...Ie,left:Me[0],top:Me[1]})}scrollToAnchor(Me,Ie){const je=function Ae(J,Me){const Ie=J.getElementById(Me)||J.getElementsByName(Me)[0];if(Ie)return Ie;if("function"==typeof J.createTreeWalker&&J.body&&"function"==typeof J.body.attachShadow){const je=J.createTreeWalker(J.body,NodeFilter.SHOW_ELEMENT);let At=je.currentNode;for(;At;){const Zt=At.shadowRoot;if(Zt){const In=Zt.getElementById(Me)||Zt.querySelector(`[name="${Me}"]`);if(In)return In}At=je.nextNode()}}return null}(this.document,Me);je&&(this.scrollToElement(je,Ie),je.focus())}setHistoryScrollRestoration(Me){this.window.history.scrollRestoration=Me}scrollToElement(Me,Ie){const je=Me.getBoundingClientRect(),At=je.left+this.window.pageXOffset,Zt=je.top+this.window.pageYOffset,In=this.offset();this.window.scrollTo({...Ie,left:At-In[0],top:Zt-In[1]})}}var tt=I(9075),ht=I(7385),rn=I(6481),gn=I(305),Cn=I(579),Mr=I(204),mr=I(3840),jr=I(2662),Oi=I(9295),Ni=I(175),li=I(433);let Tr=(()=>{class J{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=(0,_e.vPA)(null);get href(){return(0,rn.O8)(this.reactiveHref)}set href(Ie){this.reactiveHref.set(Ie)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Cn.B;applicationErrorHandler=(0,_e.WQX)(_e.ZTf);options=(0,_e.WQX)(gn.J_,{optional:!0});constructor(Ie,je,At,Zt,In,cr){this.router=Ie,this.route=je,this.tabIndexAttribute=At,this.renderer=Zt,this.el=In,this.locationStrategy=cr,this.reactiveHref.set((0,_e.WQX)(new B.ES_("href"),{optional:!0}));const Br=In.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Br||"area"===Br||!("object"!=typeof customElements||!customElements.get(Br)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(void 0!==this.subscription||!this.isAnchorElement)return;let Ie=this.preserveFragment;const je=At=>"merge"===At||"preserve"===At;Ie||=je(this.queryParamsHandling),Ie||=!this.queryParamsHandling&&!je(this.options?.defaultQueryParamsHandling),Ie&&(this.subscription=this.router.events.subscribe(At=>{At instanceof gn.wF&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Ie){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ie)}ngOnChanges(Ie){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Ie){null==Ie?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,gn.wO)(Ie)||Array.isArray(Ie)?Ie:[Ie],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ie,je,At,Zt,In){const cr=this.urlTree;if(null===cr||this.isAnchorElement&&(0!==Ie||je||At||Zt||In||"string"==typeof this.target&&"_self"!=this.target))return!0;const Br={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(cr,Br)?.catch(ki=>{this.applicationErrorHandler(ki)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ie=this.urlTree;this.reactiveHref.set(null!==Ie&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ie))??"":null)}applyAttributeValue(Ie,je){const At=this.renderer,Zt=this.el.nativeElement;null!==je?At.setAttribute(Zt,Ie,je):At.removeAttribute(Zt,Ie)}get urlTree(){return null===this.routerLinkInput?null:(0,gn.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(je){return new(je||J)(ht.rXU(gn.Ix),ht.rXU(gn.nX),ht.kS0("tabindex"),ht.rXU(ht.sFG),ht.rXU(ht.aKT),ht.rXU(a.hb))};static \u0275dir=ht.FsC({type:J,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(je,At){1&je&&ht.bIt("click",function(In){return At.onClick(In.button,In.ctrlKey,In.shiftKey,In.altKey,In.metaKey)}),2&je&&ht.BMQ("href",At.reactiveHref(),ht.n$t)("target",At.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",B.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",B.L39],replaceUrl:[2,"replaceUrl","replaceUrl",B.L39],routerLink:"routerLink"},features:[ht.OA$]})}return J})(),$n=(()=>{class J{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ht.bkB;constructor(Ie,je,At,Zt,In){this.router=Ie,this.element=je,this.renderer=At,this.cdr=Zt,this.link=In,this.routerEventsSubscription=Ie.events.subscribe(cr=>{cr instanceof gn.wF&&this.update()})}ngAfterContentInit(){(0,Mr.of)(this.links.changes,(0,Mr.of)(null)).pipe((0,jr.U)()).subscribe(Ie=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Ie=[...this.links.toArray(),this.link].filter(je=>!!je).map(je=>je.onChanges);this.linkInputChangesSubscription=(0,mr.H)(Ie).pipe((0,jr.U)()).subscribe(je=>{this._isActive!==this.isLinkActive(this.router)(je)&&this.update()})}set routerLinkActive(Ie){const je=Array.isArray(Ie)?Ie:Ie.split(" ");this.classes=je.filter(At=>!!At)}ngOnChanges(Ie){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Ie=this.hasActiveLinks();this.classes.forEach(je=>{Ie?this.renderer.addClass(this.element.nativeElement,je):this.renderer.removeClass(this.element.nativeElement,je)}),Ie&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Ie&&(this._isActive=Ie,this.cdr.markForCheck(),this.isActiveChange.emit(Ie))})}isLinkActive(Ie){const je=function ii(J){return!!J.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return At=>{const Zt=At.urlTree;return!!Zt&&Ie.isActive(Zt,je)}}hasActiveLinks(){const Ie=this.isLinkActive(this.router);return this.link&&Ie(this.link)||this.links.some(Ie)}static \u0275fac=function(je){return new(je||J)(ht.rXU(gn.Ix),ht.rXU(ht.aKT),ht.rXU(ht.sFG),ht.rXU(B.gRc),ht.rXU(Tr,8))};static \u0275dir=ht.FsC({type:J,selectors:[["","routerLinkActive",""]],contentQueries:function(je,At,Zt){if(1&je&&ht.wni(Zt,Tr,5),2&je){let In;ht.mGM(In=ht.lsd())&&(At.links=In)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ht.OA$]})}return J})();class Pi{}let Pt=(()=>{class J{router;injector;preloadingStrategy;loader;subscription;constructor(Ie,je,At,Zt){this.router=Ie,this.injector=je,this.preloadingStrategy=At,this.loader=Zt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oi.p)(Ie=>Ie instanceof gn.wF),(0,Ni.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ie,je){const At=[];for(const Zt of je){Zt.providers&&!Zt._injector&&(Zt._injector=(0,ht.Ol2)(Zt.providers,Ie,`Route: ${Zt.path}`));const In=Zt._injector??Ie,cr=Zt._loadedInjector??In;(Zt.loadChildren&&!Zt._loadedRoutes&&void 0===Zt.canLoad||Zt.loadComponent&&!Zt._loadedComponent)&&At.push(this.preloadConfig(In,Zt)),(Zt.children||Zt._loadedRoutes)&&At.push(this.processRoutes(cr,Zt.children??Zt._loadedRoutes))}return(0,mr.H)(At).pipe((0,jr.U)())}preloadConfig(Ie,je){return this.preloadingStrategy.preload(je,()=>{let At;At=je.loadChildren&&void 0===je.canLoad?this.loader.loadChildren(Ie,je):(0,Mr.of)(null);const Zt=At.pipe((0,li.Z)(In=>null===In?(0,Mr.of)(void 0):(je._loadedRoutes=In.routes,je._loadedInjector=In.injector,this.processRoutes(In.injector??Ie,In.routes))));if(je.loadComponent&&!je._loadedComponent){const In=this.loader.loadComponent(je);return(0,mr.H)([Zt,In]).pipe((0,jr.U)())}return Zt})}static \u0275fac=function(je){return new(je||J)(_e.KVO(gn.Ix),_e.KVO(_e.uvJ),_e.KVO(Pi),_e.KVO(gn.D$))};static \u0275prov=_e.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();const dn=new _e.nKC("");let Pn=(()=>{class J{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=gn.wU;restoredId=0;store={};constructor(Ie,je,At,Zt,In={}){this.urlSerializer=Ie,this.transitions=je,this.viewportScroller=At,this.zone=Zt,this.options=In,In.scrollPositionRestoration||="disabled",In.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ie=>{Ie instanceof gn.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ie.navigationTrigger,this.restoredId=Ie.restoredState?Ie.restoredState.navigationId:0):Ie instanceof gn.wF?(this.lastId=Ie.id,this.scheduleScrollEvent(Ie,this.urlSerializer.parse(Ie.urlAfterRedirects).fragment)):Ie instanceof gn.lW&&Ie.code===gn.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ie,this.urlSerializer.parse(Ie.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ie=>{Ie instanceof gn.OY&&(Ie.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ie.position):Ie.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ie.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ie,je){var At=this;this.zone.runOutsideAngular((0,L.A)(function*(){yield new Promise(Zt=>{setTimeout(Zt),typeof requestAnimationFrame<"u"&&requestAnimationFrame(Zt)}),At.zone.run(()=>{At.transitions.events.next(new gn.OY(Ie,"popstate"===At.lastSource?At.store[At.restoredId]:null,je))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(je){ht.QTQ()};static \u0275prov=_e.jDH({token:J,factory:J.\u0275fac})}return J})();function or(J,...Me){return(0,_e.EmA)([{provide:gn.bw,multi:!0,useValue:J},[],{provide:gn.nX,useFactory:Ar,deps:[gn.Ix]},{provide:ht.iLQ,multi:!0,useFactory:Ut},Me.map(Ie=>Ie.\u0275providers)])}function Ar(J){return J.routerState.root}function ue(J,Me){return{\u0275kind:J,\u0275providers:Me}}function Ut(){const J=(0,_e.WQX)(_e.zZn);return Me=>{const Ie=J.get(ht.o8S);if(Me!==Ie.components[0])return;const je=J.get(gn.Ix),At=J.get(ar);1===J.get(Dr)&&je.initialNavigation(),J.get(bi,null,{optional:!0})?.setUpPreloading(),J.get(dn,null,{optional:!0})?.init(),je.resetRootComponentType(Ie.componentTypes[0]),At.closed||(At.next(),At.complete(),At.unsubscribe())}}const ar=new _e.nKC("",{factory:()=>new Cn.B}),Dr=new _e.nKC("",{providedIn:"root",factory:()=>1}),bi=new _e.nKC("");function ti(J){return ue(0,[{provide:bi,useExisting:Pt},{provide:Pi,useExisting:J}])}function dt(J){return(0,ht._jY)("NgRouterViewTransitions"),ue(9,[{provide:gn.Pu,useValue:gn.Lg},{provide:gn.bK,useValue:{skipNextTransition:!!J?.skipInitialTransition,...J}}])}const qn=[a.aZ,{provide:gn.Sd,useClass:gn.nU},gn.Ix,gn.Zp,{provide:gn.nX,useFactory:Ar,deps:[gn.Ix]},gn.D$,[]];let ci=(()=>{class J{constructor(){}static forRoot(Ie,je){return{ngModule:J,providers:[qn,[],{provide:gn.bw,multi:!0,useValue:Ie},[],je?.errorHandler?{provide:gn.XR,useValue:je.errorHandler}:[],{provide:gn.J_,useValue:je||{}},je?.useHash?{provide:a.hb,useClass:tt.fw}:{provide:a.hb,useClass:a.Sm},{provide:dn,useFactory:()=>{const J=(0,_e.WQX)(j),Me=(0,_e.WQX)(ht.SKi),Ie=(0,_e.WQX)(gn.J_),je=(0,_e.WQX)(gn.J2),At=(0,_e.WQX)(gn.Sd);return Ie.scrollOffset&&J.setOffset(Ie.scrollOffset),new Pn(At,je,J,Me,Ie)}},je?.preloadingStrategy?ti(je.preloadingStrategy).\u0275providers:[],je?.initialNavigation?hi(je):[],je?.bindToComponentInputs?ue(8,[gn.tD,{provide:gn.c1,useExisting:gn.tD}]).\u0275providers:[],je?.enableViewTransitions?dt().\u0275providers:[],[{provide:Ti,useFactory:Ut},{provide:ht.iLQ,multi:!0,useExisting:Ti}]]}}static forChild(Ie){return{ngModule:J,providers:[{provide:gn.bw,multi:!0,useValue:Ie}]}}static \u0275fac=function(je){return new(je||J)};static \u0275mod=ht.$C({type:J});static \u0275inj=_e.G2t({})}return J})();function hi(J){return["disabled"===J.initialNavigation?ue(3,[(0,ht.phd)(()=>{(0,_e.WQX)(gn.Ix).setUpLocationChangeListener()}),{provide:Dr,useValue:2}]).\u0275providers:[],"enabledBlocking"===J.initialNavigation?ue(2,[{provide:Dr,useValue:0},(0,ht.phd)(()=>{const Me=(0,_e.WQX)(_e.zZn);return Me.get(a.hj,Promise.resolve()).then(()=>new Promise(je=>{const At=Me.get(gn.Ix),Zt=Me.get(ar);(0,gn.gk)(At,()=>{je(!0)}),Me.get(gn.J2).afterPreactivation=()=>(je(!0),Zt.closed?(0,Mr.of)(void 0):Zt),At.initialNavigation()}))})]).\u0275providers:[]]}const Ti=new _e.nKC("")},5270:(Hn,vt,I)=>{I.d(vt,{wc:()=>eo,c7:()=>Hi,Xm:()=>Jn});var L=I(8424),a=I(1698),B=I(7385),_e=I(2474),$e=I(1465),ct=I(1767),j=I(8813),fe=I(649),Ae=I(1572),Ce=I(5099),ye=I(9333);const He="firebasestorage.googleapis.com";class _n extends Ce.g{constructor(Q,Ue,it=0){super(wn(Q),`Firebase Storage: ${Ue} (${wn(Q)})`),this.status_=it,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return wn(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var yt=function(X){return X.UNKNOWN="unknown",X.OBJECT_NOT_FOUND="object-not-found",X.BUCKET_NOT_FOUND="bucket-not-found",X.PROJECT_NOT_FOUND="project-not-found",X.QUOTA_EXCEEDED="quota-exceeded",X.UNAUTHENTICATED="unauthenticated",X.UNAUTHORIZED="unauthorized",X.UNAUTHORIZED_APP="unauthorized-app",X.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",X.INVALID_CHECKSUM="invalid-checksum",X.CANCELED="canceled",X.INVALID_EVENT_NAME="invalid-event-name",X.INVALID_URL="invalid-url",X.INVALID_DEFAULT_BUCKET="invalid-default-bucket",X.NO_DEFAULT_BUCKET="no-default-bucket",X.CANNOT_SLICE_BLOB="cannot-slice-blob",X.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",X.NO_DOWNLOAD_URL="no-download-url",X.INVALID_ARGUMENT="invalid-argument",X.INVALID_ARGUMENT_COUNT="invalid-argument-count",X.APP_DELETED="app-deleted",X.INVALID_ROOT_OPERATION="invalid-root-operation",X.INVALID_FORMAT="invalid-format",X.INTERNAL_ERROR="internal-error",X.UNSUPPORTED_ENVIRONMENT="unsupported-environment",X}(yt||{});function wn(X){return"storage/"+X}function de(X){return new _n(yt.INVALID_ARGUMENT,X)}function at(){return new _n(yt.APP_DELETED,"The Firebase app was deleted.")}class Ne{constructor(Q,Ue){this.bucket=Q,this.path_=Ue}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,Ue){let it;try{it=Ne.makeFromUrl(Q,Ue)}catch{return new Ne(Q,"")}if(""===it.path)return it;throw function er(X){return new _n(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+X+"'.")}(Q)}static makeFromUrl(Q,Ue){let it=null;const Rt="([A-Za-z0-9.\\-_]+)",hr=new RegExp("^gs://"+Rt+"(/(.*))?$","i");function vi(kn){kn.path_=decodeURIComponent(kn.path)}const lo=Ue.replace(/[.]/g,"\\."),jn=[{regex:hr,indices:{bucket:1,path:3},postModify:function qt(kn){"/"===kn.path.charAt(kn.path.length-1)&&(kn.path_=kn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${lo}/v[A-Za-z0-9_]+/b/${Rt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:vi},{regex:new RegExp(`^https?://${Ue===He?"(?:storage.googleapis.com|storage.cloud.google.com)":Ue}/${Rt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:vi}];for(let kn=0;kn<jn.length;kn++){const Qn=jn[kn],fr=Qn.regex.exec(Q);if(fr){let Mi=fr[Qn.indices.path];Mi||(Mi=""),it=new Ne(fr[Qn.indices.bucket],Mi),Qn.postModify(it);break}}if(null==it)throw function Tn(X){return new _n(yt.INVALID_URL,"Invalid URL '"+X+"'.")}(Q);return it}}class pe{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function ft(X,Q,Ue,it){if(it<Q)throw de(`Invalid value for '${X}'. Expected ${Q} or greater.`);if(it>Ue)throw de(`Invalid value for '${X}'. Expected ${Ue} or less.`)}var an=function(X){return X[X.NO_ERROR=0]="NO_ERROR",X[X.NETWORK_ERROR=1]="NETWORK_ERROR",X[X.ABORT=2]="ABORT",X}(an||{});class lr{constructor(Q,Ue,it,Rt,qt,Ln,hr,zn,vi,Di,lo,zi=!0,To=!1){this.url_=Q,this.method_=Ue,this.headers_=it,this.body_=Rt,this.successCodes_=qt,this.additionalRetryCodes_=Ln,this.callback_=hr,this.errorCallback_=zn,this.timeout_=vi,this.progressCallback_=Di,this.connectionFactory_=lo,this.retry=zi,this.isUsingEmulator=To,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ee,me)=>{this.resolve_=Ee,this.reject_=me,this.start_()})}start_(){const Ue=(it,Rt)=>{const qt=this.resolve_,Ln=this.reject_,hr=Rt.connection;if(Rt.wasSuccessCode)try{const zn=this.callback_(hr,hr.getResponse());!function Le(X){return void 0!==X}(zn)?qt():qt(zn)}catch(zn){Ln(zn)}else if(null!==hr){const zn=function Sn(){return new _n(yt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();zn.serverResponse=hr.getErrorText(),Ln(this.errorCallback_?this.errorCallback_(hr,zn):zn)}else Ln(Rt.canceled?this.appDelete_?at():function $t(){return new _n(yt.CANCELED,"User canceled the upload/download.")}():function _t(){return new _n(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Ue(0,new Zr(!1,null,!0)):this.backoffId_=function et(X,Q,Ue){let it=1,Rt=null,qt=null,Ln=!1,hr=0;function zn(){return 2===hr}let vi=!1;function Di(...Xe){vi||(vi=!0,Q.apply(null,Xe))}function lo(Xe){Rt=setTimeout(()=>{Rt=null,X(To,zn())},Xe)}function zi(){qt&&clearTimeout(qt)}function To(Xe,...Wt){if(vi)return void zi();if(Xe)return zi(),void Di.call(null,Xe,...Wt);if(zn()||Ln)return zi(),void Di.call(null,Xe,...Wt);let jn;it<64&&(it*=2),1===hr?(hr=2,jn=0):jn=1e3*(it+Math.random()),lo(jn)}let Ee=!1;function me(Xe){Ee||(Ee=!0,zi(),!vi&&(null!==Rt?(Xe||(hr=2),clearTimeout(Rt),lo(0)):Xe||(hr=1)))}return lo(0),qt=setTimeout(()=>{Ln=!0,me(!0)},Ue),me}((it,Rt)=>{if(Rt)return void it(!1,new Zr(!1,null,!0));const qt=this.connectionFactory_();this.pendingConnection_=qt;const Ln=hr=>{null!==this.progressCallback_&&this.progressCallback_(hr.loaded,hr.lengthComputable?hr.total:-1)};null!==this.progressCallback_&&qt.addUploadProgressListener(Ln),qt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&qt.removeUploadProgressListener(Ln),this.pendingConnection_=null;const hr=qt.getErrorCode()===an.NO_ERROR,zn=qt.getStatus();if(!hr||function _r(X,Q){const Ue=X>=500&&X<600,Rt=-1!==[408,429].indexOf(X),qt=-1!==Q.indexOf(X);return Ue||Rt||qt}(zn,this.additionalRetryCodes_)&&this.retry){const Di=qt.getErrorCode()===an.ABORT;return void it(!1,new Zr(!1,null,Di))}const vi=-1!==this.successCodes_.indexOf(zn);it(!0,new Zr(vi,qt))})},Ue,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function Ye(X){X(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zr{constructor(Q,Ue,it){this.wasSuccessCode=Q,this.connection=Ue,this.canceled=!!it}}class qe{constructor(Q,Ue){this._service=Q,this._location=Ue instanceof Ne?Ue:Ne.makeFromUrl(Ue,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,Ue){return new qe(Q,Ue)}get root(){const Q=new Ne(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function br(X){const Q=X.lastIndexOf("/",X.length-2);return-1===Q?X:X.slice(Q+1)}(this._location.path)}get storage(){return this._service}get parent(){const Q=function xr(X){if(0===X.length)return null;const Q=X.lastIndexOf("/");return-1===Q?"":X.slice(0,Q)}(this._location.path);if(null===Q)return null;const Ue=new Ne(this._location.bucket,Q);return new qe(this._service,Ue)}_throwIfRoot(Q){if(""===this._location.path)throw function Lt(X){return new _n(yt.INVALID_ROOT_OPERATION,"The operation '"+X+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(Q)}}function ci(X,Q){const Ue=Q?.storageBucket;return null==Ue?null:Ne.makeFromBucketSpec(Ue,X)}class Si{constructor(Q,Ue,it,Rt,qt,Ln=!1){this.app=Q,this._authProvider=Ue,this._appCheckProvider=it,this._url=Rt,this._firebaseVersion=qt,this._isUsingEmulator=Ln,this._bucket=null,this._host=He,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Rt?Ne.makeFromBucketSpec(Rt,this._host):ci(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Ne.makeFromBucketSpec(this._url,Q):ci(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){ft("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){ft("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,fe.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const Ue=Q._authProvider.getImmediate({optional:!0});if(Ue){const it=yield Ue.getToken();if(null!==it)return it.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,fe.A)(function*(){if((0,Ae.xZ)(Q.app)&&Q.app.settings.appCheckToken)return Q.app.settings.appCheckToken;const Ue=Q._appCheckProvider.getImmediate({optional:!0});return Ue?(yield Ue.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new qe(this,Q)}_makeRequest(Q,Ue,it,Rt,qt=!0){if(this._deleted)return new pe(at());{const Ln=function Xr(X,Q,Ue,it,Rt,qt,Ln=!0,hr=!1){const zn=function En(X){const Q=encodeURIComponent;let Ue="?";for(const it in X)X.hasOwnProperty(it)&&(Ue=Ue+(Q(it)+"=")+Q(X[it])+"&");return Ue=Ue.slice(0,-1),Ue}(X.urlParams),vi=X.url+zn,Di=Object.assign({},X.headers);return function Vn(X,Q){Q&&(X["X-Firebase-GMPID"]=Q)}(Di,Q),function Kr(X,Q){null!==Q&&Q.length>0&&(X.Authorization="Firebase "+Q)}(Di,Ue),function mi(X,Q){X["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(Di,qt),function Ci(X,Q){null!==Q&&(X["X-Firebase-AppCheck"]=Q)}(Di,it),new lr(vi,X.method,Di,X.body,X.successCodes,X.additionalRetryCodes,X.handler,X.errorHandler,X.timeout,X.progressCallback,Rt,Ln,hr)}(Q,this._appId,it,Rt,Ue,this._firebaseVersion,qt,this._isUsingEmulator);return this._requests.add(Ln),Ln.getPromise().then(()=>this._requests.delete(Ln),()=>this._requests.delete(Ln)),Ln}}makeRequestWithTokens(Q,Ue){var it=this;return(0,fe.A)(function*(){const[Rt,qt]=yield Promise.all([it._getAuthToken(),it._getAppCheckToken()]);return it._makeRequest(Q,Ue,Rt,qt).getPromise()})()}}const ui="@firebase/storage",ji="0.13.14",hi="storage";function Fi(X=(0,Ae.Sx)(),Q){X=(0,Ce.Ku)(X);const it=(0,Ae.j6)(X,hi).getImmediate({identifier:Q}),Rt=(0,Ce.yU)("storage");return Rt&&function Ai(X,Q,Ue,it={}){!function di(X,Q,Ue,it={}){X.host=`${Q}:${Ue}`;const Rt=(0,Ce.zJ)(Q);Rt&&((0,Ce.gE)(`https://${X.host}/b`),(0,Ce.P1)("Storage",!0)),X._isUsingEmulator=!0,X._protocol=Rt?"https":"http";const{mockUserToken:qt}=it;qt&&(X._overrideAuthToken="string"==typeof qt?qt:(0,Ce.Fy)(qt,X.app.options.projectId))}(X,Q,Ue,it)}(it,...Rt),it}function ro(X,{instanceIdentifier:Q}){const Ue=X.getProvider("app").getImmediate(),it=X.getProvider("auth-internal"),Rt=X.getProvider("app-check-internal");return new Si(Ue,it,Rt,Q,Ae.MF)}!function Ro(){(0,Ae.om)(new ye.uA(hi,ro,"PUBLIC").setMultipleInstances(!0)),(0,Ae.KO)(ui,ji,""),(0,Ae.KO)(ui,ji,"esm2017")}();class eo{constructor(Q){return Q}}const Ji="storage",U=new a.nKC("angularfire2.storage-instances");function xe(X){return(Q,Ue)=>{const it=Q.runOutsideAngular(()=>X(Ue));return new eo(it)}}const Tt={provide:class Ko{constructor(){return(0,L.CA)(Ji)}},deps:[[new B.Xx1,U]]},Gt={provide:eo,useFactory:function re(X,Q){const Ue=(0,L.lR)(Ji,X,Q);return Ue&&new eo(Ue)},deps:[[new B.Xx1,U],_e.XU]};function Jn(X,...Q){return(0,j.KO)("angularfire",L.xv.full,"gcs"),(0,a.EmA)([Gt,Tt,{provide:U,useFactory:xe(X),multi:!0,deps:[B.SKi,a.zZn,L.u0,_e.gL,[new B.Xx1,ct.DF],[new B.Xx1,$e.kR],...Q]}])}const Hi=(0,L.S3)(Fi,!0)},5356:(Hn,vt,I)=>{I.d(vt,{l:()=>a});const a=function L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5482:(Hn,vt,I)=>{function _e(Be,ge){var Ne={};for(var pe in Be)Object.prototype.hasOwnProperty.call(Be,pe)&&ge.indexOf(pe)<0&&(Ne[pe]=Be[pe]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(pe=Object.getOwnPropertySymbols(Be);et<pe.length;et++)ge.indexOf(pe[et])<0&&Object.prototype.propertyIsEnumerable.call(Be,pe[et])&&(Ne[pe[et]]=Be[pe[et]])}return Ne}function He(Be,ge,Ne,pe){return new(Ne||(Ne=Promise))(function(Ye,Le){function Re(vn){try{Jt(pe.next(vn))}catch(ur){Le(ur)}}function sn(vn){try{Jt(pe.throw(vn))}catch(ur){Le(ur)}}function Jt(vn){vn.done?Ye(vn.value):function et(Ye){return Ye instanceof Ne?Ye:new Ne(function(Le){Le(Ye)})}(vn.value).then(Re,sn)}Jt((pe=pe.apply(Be,ge||[])).next())})}function Ge(Be){return this instanceof Ge?(this.v=Be,this):new Ge(Be)}function Ot(Be,ge,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,pe=Ne.apply(Be,ge||[]),Ye=[];return et=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Re("next"),Re("throw"),Re("return",function Le(Ft){return function(En){return Promise.resolve(En).then(Ft,ur)}}),et[Symbol.asyncIterator]=function(){return this},et;function Re(Ft,En){pe[Ft]&&(et[Ft]=function(an){return new Promise(function(_r,lr){Ye.push([Ft,an,_r,lr])>1||sn(Ft,an)})},En&&(et[Ft]=En(et[Ft])))}function sn(Ft,En){try{!function Jt(Ft){Ft.value instanceof Ge?Promise.resolve(Ft.value.v).then(vn,ur):ft(Ye[0][2],Ft)}(pe[Ft](En))}catch(an){ft(Ye[0][3],an)}}function vn(Ft){sn("next",Ft)}function ur(Ft){sn("throw",Ft)}function ft(Ft,En){Ft(En),Ye.shift(),Ye.length&&sn(Ye[0][0],Ye[0][1])}}function Et(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ge=Be[Symbol.asyncIterator];return ge?ge.call(Be):(Be=function An(Be){var ge="function"==typeof Symbol&&Symbol.iterator,Ne=ge&&Be[ge],pe=0;if(Ne)return Ne.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&pe>=Be.length&&(Be=void 0),{value:Be&&Be[pe++],done:!Be}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Be),Ne={},pe("next"),pe("throw"),pe("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function pe(Ye){Ne[Ye]=Be[Ye]&&function(Le){return new Promise(function(Re,sn){!function et(Ye,Le,Re,sn){Promise.resolve(sn).then(function(Jt){Ye({value:Jt,done:Re})},Le)}(Re,sn,(Le=Be[Ye](Le)).done,Le.value)})}}}I.d(vt,{AQ:()=>Ot,N3:()=>Ge,Tt:()=>_e,sH:()=>He,xN:()=>Et}),"function"==typeof SuppressedError&&SuppressedError},5967:(Hn,vt,I)=>{I.d(vt,{s:()=>L});const L="function"==typeof Symbol&&Symbol.observable||"@@observable"},6031:(Hn,vt,I)=>{I.d(vt,{z:()=>Ce});var L=I(7014),a=I(6032),B=I(3840),_e=I(560),$e=I(1139),ct=I(6579),j=I(3773),fe=I(5015),Ae=I(902);function Ce(...kt){const zt=(0,ct.lI)(kt),Xt=(0,ct.ms)(kt),{args:An,keys:_n}=(0,a.D)(kt);if(0===An.length)return(0,B.H)([],zt);const yt=new L.c(function ye(kt,zt,Xt=_e.D){return An=>{He(zt,()=>{const{length:_n}=kt,yt=new Array(_n);let wn=_n,Sn=_n;for(let Ge=0;Ge<_n;Ge++)He(zt,()=>{const Ot=(0,B.H)(kt[Ge],zt);let Je=!1;Ot.subscribe((0,fe._)(An,Et=>{yt[Ge]=Et,Je||(Je=!0,Sn--),Sn||An.next(Xt(yt.slice()))},()=>{--wn||An.complete()}))},An)},An)}}(An,zt,_n?wn=>(0,j.e)(_n,wn):_e.D));return Xt?yt.pipe((0,$e.I)(Xt)):yt}function He(kt,zt,Xt){kt?(0,Ae.N)(Xt,kt,zt):zt()}},6032:(Hn,vt,I)=>{I.d(vt,{D:()=>$e});const{isArray:L}=Array,{getPrototypeOf:a,prototype:B,keys:_e}=Object;function $e(j){if(1===j.length){const fe=j[0];if(L(fe))return{args:fe,keys:null};if(function ct(j){return j&&"object"==typeof j&&a(j)===B}(fe)){const Ae=_e(fe);return{args:Ae.map(Ce=>fe[Ce]),keys:Ae}}}return{args:j,keys:null}}},6078:(Hn,vt,I)=>{function L(j,fe){fe=encodeURIComponent(fe);for(const Ae of j.split(";")){const Ce=Ae.indexOf("="),[ye,He]=-1==Ce?[Ae,""]:[Ae.slice(0,Ce),Ae.slice(Ce+1)];if(ye.trim()===fe)return decodeURIComponent(He)}return null}I.d(vt,{N0:()=>ct,UE:()=>_e,Vy:()=>$e,Zn:()=>a,bS:()=>L});const a="browser",B="server";function _e(j){return j===a}function $e(j){return j===B}class ct{}},6273:(Hn,vt,I)=>{I.d(vt,{J:()=>B});var L=I(3731),a=I(5015);function B(){return(0,L.N)((_e,$e)=>{let ct,j=!1;_e.subscribe((0,a._)($e,fe=>{const Ae=ct;ct=fe,j&&$e.next([Ae,fe]),j=!0}))})}},6370:(Hn,vt,I)=>{I.d(vt,{R:()=>$e});var L=I(1896);class a extends L.yU{constructor(j,fe){super()}schedule(j,fe=0){return this}}const B={setInterval(ct,j,...fe){const{delegate:Ae}=B;return Ae?.setInterval?Ae.setInterval(ct,j,...fe):setInterval(ct,j,...fe)},clearInterval(ct){const{delegate:j}=B;return(j?.clearInterval||clearInterval)(ct)},delegate:void 0};var _e=I(359);class $e extends a{constructor(j,fe){super(j,fe),this.scheduler=j,this.work=fe,this.pending=!1}schedule(j,fe=0){var Ae;if(this.closed)return this;this.state=j;const Ce=this.id,ye=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(ye,Ce,fe)),this.pending=!0,this.delay=fe,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(ye,this.id,fe),this}requestAsyncId(j,fe,Ae=0){return B.setInterval(j.flush.bind(j,this),Ae)}recycleAsyncId(j,fe,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return fe;null!=fe&&B.clearInterval(fe)}execute(j,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(j,fe);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,fe){let Ce,Ae=!1;try{this.work(j)}catch(ye){Ae=!0,Ce=ye||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),Ce}unsubscribe(){if(!this.closed){const{id:j,scheduler:fe}=this,{actions:Ae}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.o)(Ae,this),null!=j&&(this.id=this.recycleAsyncId(fe,j,null)),this.delay=null,super.unsubscribe()}}}},6391:(Hn,vt,I)=>{I.d(vt,{ah:()=>Ft,Uz:()=>Gr,LQ:()=>Xr});var L=I(1698),a=I(7385),B=I(8424),_e=I(2474),$e=I(1465),ct=I(1767),j=I(8813),fe=I(649),Ae=I(1572),Ce=I(5099),ye=I(9333);const _n="functions";class Ot{constructor(ln,Ht,It,Gn){this.app=ln,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,(0,Ae.xZ)(ln)&&ln.settings.appCheckToken&&(this.serverAppAppCheckToken=ln.settings.appCheckToken),this.auth=Ht.getImmediate({optional:!0}),this.messaging=It.getImmediate({optional:!0}),this.auth||Ht.get().then(sr=>this.auth=sr,()=>{}),this.messaging||It.get().then(sr=>this.messaging=sr,()=>{}),this.appCheck||Gn?.get().then(sr=>this.appCheck=sr,()=>{})}getAuthToken(){var ln=this;return(0,fe.A)(function*(){if(ln.auth)try{const Ht=yield ln.auth.getToken();return Ht?.accessToken}catch{return}})()}getMessagingToken(){var ln=this;return(0,fe.A)(function*(){if(ln.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield ln.messaging.getToken()}catch{return}})()}getAppCheckToken(ln){var Ht=this;return(0,fe.A)(function*(){if(Ht.serverAppAppCheckToken)return Ht.serverAppAppCheckToken;if(Ht.appCheck){const It=ln?yield Ht.appCheck.getLimitedUseToken():yield Ht.appCheck.getToken();return It.error?null:It.token}return null})()}getContext(ln){var Ht=this;return(0,fe.A)(function*(){return{authToken:yield Ht.getAuthToken(),messagingToken:yield Ht.getMessagingToken(),appCheckToken:yield Ht.getAppCheckToken(ln)}})()}}const Je="us-central1";class _t{constructor(ln,Ht,It,Gn,sr=Je,Pr=(...gr)=>fetch(...gr)){this.app=ln,this.fetchImpl=Pr,this.emulatorOrigin=null,this.contextProvider=new Ot(ln,Ht,It,Gn),this.cancelAllRequests=new Promise(gr=>{this.deleteService=()=>Promise.resolve(gr())});try{const gr=new URL(sr);this.customDomain=gr.origin+("/"===gr.pathname?"":gr.pathname),this.region=Je}catch{this.customDomain=null,this.region=sr}}_delete(){return this.deleteService()}_url(ln){const Ht=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${Ht}/${this.region}/${ln}`:null!==this.customDomain?`${this.customDomain}/${ln}`:`https://${this.region}-${Ht}.cloudfunctions.net/${ln}`}}const pe="@firebase/functions";function Jt(Ct=(0,Ae.Sx)(),ln=Je){const It=(0,Ae.j6)((0,Ce.Ku)(Ct),_n).getImmediate({identifier:ln}),Gn=(0,Ce.yU)("functions");return Gn&&function vn(Ct,ln,Ht){!function $t(Ct,ln,Ht){const It=(0,Ce.zJ)(ln);Ct.emulatorOrigin=`http${It?"s":""}://${ln}:${Ht}`,It&&((0,Ce.gE)(Ct.emulatorOrigin),(0,Ce.P1)("Functions",!0))}((0,Ce.Ku)(Ct),ln,Ht)}(It,...Gn),It}!function sn(Ct){(0,Ae.om)(new ye.uA(_n,(Ht,{instanceIdentifier:It})=>{const Gn=Ht.getProvider("app").getImmediate(),sr=Ht.getProvider("auth-internal"),Pr=Ht.getProvider("messaging-internal"),gr=Ht.getProvider("app-check-internal");return new _t(Gn,sr,Pr,gr,It)},"PUBLIC").setMultipleInstances(!0)),(0,Ae.KO)(pe,"0.12.9",Ct),(0,Ae.KO)(pe,"0.12.9","esm2017")}();class Ft{constructor(ln){return ln}}const En="functions",lr=new L.nKC("angularfire2.functions-instances");function Kr(Ct){return(ln,Ht)=>{const It=ln.runOutsideAngular(()=>Ct(Ht));return new Ft(It)}}const mi={provide:class an{constructor(){return(0,B.CA)(En)}},deps:[[new a.Xx1,lr]]},Vn={provide:Ft,useFactory:function Zr(Ct,ln){const Ht=(0,B.lR)(En,Ct,ln);return Ht&&new Ft(Ht)},deps:[[new a.Xx1,lr],_e.XU]};function Xr(Ct,...ln){return(0,j.KO)("angularfire",B.xv.full,"fn"),(0,L.EmA)([Vn,mi,{provide:lr,useFactory:Kr(Ct),multi:!0,deps:[a.SKi,L.zZn,B.u0,_e.gL,[new a.Xx1,ct.DF],[new a.Xx1,$e.kR],...ln]}])}const Gr=(0,B.S3)(Jt,!0)},6481:(Hn,vt,I)=>{I.d(vt,{EW:()=>He,QZ:()=>zt,O8:()=>ye}),I(649);var a=I(1698),B=I(6777);function ye(de){return function fe(de){const at=(0,B.Ht)(null);try{return de()}finally{(0,B.Ht)(at)}}(de)}function He(de,at){return(0,B.KZ)(de,at?.equal)}class kt{[B.bh];constructor(at){this[B.bh]=at}destroy(){this[B.bh].destroy()}}function zt(de,at){const Lt=at?.injector??(0,a.WQX)(a.zZn);let ge,Be=!0!==at?.manualCleanup?Lt.get(a.abz):null;const Ne=Lt.get(a.r4V,null,{optional:!0}),pe=Lt.get(a.hk6);return null!==Ne?(ge=function yt(de,at,Lt){const Be=Object.create(_n);return Be.view=de,Be.zone=typeof Zone<"u"?Zone.current:null,Be.notifier=at,Be.fn=Lt,de[a.tQN]??=new Set,de[a.tQN].add(Be),Be.consumerMarkedDirty(Be),Be}(Ne.view,pe,de),Be instanceof a.KXn&&Be._lView===Ne.view&&(Be=null)):ge=function wn(de,at,Lt){const Be=Object.create(An);return Be.fn=de,Be.scheduler=at,Be.notifier=Lt,Be.zone=typeof Zone<"u"?Zone.current:null,Be.scheduler.add(Be),Be.notifier.notify(12),Be}(de,Lt.get(a.VML),pe),ge.injector=Lt,null!==Be&&(ge.onDestroyFn=Be.onDestroy(()=>ge.destroy())),new kt(ge)}const Xt={...B.pL,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:a.lQ1,run(){if(this.dirty=!1,this.hasRun&&!(0,B.si)(this))return;this.hasRun=!0;const de=Be=>(this.cleanupFns??=[]).push(Be),at=(0,B.Bg)(this),Lt=(0,a.cBl)(!1);try{this.maybeCleanup(),this.fn(de)}finally{(0,a.cBl)(Lt),(0,B.Wu)(this,at)}},maybeCleanup(){if(!this.cleanupFns?.length)return;const de=(0,B.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,B.Ht)(de)}}},An={...Xt,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){(0,B.XR)(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},_n={...Xt,consumerMarkedDirty(){this.view[a.Wg1]|=8192,(0,a.blu)(this.view),this.notifier.notify(13)},destroy(){(0,B.XR)(this),this.onDestroyFn(),this.maybeCleanup(),this.view[a.tQN]?.delete(this)}};Error,Error},6579:(Hn,vt,I)=>{I.d(vt,{R0:()=>ct,lI:()=>$e,ms:()=>_e});var L=I(4602),a=I(9749);function B(j){return j[j.length-1]}function _e(j){return(0,L.T)(B(j))?j.pop():void 0}function $e(j){return(0,a.m)(B(j))?j.pop():void 0}function ct(j,fe){return"number"==typeof B(j)?j.pop():fe}},6777:(Hn,vt,I)=>{function L(ft,Ft){return Object.is(ft,Ft)}I.d(vt,{Ag:()=>pr,Bg:()=>wn,EF:()=>Rn,H8:()=>L,Ht:()=>j,JC:()=>zt,KE:()=>Ae,KO:()=>ge,KZ:()=>rr,Ny:()=>st,TO:()=>yt,Wu:()=>Sn,XR:()=>Ot,a7:()=>er,bh:()=>ct,j2:()=>Re,mC:()=>sn,mK:()=>He,n5:()=>pe,nR:()=>fe,pL:()=>ye,s0:()=>vn,si:()=>Ge});let a=null,B=!1,_e=1,$e=null;const ct=Symbol("SIGNAL");function j(ft){const Ft=a;return a=ft,Ft}function fe(){return a}function Ae(){return B}const ye={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function He(ft){if(B)throw new Error("");if(null===a)return;a.consumerOnSignalRead(ft);const Ft=a.nextProducerIndex++;_t(a),Ft<a.producerNode.length&&a.producerNode[Ft]!==ft&&tn(a)&&Et(a.producerNode[Ft],a.producerIndexOfThis[Ft]),a.producerNode[Ft]!==ft&&(a.producerNode[Ft]=ft,a.producerIndexOfThis[Ft]=tn(a)?Je(ft,a,Ft):0),a.producerLastReadVersion[Ft]=ft.version}function zt(ft){if((!tn(ft)||ft.dirty)&&(ft.dirty||ft.lastCleanEpoch!==_e)){if(!ft.producerMustRecompute(ft)&&!Ge(ft))return void yt(ft);ft.producerRecomputeValue(ft),yt(ft)}}function Xt(ft){if(void 0===ft.liveConsumerNode)return;const Ft=B;B=!0;try{for(const En of ft.liveConsumerNode)En.dirty||_n(En)}finally{B=Ft}}function An(){return!1!==a?.consumerAllowSignalWrites}function _n(ft){ft.dirty=!0,Xt(ft),ft.consumerMarkedDirty?.(ft)}function yt(ft){ft.dirty=!1,ft.lastCleanEpoch=_e}function wn(ft){return ft&&(ft.nextProducerIndex=0),j(ft)}function Sn(ft,Ft){if(j(Ft),ft&&void 0!==ft.producerNode&&void 0!==ft.producerIndexOfThis&&void 0!==ft.producerLastReadVersion){if(tn(ft))for(let En=ft.nextProducerIndex;En<ft.producerNode.length;En++)Et(ft.producerNode[En],ft.producerIndexOfThis[En]);for(;ft.producerNode.length>ft.nextProducerIndex;)ft.producerNode.pop(),ft.producerLastReadVersion.pop(),ft.producerIndexOfThis.pop()}}function Ge(ft){_t(ft);for(let Ft=0;Ft<ft.producerNode.length;Ft++){const En=ft.producerNode[Ft],an=ft.producerLastReadVersion[Ft];if(an!==En.version||(zt(En),an!==En.version))return!0}return!1}function Ot(ft){if(_t(ft),tn(ft))for(let Ft=0;Ft<ft.producerNode.length;Ft++)Et(ft.producerNode[Ft],ft.producerIndexOfThis[Ft]);ft.producerNode.length=ft.producerLastReadVersion.length=ft.producerIndexOfThis.length=0,ft.liveConsumerNode&&(ft.liveConsumerNode.length=ft.liveConsumerIndexOfThis.length=0)}function Je(ft,Ft,En){if($t(ft),0===ft.liveConsumerNode.length&&Tn(ft))for(let an=0;an<ft.producerNode.length;an++)ft.producerIndexOfThis[an]=Je(ft.producerNode[an],ft,an);return ft.liveConsumerIndexOfThis.push(En),ft.liveConsumerNode.push(Ft)-1}function Et(ft,Ft){if($t(ft),1===ft.liveConsumerNode.length&&Tn(ft))for(let an=0;an<ft.producerNode.length;an++)Et(ft.producerNode[an],ft.producerIndexOfThis[an]);const En=ft.liveConsumerNode.length-1;if(ft.liveConsumerNode[Ft]=ft.liveConsumerNode[En],ft.liveConsumerIndexOfThis[Ft]=ft.liveConsumerIndexOfThis[En],ft.liveConsumerNode.length--,ft.liveConsumerIndexOfThis.length--,Ft<ft.liveConsumerNode.length){const an=ft.liveConsumerIndexOfThis[Ft],_r=ft.liveConsumerNode[Ft];_t(_r),_r.producerIndexOfThis[an]=Ft}}function tn(ft){return ft.consumerIsAlwaysLive||(ft?.liveConsumerNode?.length??0)>0}function _t(ft){ft.producerNode??=[],ft.producerIndexOfThis??=[],ft.producerLastReadVersion??=[]}function $t(ft){ft.liveConsumerNode??=[],ft.liveConsumerIndexOfThis??=[]}function Tn(ft){return void 0!==ft.producerNode}function er(ft){$e?.(ft)}function rr(ft,Ft){const En=Object.create(de);En.computation=ft,void 0!==Ft&&(En.equal=Ft);const an=()=>{if(zt(En),He(En),En.value===Rn)throw En.error;return En.value};return an[ct]=En,er(En),an}const pr=Symbol("UNSET"),st=Symbol("COMPUTING"),Rn=Symbol("ERRORED"),de={...ye,value:pr,dirty:!0,error:null,equal:L,kind:"computed",producerMustRecompute:ft=>ft.value===pr||ft.value===st,producerRecomputeValue(ft){if(ft.value===st)throw new Error("");const Ft=ft.value;ft.value=st;const En=wn(ft);let an,_r=!1;try{an=ft.computation(),j(null),_r=Ft!==pr&&Ft!==Rn&&an!==Rn&&ft.equal(Ft,an)}catch(lr){an=Rn,ft.error=lr}finally{Sn(ft,En)}_r?ft.value=Ft:(ft.value=an,ft.version++)}};let Lt=function at(){throw new Error};function Be(ft){Lt(ft)}function ge(ft){Lt=ft}let Ne=null;function pe(ft,Ft){const En=Object.create(vn);En.value=ft,void 0!==Ft&&(En.equal=Ft);const an=()=>function Le(ft){return He(ft),ft.value}(En);return an[ct]=En,er(En),an}function Re(ft,Ft){An()||Be(ft),ft.equal(ft.value,Ft)||(ft.value=Ft,function ur(ft){ft.version++,function kt(){_e++}(),Xt(ft),Ne?.(ft)}(ft))}function sn(ft,Ft){An()||Be(ft),Re(ft,Ft(ft.value))}const vn={...ye,equal:L,value:void 0,kind:"signal"}},6827:(Hn,vt,I)=>{I.d(vt,{q:()=>B});var L=I(8544);class a{constructor($e,ct=a.now){this.schedulerActionCtor=$e,this.now=ct}schedule($e,ct=0,j){return new this.schedulerActionCtor(this,$e).schedule(j,ct)}}a.now=L.U.now;class B extends a{constructor($e,ct=a.now){super($e,ct),this.actions=[],this._active=!1}flush($e){const{actions:ct}=this;if(this._active)return void ct.push($e);let j;this._active=!0;do{if(j=$e.execute($e.state,$e.delay))break}while($e=ct.shift());if(this._active=!1,j){for(;$e=ct.shift();)$e.unsubscribe();throw j}}}},6862:(Hn,vt,I)=>{function L(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}I.d(vt,{L:()=>L})},7014:(Hn,vt,I)=>{I.d(vt,{c:()=>fe});var L=I(923),a=I(1896),B=I(5967),_e=I(5122),$e=I(8517),ct=I(4602),j=I(3559);let fe=(()=>{class He{constructor(zt){zt&&(this._subscribe=zt)}lift(zt){const Xt=new He;return Xt.source=this,Xt.operator=zt,Xt}subscribe(zt,Xt,An){const _n=function ye(He){return He&&He instanceof L.vU||function Ce(He){return He&&(0,ct.T)(He.next)&&(0,ct.T)(He.error)&&(0,ct.T)(He.complete)}(He)&&(0,a.Uv)(He)}(zt)?zt:new L.Ms(zt,Xt,An);return(0,j.Y)(()=>{const{operator:yt,source:wn}=this;_n.add(yt?yt.call(_n,wn):wn?this._subscribe(_n):this._trySubscribe(_n))}),_n}_trySubscribe(zt){try{return this._subscribe(zt)}catch(Xt){zt.error(Xt)}}forEach(zt,Xt){return new(Xt=Ae(Xt))((An,_n)=>{const yt=new L.Ms({next:wn=>{try{zt(wn)}catch(Sn){_n(Sn),yt.unsubscribe()}},error:_n,complete:An});this.subscribe(yt)})}_subscribe(zt){var Xt;return null===(Xt=this.source)||void 0===Xt?void 0:Xt.subscribe(zt)}[B.s](){return this}pipe(...zt){return(0,_e.m)(zt)(this)}toPromise(zt){return new(zt=Ae(zt))((Xt,An)=>{let _n;this.subscribe(yt=>_n=yt,yt=>An(yt),()=>Xt(_n))})}}return He.create=kt=>new He(kt),He})();function Ae(He){var kt;return null!==(kt=He??$e.$.Promise)&&void 0!==kt?kt:Promise}},7385:(Hn,vt,I)=>{I.d(vt,{$C:()=>_d,$Ln:()=>De,AVh:()=>D0,Ab1:()=>nc,Agw:()=>Qr,Avn:()=>Np,B1s:()=>fo,BIS:()=>to,BMQ:()=>Dd,C4Q:()=>lt,C5r:()=>sA,C6U:()=>cT,C7A:()=>Ty,Co$:()=>sp,DH7:()=>zT,DNE:()=>hp,DkB:()=>Vm,Dyx:()=>Pp,EFF:()=>ST,EJ8:()=>am,Ef8:()=>Re,FsC:()=>Rh,FuF:()=>Y0,G5x:()=>Iv,GBs:()=>oT,H1s:()=>Wi,HbH:()=>ET,JRh:()=>C0,Jt5:()=>Rd,Jv_:()=>YT,KED:()=>nw,Lme:()=>b0,NAR:()=>nT,NCX:()=>T,NOj:()=>Nl,NSC:()=>Il,NYb:()=>nt,NyB:()=>lT,OA$:()=>Rn,OM3:()=>al,OR8:()=>cl,Ocv:()=>bw,Ol2:()=>cp,PLl:()=>wr,PYC:()=>$r,PYt:()=>nm,QTQ:()=>vc,Ql9:()=>Tw,R50:()=>S0,R7$:()=>Xd,RPW:()=>Co,RV6:()=>Fm,SKi:()=>ns,SdG:()=>rT,SdI:()=>wA,SpI:()=>cE,TFI:()=>ja,Ts$:()=>SA,UQu:()=>vw,V5L:()=>DA,VBU:()=>om,VeQ:()=>io,Vt3:()=>um,VzW:()=>im,WPN:()=>Hr,XpG:()=>tT,Xx1:()=>An,Y8G:()=>Mp,YEm:()=>Gt,Z7z:()=>Xc,Zhj:()=>J0,_9s:()=>qf,_9u:()=>Tt,_jY:()=>zs,_qm:()=>Tr,_ys:()=>py,a8H:()=>_p,aCM:()=>tr,aKT:()=>Pi,bH1:()=>ap,bIt:()=>y0,bVm:()=>Sd,bc$:()=>zr,bkB:()=>Dc,c1b:()=>tp,cDI:()=>_I,cZr:()=>B0,cdK:()=>Rr,cf$:()=>_m,czy:()=>Zu,d80:()=>Aw,dOL:()=>oe,dfE:()=>Xp,e6s:()=>Md,eHC:()=>ep,eu8:()=>Op,gXe:()=>gs,giA:()=>jt,gil:()=>No,hnC:()=>ry,i5U:()=>iA,iLQ:()=>vo,iWE:()=>pi,ii3:()=>oA,j41:()=>ku,k0s:()=>wc,kBR:()=>Vo,kS0:()=>W,kdw:()=>yt,lJT:()=>Vt,lsd:()=>aT,mGM:()=>sT,mU9:()=>Zg,mal:()=>gy,mxI:()=>R0,n$t:()=>ef,nI1:()=>rA,nI4:()=>uI,nM4:()=>tv,nVh:()=>vl,nrm:()=>Kh,o8S:()=>en,ozJ:()=>Ih,p2i:()=>Do,phd:()=>Yr,pl0:()=>Xi,qex:()=>bd,rAh:()=>Ei,rOR:()=>Pt,rXU:()=>bu,sFG:()=>Pg,sZ2:()=>xn,sdS:()=>dT,sgu:()=>Z0,uiO:()=>Sn,utN:()=>Bg,vDg:()=>Th,vxM:()=>Wy,w6W:()=>rm,wEZ:()=>uT,wni:()=>iT,wr$:()=>Te,xGo:()=>ve,xc7:()=>A0,xe9:()=>RA,yLl:()=>Bn,ypd:()=>Mt,ziy:()=>fy,zoo:()=>Gc});var L=I(649),a=I(1698),B=I(6777),_e=I(579),$e=I(1896),ct=I(1215);function j(t){return{toString:t}.toString()}const fe="__annotations__",Ae="__parameters__",Ce="__prop__metadata__";function ye(t,n,i,s,l){return j(()=>{const d=He(n);function y(...A){if(this instanceof y)return d.call(this,...A),this;const R=new y(...A);return function(ne){return l&&l(ne,...A),(ne.hasOwnProperty(fe)?ne[fe]:Object.defineProperty(ne,fe,{value:[]})[fe]).push(R),ne}}return i&&(y.prototype=Object.create(i.prototype)),y.prototype.ngMetadataName=t,y.annotationCls=y,y})}function He(t){return function(...i){if(t){const s=t(...i);for(const l in s)this[l]=s[l]}}}function kt(t,n,i){return j(()=>{const s=He(n);function l(...d){if(this instanceof l)return s.apply(this,d),this;const y=new l(...d);return A.annotation=y,A;function A(R,H,ne){const Se=R.hasOwnProperty(Ae)?R[Ae]:Object.defineProperty(R,Ae,{value:[]})[Ae];for(;Se.length<=ne;)Se.push(null);return(Se[ne]=Se[ne]||[]).push(y),R}}return l.prototype.ngMetadataName=t,l.annotationCls=l,l})}const Xt=(0,a.z6V)(kt("Inject",t=>({token:t})),-1),An=(0,a.z6V)(kt("Optional"),8),_n=(0,a.z6V)(kt("Self"),2),yt=(0,a.z6V)(kt("SkipSelf"),4),wn=(0,a.z6V)(kt("Host"),1);function Sn(t){const n=a.laP.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Ge={\u0275\u0275defineInjectable:a.jDH,\u0275\u0275defineInjector:a.G2t,\u0275\u0275inject:a.KVO,\u0275\u0275invalidFactoryDep:a.dmw,resolveForwardRef:a.nl4},Ot=Function;function Je(t){return"function"==typeof t}const Et=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,tn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,_t=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,$t=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class er{_reflect;constructor(n){this._reflect=n||a.laP.Reflect}factory(n){return(...i)=>new n(...i)}_zipTypesAndAnnotations(n,i){let s;s=(0,a.WfI)(typeof n>"u"?i.length:n.length);for(let l=0;l<s.length;l++)s[l]=typeof n>"u"?[]:n[l]&&n[l]!=Object?[n[l]]:[],i&&null!=i[l]&&(s[l]=s[l].concat(i[l]));return s}_ownParameters(n,i){if(function Tn(t){return Et.test(t)||$t.test(t)||tn.test(t)&&!_t.test(t)}(n.toString()))return null;if(n.parameters&&n.parameters!==i.parameters)return n.parameters;const l=n.ctorParameters;if(l&&l!==i.ctorParameters){const A="function"==typeof l?l():l,R=A.map(ne=>ne&&ne.type),H=A.map(ne=>ne&&On(ne.decorators));return this._zipTypesAndAnnotations(R,H)}const d=n.hasOwnProperty(Ae)&&n[Ae],y=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return y||d?this._zipTypesAndAnnotations(y,d):(0,a.WfI)(n.length)}parameters(n){if(!Je(n))return[];const i=rr(n);let s=this._ownParameters(n,i);return!s&&i!==Object&&(s=this.parameters(i)),s||[]}_ownAnnotations(n,i){if(n.annotations&&n.annotations!==i.annotations){let s=n.annotations;return"function"==typeof s&&s.annotations&&(s=s.annotations),s}return n.decorators&&n.decorators!==i.decorators?On(n.decorators):n.hasOwnProperty(fe)?n[fe]:null}annotations(n){if(!Je(n))return[];const i=rr(n),s=this._ownAnnotations(n,i)||[];return(i!==Object?this.annotations(i):[]).concat(s)}_ownPropMetadata(n,i){if(n.propMetadata&&n.propMetadata!==i.propMetadata){let s=n.propMetadata;return"function"==typeof s&&s.propMetadata&&(s=s.propMetadata),s}if(n.propDecorators&&n.propDecorators!==i.propDecorators){const s=n.propDecorators,l={};return Object.keys(s).forEach(d=>{l[d]=On(s[d])}),l}return n.hasOwnProperty(Ce)?n[Ce]:null}propMetadata(n){if(!Je(n))return{};const i=rr(n),s={};if(i!==Object){const d=this.propMetadata(i);Object.keys(d).forEach(y=>{s[y]=d[y]})}const l=this._ownPropMetadata(n,i);return l&&Object.keys(l).forEach(d=>{const y=[];s.hasOwnProperty(d)&&y.push(...s[d]),y.push(...l[d]),s[d]=y}),s}ownPropMetadata(n){return Je(n)&&this._ownPropMetadata(n,rr(n))||{}}hasLifecycleHook(n,i){return n instanceof Ot&&i in n.prototype}}function On(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function rr(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}class pr{previousValue;currentValue;firstChange;constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function st(t,n,i,s){null!==n?n.applyValueToInputSignal(n,s):t[i]=s}const Rn=(()=>{const t=()=>de;return t.ngInherit=!0,t})();function de(t){return t.type.prototype.ngOnChanges&&(t.setInput=Lt),at}function at(){const t=ge(this),n=t?.current;if(n){const i=t.previous;if(i===a.MZA)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function Lt(t,n,i,s,l){const d=this.declaredInputs[s],y=ge(t)||function Ne(t,n){return t[Be]=n}(t,{previous:a.MZA,current:null}),A=y.current||(y.current={}),R=y.previous,H=R[d];A[d]=new pr(H&&H.currentValue,i,R===a.MZA),st(t,n,l,i)}const Be="__ngSimpleChanges__";function ge(t){return t[Be]||null}const pe=[],Re=function(t,n=null,i){for(let s=0;s<pe.length;s++)(0,pe[s])(t,n,i)};function Jt(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:H,ngOnDestroy:ne}=d;y&&(t.contentHooks??=[]).push(-i,y),A&&((t.contentHooks??=[]).push(i,A),(t.contentCheckHooks??=[]).push(i,A)),R&&(t.viewHooks??=[]).push(-i,R),H&&((t.viewHooks??=[]).push(i,H),(t.viewCheckHooks??=[]).push(i,H)),null!=ne&&(t.destroyHooks??=[]).push(i,ne)}}function vn(t,n,i){Ft(t,n,3,i)}function ur(t,n,i,s){(3&t[a.Wg1])===i&&Ft(t,n,i,s)}function ft(t,n){let i=t[a.Wg1];(3&i)===n&&(i&=16383,i+=1,t[a.Wg1]=i)}function Ft(t,n,i,s){const d=s??-1,y=n.length-1;let A=0;for(let R=void 0!==s?65535&t[a.wVl]:0;R<y;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=s&&A>=s)break}else n[R]<0&&(t[a.wVl]+=65536),(A<d||-1==d)&&(an(t,i,n,R),t[a.wVl]=(4294901760&t[a.wVl])+R+2),R++}function En(t,n){Re(4,t,n);const i=(0,B.Ht)(null);try{n.call(t)}finally{(0,B.Ht)(i),Re(5,t,n)}}function an(t,n,i,s){const l=i[s]<0,d=i[s+1],A=t[l?-i[s]:i[s]];l?t[a.Wg1]>>14<t[a.wVl]>>16&&(3&t[a.Wg1])===n&&(t[a.Wg1]+=16384,En(A,d)):En(A,d)}const _r=-1;class lr{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,i,s){this.factory=n,this.canSeeViewProviders=i,this.injectImpl=s}}function Kr(t){return null!=t&&"object"==typeof t&&(null===t.insertBeforeIndex||"number"==typeof t.insertBeforeIndex||Array.isArray(t.insertBeforeIndex))}function Gr(t){return 3===t||4===t||6===t}function _i(t){return 64===t.charCodeAt(0)}function Xn(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||Ct(t,i,l,0,-1===i||2===i?n[++s]:null)}}return t}function Ct(t,n,i,s,l){let d=0,y=t.length;if(-1===n)y=-1;else for(;d<t.length;){const A=t[d++];if("number"==typeof A){if(A===n){y=-1;break}if(A>n){y=d-1;break}}}for(;d<t.length;){const A=t[d];if("number"==typeof A)break;if(A===i)return void(null!==l&&(t[d+1]=l));d++,null!==l&&d++}-1!==y&&(t.splice(y,0,n),d=y+1),t.splice(d++,0,i),null!==l&&t.splice(d++,0,l)}function ln(t){return t!==_r}function Ht(t){return 32767&t}function Gn(t,n){let i=function It(t){return t>>16}(t),s=n;for(;i>0;)s=s[a.X5O],i--;return s}let sr=!0;function Pr(t){const n=sr;return sr=t,n}const Jr=255,Ur=5;let Nn=0;const xr={};function br(t,n){const i=ei(t,n);if(-1!==i)return i;const s=n[a.eDl];s.firstCreatePass&&(t.injectorIndex=n.length,yi(s.data,t),yi(n,null),yi(s.blueprint,null));const l=Er(t,n),d=t.injectorIndex;if(ln(l)){const y=Ht(l),A=Gn(l,n),R=A[a.eDl].data;for(let H=0;H<8;H++)n[d+H]=A[y+H]|R[y+H]}return n[d+8]=l,d}function yi(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ei(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Er(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){if(s=O(l),null===s)return _r;if(i++,l=l[a.X5O],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return _r}function Un(t,n,i){!function yr(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(a.p9y)&&(s=i[a.p9y]),null==s&&(s=i[a.p9y]=Nn++);const l=s&Jr;n.data[t+(l>>Ur)]|=1<<l}(t,n,i)}function Bt(t,n,i){if(8&i||void 0!==t)return t;(0,a.$Hz)(n,"NodeInjector")}function pn(t,n,i,s){if(8&i&&void 0===s&&(s=null),!(3&i)){const l=t[a.YEL],d=(0,a.a2B)(void 0);try{return l?l.get(n,s,8&i):(0,a.MzJ)(n,s,8&i)}finally{(0,a.a2B)(d)}}return Bt(s,n,i)}function bn(t,n,i,s=0,l){if(null!==t){if(2048&n[a.Wg1]&&!(2&s)){const y=function Ze(t,n,i,s,l){let d=t,y=n;for(;null!==d&&null!==y&&2048&y[a.Wg1]&&!(0,a.EFk)(y);){const A=dr(d,y,i,2|s,xr);if(A!==xr)return A;let R=d.parent;if(!R){const H=y[a.oMQ];if(H){const ne=H.get(i,xr,s);if(ne!==xr)return ne}R=O(y),y=y[a.X5O]}d=R}return l}(t,n,i,s,xr);if(y!==xr)return y}const d=dr(t,n,i,s,xr);if(d!==xr)return d}return pn(n,i,s,l)}function dr(t,n,i,s,l){const d=function Ki(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(a.p9y)?t[a.p9y]:void 0;return"number"==typeof n?n>=0?n&Jr:ze:n}(i);if("function"==typeof d){if(!(0,a.ihb)(n,t,s))return 1&s?Bt(l,i,s):pn(n,i,s,l);try{let y;if(y=d(s),null!=y||8&s)return y;(0,a.$Hz)(i)}finally{(0,a.niQ)()}}else if("number"==typeof d){let y=null,A=ei(t,n),R=_r,H=1&s?n[a.b5C][a.qlT]:null;for((-1===A||4&s)&&(R=-1===A?Er(t,n):n[A+8],R!==_r&&Ve(s,!1)?(y=n[a.eDl],A=Ht(R),n=Gn(R,n)):A=-1);-1!==A;){const ne=n[a.eDl];if(Ii(d,A,ne.data)){const Se=ir(A,n,i,y,s,H);if(Se!==xr)return Se}R=n[A+8],R!==_r&&Ve(s,n[a.eDl].data[A+8]===H)&&Ii(d,A,n)?(y=ne,A=Ht(R),n=Gn(R,n)):A=-1}}return l}function ir(t,n,i,s,l,d){const y=n[a.eDl],A=y.data[t+8],ne=Ir(A,y,i,null==s?(0,a.Qs1)(A)&&sr:s!=y&&!!(3&A.type),1&l&&d===A);return null!==ne?qr(n,y,ne,A):xr}function Ir(t,n,i,s,l){const d=t.providerIndexes,y=n.data,A=1048575&d,R=t.directiveStart,ne=d>>20,ut=l?A+ne:t.directiveEnd;for(let ot=s?A:A+ne;ot<ut;ot++){const un=y[ot];if(ot<R&&i===un||ot>=R&&un.type===i)return ot}if(l){const ot=y[R];if(ot&&(0,a.JlV)(ot)&&ot.type===i)return R}return null}function qr(t,n,i,s){let l=t[i];const d=n.data;if(l instanceof lr){const y=l;y.resolving&&(0,a.dgT)((0,a.PP7)(d[i]));const A=Pr(y.canSeeViewProviders);y.resolving=!0;const ne=y.injectImpl?(0,a.a2B)(y.injectImpl):null;(0,a.ihb)(t,s,0);try{l=t[i]=y.factory(void 0,d,t,s),n.firstCreatePass&&i>=s.directiveStart&&function sn(t,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(s){const y=de(n);(i.preOrderHooks??=[]).push(t,y),(i.preOrderCheckHooks??=[]).push(t,y)}l&&(i.preOrderHooks??=[]).push(0-t,l),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],n)}finally{null!==ne&&(0,a.a2B)(ne),Pr(A),y.resolving=!1,(0,a.niQ)()}}return l}function Ii(t,n,i){return!!(i[n+(t>>Ur)]&1<<t)}function Ve(t,n){return!(2&t||1&t&&n)}class Pe{_tNode;_lView;constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return bn(this._tNode,this._lView,n,(0,a.hjC)(s),i)}}function ze(){return new Pe((0,a.Mx4)(),(0,a.OAn)())}function ve(t){return j(()=>{const n=t.prototype.constructor,i=n[a.zSs]||z(n),s=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==s;){const d=l[a.zSs]||z(l);if(d&&d!==i)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function z(t){return(0,a.Jzi)(t)?()=>{const n=z((0,a.nl4)(t));return n&&n()}:(0,a.wGu)(t)}function O(t){const n=t[a.eDl],i=n.type;return 2===i?n.declTNode:1===i?t[a.qlT]:null}function W(t){return function fn(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const d=i[l];if(Gr(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(d===n)return i[l+1];l+=2}}}return null}((0,a.Mx4)(),t)}const Z=kt("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>W(t)}));let Ke=null;function ht(t){return rn(function tt(){return Ke=Ke||new er}().parameters(t))}function rn(t){return t.map(n=>function gn(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let i=0;i<t.length;i++){const s=t[i];if(void 0===s)continue;const l=Object.getPrototypeOf(s);if(s instanceof An||"Optional"===l.ngMetadataName)n.optional=!0;else if(s instanceof yt||"SkipSelf"===l.ngMetadataName)n.skipSelf=!0;else if(s instanceof _n||"Self"===l.ngMetadataName)n.self=!0;else if(s instanceof wn||"Host"===l.ngMetadataName)n.host=!0;else if(s instanceof Xt)n.token=s.token;else if(s instanceof Z){if(void 0===s.attributeName)throw new a.buA(204,!1);n.attribute=s.attributeName}else n.token=s}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}const Mr=(0,a.kLh)({provide:String,useValue:a.kLh});function mr(t){return void 0!==t.useClass}function Oi(t){return void 0!==t.useFactory}const Tr=ye("Injectable",void 0,void 0,0,(t,n)=>function Cn(t,n){let i=null,s=null;t.hasOwnProperty(a.yAH)||Object.defineProperty(t,a.yAH,{get:()=>(null===i&&(i=Sn().compileInjectable(Ge,`ng:///${t.name}/\u0275prov.js`,function li(t,n){const i=n||{providedIn:null},s={name:t.name,type:t,typeArgumentCount:0,providedIn:i.providedIn};return(mr(i)||Oi(i))&&void 0!==i.deps&&(s.deps=rn(i.deps)),mr(i)?s.useClass=i.useClass:function jr(t){return Mr in t}(i)?s.useValue=i.useValue:Oi(i)?s.useFactory=i.useFactory:function Ni(t){return void 0!==t.useExisting}(i)&&(s.useExisting=i.useExisting),s}(t,n))),i)}),t.hasOwnProperty(a.zSs)||Object.defineProperty(t,a.zSs,{get:()=>{if(null===s){const l=Sn();s=l.compileFactory(Ge,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:ht(t),target:l.FactoryTarget.Injectable})}return s},configurable:!0})}(t,n));function $n(){return ii((0,a.Mx4)(),(0,a.OAn)())}function ii(t,n){return new Pi((0,a.d31)(t,n))}let Pi=(()=>class t{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=$n})();function Cr(t){return t instanceof Pi?t.nativeElement:t}function Qe(){return this._results[Symbol.iterator]()}class Pt{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _e.B}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const s=(0,a.Bqz)(n);(this._changesDetected=!(0,a.ng7)(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Qe}function ue(t){return!(128&~t.flags)}var St=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(St||{});const on=new Map;let Ut=0;function ai(t){on.delete(t[a.ID])}const te="__ngContext__";function se(t,n){(0,a.q$2)(n)?(t[te]=n[a.ID],function Dr(t){on.set(t[a.ID],t)}(n)):t[te]=n}function Me(t){return je(t[a.EJG])}function Ie(t){return je(t[a.K29])}function je(t){for(;null!==t&&!(0,a.A0l)(t);)t=t[a.K29];return t}let xe;function Tt(t){xe=t}function Gt(){if(void 0!==xe)return xe;if(typeof document<"u")return document;throw new a.buA(210,!1)}const xn=new a.nKC("",{providedIn:"root",factory:()=>Jn}),Jn="ng",wr=new a.nKC(""),Qr=new a.nKC("",{providedIn:"platform",factory:()=>"unknown"}),zr=new a.nKC(""),to=new a.nKC("",{providedIn:"root",factory:()=>Gt().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Yi={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},io=new a.nKC("",{providedIn:"root",factory:()=>Yi});function Hi(){const t=new oo;return t.store=function mo(t,n){const i=t.getElementById(n+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(s){console.warn("Exception while restoring TransferState for app "+n,s)}return{}}(Gt(),(0,a.WQX)(xn)),t}let oo=(()=>{class t{static \u0275prov=(0,a.jDH)({token:t,providedIn:"root",factory:Hi});store={};onSerializeCallbacks={};get(i,s){return void 0!==this.store[i]?this.store[i]:s}set(i,s){this.store[i]=s}remove(i){delete this.store[i]}hasKey(i){return this.store.hasOwnProperty(i)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(i,s){this.onSerializeCallbacks[i]=s}toJson(){for(const i in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(i))try{this.store[i]=this.onSerializeCallbacks[i]()}catch(s){console.warn("Exception in onSerialize callback: ",s)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();const Ue="r",hr="di",To=new a.nKC("",{providedIn:"root",factory:()=>!1}),Wt=new a.nKC(""),jn={passive:!0,capture:!0},kn=new WeakMap,Qn=new WeakMap,fr=new WeakMap,wi=["click","keydown"],Mi=["mouseenter","mouseover","focusin"];let Li=null,ho=0;class _o{callbacks=new Set;listener=()=>{for(const n of this.callbacks)n()}}function yo(t,n){let i=Qn.get(t);if(!i){i=new _o,Qn.set(t,i);for(const s of wi)t.addEventListener(s,i.listener,jn)}return i.callbacks.add(n),()=>{const{callbacks:s,listener:l}=i;if(s.delete(n),0===s.size){Qn.delete(t);for(const d of wi)t.removeEventListener(d,l,jn)}}}function zo(t,n){let i=kn.get(t);if(!i){i=new _o,kn.set(t,i);for(const s of Mi)t.addEventListener(s,i.listener,jn)}return i.callbacks.add(n),()=>{const{callbacks:s,listener:l}=i;if(s.delete(n),0===s.size){for(const d of Mi)t.removeEventListener(d,l,jn);kn.delete(t)}}}let Rs=(t,n,i,s)=>{};const _s=new a.nKC("");let Ns=()=>null;function ha(t,n,i=!1){return Ns(t,n,i)}function xi(t){let n=t._lView;return 2===n[a.eDl].type?null:((0,a.EFk)(n)&&(n=n[a.Yw1]),n)}function Ds(t,n){const i=t.contentQueries;if(null!==i){const s=(0,B.Ht)(null);try{for(let l=0;l<i.length;l+=2){const y=i[l+1];if(-1!==y){const A=t.data[y];(0,a.GA0)(i[l]),A.contentQueries(2,n[y],y)}}}finally{(0,B.Ht)(s)}}}function Ls(t,n,i){(0,a.GA0)(0);const s=(0,B.Ht)(null);try{n(t,i)}finally{(0,B.Ht)(s)}}function Ps(t,n,i){if((0,a.srX)(n)){const s=(0,B.Ht)(null);try{const d=n.directiveEnd;for(let y=n.directiveStart;y<d;y++){const A=t.data[y];A.contentQueries&&A.contentQueries(1,i[y],y)}}finally{(0,B.Ht)(s)}}}var gs=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gs||{});let Fs,x;function sc(){if(void 0===Fs&&(Fs=null,a.laP.trustedTypes))try{Fs=a.laP.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fs}function Go(t){return sc()?.createHTML(t)||t}function _(){if(void 0===x&&(x=null,a.laP.trustedTypes))try{x=a.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return x}function E(t){return _()?.createHTML(t)||t}function C(t){return _()?.createScript(t)||t}function F(t){return _()?.createScriptURL(t)||t}class ee{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a.ok8})`}}class Oe extends ee{getTypeName(){return"HTML"}}class ke extends ee{getTypeName(){return"Style"}}class Dt extends ee{getTypeName(){return"Script"}}class Qt extends ee{getTypeName(){return"URL"}}class Yn extends ee{getTypeName(){return"ResourceURL"}}function tr(t){return t instanceof ee?t.changingThisBreaksApplicationSecurity:t}function pi(t,n){const i=function fi(t){return t instanceof ee&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${a.ok8})`)}return i===n}function $r(t){return new Oe(t)}function Ei(t){return new ke(t)}function Do(t){return new Dt(t)}function fo(t){return new Qt(t)}function Co(t){return new Yn(t)}function qo(t){const n=new na(t);return function Qi(){try{return!!(new window.DOMParser).parseFromString(Go(""),"text/html")}catch{return!1}}()?new wo(n):n}class wo{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Go(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.firstChild?.remove(),i)}catch{return null}}}class na{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Go(n),i}}const ls=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function No(t){return(t=String(t)).match(ls)?t:"unsafe:"+t}function Fo(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Ms(...t){const n={};for(const i of t)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const Rc=Fo("area,br,col,hr,img,wbr"),ao=Fo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ra=Fo("rp,rt"),Lr=Ms(Rc,Ms(ao,Fo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ms(ra,Fo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ms(ra,ao)),ni=Fo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jo=Ms(ni,Fo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ds=Fo("script,style,template");class ia{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let i=n.firstChild,s=!0,l=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)l.push(i),i=ac(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=pa(i);if(d){i=d;break}i=l.pop()}return this.buf.join("")}startElement(n){const i=Qo(n).toLowerCase();if(!Lr.hasOwnProperty(i))return this.sanitizedSomething=!0,!ds.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let l=0;l<s.length;l++){const d=s.item(l),y=d.name,A=y.toLowerCase();if(!jo.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=d.value;ni[A]&&(R=No(R)),this.buf.push(" ",y,'="',S(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=Qo(n).toLowerCase();Lr.hasOwnProperty(i)&&!Rc.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(S(n))}}function pa(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw oa(n);return n}function ac(t){const n=t.firstChild;if(n&&function Eo(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw oa(n);return n}function Qo(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function oa(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const ys=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,La=/([^\#-~ |!])/g;function S(t){return t.replace(/&/g,"&amp;").replace(ys,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(La,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Y;function Te(t,n){let i=null;try{Y=Y||qo(t);let s=n?String(n):"";i=Y.getInertBodyElement(s);let l=5,d=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=d,d=i.innerHTML,i=Y.getInertBodyElement(s)}while(s!==d);return Go((new ia).sanitizeChildren(nn(i)||i))}finally{if(i){const s=nn(i)||i;for(;s.firstChild;)s.firstChild.remove()}}}function nn(t){return"content"in t&&function Dn(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Hr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hr||{});function xo(t){const n=Oc();return n?n.sanitize(Hr.URL,t)||"":pi(t,"URL")?tr(t):No((0,a.eFE)(t))}function Yo(t){const n=Oc();if(n)return F(n.sanitize(Hr.RESOURCE_URL,t)||"");if(pi(t,"ResourceURL"))return F(tr(t));throw new a.buA(904,!1)}function ef(t,n,i){return function ru(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Yo:xo}(n,i)(t)}function Oc(){const t=(0,a.OAn)();return t&&t[a.M0L].sanitizer}const iu=/^>|^->|<!--|-->|--!>|<!-$/g,Cl=/(<|>)/g;function ma(t){return t instanceof Function?t():t}function Xp(t){if(Nl(t),!(0,a.xUg)(t).standalone)throw new a.buA(907,`The ${(0,a.PP7)(t)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,a.PP7)(t)} component has the \`standalone: true\` flag in the decorator.`)}function Nl(t){if(!(0,a.xUg)(t))throw new a.buA(906,`The ${(0,a.PP7)(t)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function Aa(t,n,i){let s=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=n.length;if(l+d===s||t.charCodeAt(l+d)<=32)return l}i=l+1}}const nf="ng-template";function Hd(t,n,i,s){let l=0;if(s){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==Aa(n[l+1].toLowerCase(),i,0))return!0}else if(Ku(t))return!1;if(l=n.indexOf(1,l),l>-1){let d;for(;++l<n.length&&"string"==typeof(d=n[l]);)if(d.toLowerCase()===i)return!0}return!1}function Ku(t){return 4===t.type&&t.value!==nf}function cu(t,n,i){return n===(4!==t.type||i?t.value:nf)}function dc(t,n,i){let s=4;const l=t.attrs,d=null!==l?function Hu(t){for(let n=0;n<t.length;n++)if(Gr(t[n]))return n;return t.length}(l):0;let y=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!y)if(4&s){if(s=2|1&s,""!==R&&!cu(t,R,i)||""===R&&1===n.length){if(ms(s))return!1;y=!0}}else if(8&s){if(null===l||!Hd(t,l,R,i)){if(ms(s))return!1;y=!0}}else{const H=n[++A],ne=xc(R,l,Ku(t),i);if(-1===ne){if(ms(s))return!1;y=!0;continue}if(""!==H){let Se;if(Se=ne>d?"":l[ne+1].toLowerCase(),2&s&&H!==Se){if(ms(s))return!1;y=!0}}}}else{if(!y&&!ms(s)&&!ms(R))return!1;if(y&&ms(R))continue;y=!1,s=R|1&s}}return ms(s)||y}function ms(t){return!(1&t)}function xc(t,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let d=!1;for(;l<n.length;){const y=n[l];if(y===t)return l;if(3===y||6===y)d=!0;else{if(1===y||2===y){let A=n[++l];for(;"string"==typeof A;)A=n[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=d?1:2}return-1}return function Gd(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function uu(t,n,i=!1){for(let s=0;s<n.length;s++)if(dc(t,n[s],i))return!0;return!1}function rf(t,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(t.length===s.length){for(let l=0;l<t.length;l++)if(t[l]!==s[l])continue e;return!0}}return!1}function zu(t,n){return t?":not("+n.trim()+")":n}function eg(t){let n=t[0],i=1,s=2,l="",d=!1;for(;i<t.length;){let y=t[i];if("string"==typeof y)if(2&s){const A=t[++i];l+="["+y+(A.length>0?'="'+A+'"':"")+"]"}else 8&s?l+="."+y:4&s&&(l+=" "+y);else""!==l&&!ms(y)&&(n+=zu(d,l),l=""),s=y,d=d||!ms(s);i++}return""!==l&&(n+=zu(d,l)),n}const co={};function kc(t,n){return t.createText(n)}function cf(t,n,i){t.setValue(n,i)}function Fa(t,n){return t.createComment(function bl(t){return t.replace(iu,n=>n.replace(Cl,"\u200b$1\u200b"))}(n))}function Xa(t,n,i){return t.createElement(n,i)}function Ba(t,n,i,s,l){t.insertBefore(n,i,s,l)}function qd(t,n,i){t.appendChild(n,i)}function uf(t,n,i,s,l){null!==s?Ba(t,n,i,s,l):qd(t,n,i)}function Gu(t,n,i){t.removeChild(null,n,i)}function Ja(t,n,i){const{mergedAttrs:s,classes:l,styles:d}=i;null!==s&&function Kn(t,n,i){let s=0;for(;s<i.length;){const l=i[s];if("number"==typeof l){if(0!==l)break;s++;const d=i[s++],y=i[s++],A=i[s++];t.setAttribute(n,y,A,d)}else{const d=l,y=i[++s];_i(d)?t.setProperty(n,d,y):t.setAttribute(n,d,y),s++}}}(t,n,s),null!==l&&function Lc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}(t,n,l),null!==d&&function qu(t,n,i){t.setAttribute(n,"style",i)}(t,n,d)}function xl(t,n,i,s,l,d,y,A,R,H,ne){const Se=a.Yw1+s,ut=Se+l,ot=function lu(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:co);return i}(Se,ut),un="function"==typeof H?H():H;return ot[a.eDl]={type:t,blueprint:ot,template:i,queries:null,viewQuery:A,declTNode:n,data:ot.slice().fill(null,Se),bindingStartIndex:Se,expandoStartIndex:ut,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:R,consts:un,incompleteFirstPass:!1,ssrId:ne}}function Qd(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=xl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Qu(t,n,i,s,l,d,y,A,R,H,ne){const Se=n.blueprint.slice();return Se[a.jgP]=l,Se[a.Wg1]=1228|s,(null!==H||t&&2048&t[a.Wg1])&&(Se[a.Wg1]|=2048),(0,a.HUe)(Se),Se[a.f7T]=Se[a.X5O]=t,Se[a.SKP]=i,Se[a.M0L]=y||t&&t[a.M0L],Se[a.GpT]=A||t&&t[a.GpT],Se[a.YEL]=R||t&&t[a.YEL]||null,Se[a.qlT]=d,Se[a.ID]=function ar(){return Ut++}(),Se[a.tcA]=ne,Se[a.oMQ]=H,Se[a.b5C]=2==n.type?t[a.b5C]:Se,Se}function Yd(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Fc(t,n,i,s){if(0===i)return-1;const l=n.length;for(let d=0;d<i;d++)n.push(s),t.blueprint.push(s),t.data.push(null);return l}function du(t,n){return t[a.EJG]?t[a.Yrj][a.K29]=n:t[a.EJG]=n,t[a.Yrj]=n,n}function Xd(t=1){kl((0,a.klJ)(),(0,a.OAn)(),(0,a._px)()+t,!1)}function kl(t,n,i,s){if(!s)if(3&~n[a.Wg1]){const d=t.preOrderHooks;null!==d&&ur(n,d,0,i)}else{const d=t.preOrderCheckHooks;null!==d&&vn(n,d,i)}(0,a.ypq)(i)}var hu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hu||{});function fu(t,n,i,s){const l=(0,B.Ht)(null);try{const[d,y,A]=t.inputs[i];let R=null;0!==(y&hu.SignalBased)&&(R=n[d][B.bh]),null!==R&&void 0!==R.transformFn?s=R.transformFn(s):null!==A&&(s=A.call(n,s)),null!==t.setInput?t.setInput(n,R,s,i,d):st(n,R,d,s)}finally{(0,B.Ht)(l)}}function Yu(t,n,i,s,l){const d=(0,a._px)(),y=2&s;try{(0,a.ypq)(-1),y&&n.length>a.Yw1&&kl(t,n,a.Yw1,!1),Re(y?2:0,l,i),i(s,l)}finally{(0,a.ypq)(d),Re(y?3:1,l,i)}}function Xu(t,n,i){(function Zd(t,n,i){const s=i.directiveStart,l=i.directiveEnd;(0,a.Qs1)(i)&&function df(t,n,i){const s=(0,a.d31)(n,t),l=Qd(i),d=t[a.M0L].rendererFactory,y=du(t,Qu(t,l,null,Yd(i),s,n,null,d.createRenderer(s,i),null,null,null));t[n.index]=y}(n,i,t.data[s+i.componentOffset]),t.firstCreatePass||br(i,n);const d=i.initialInputs;for(let y=s;y<l;y++){const A=t.data[y],R=qr(n,t,y,i);se(R,n),null!==d&&gf(0,y-s,R,A,0,d),(0,a.JlV)(A)&&((0,a.KdJ)(i.index,n)[a.SKP]=qr(n,t,y,i))}})(t,n,i),!(64&~i.flags)&&function Ju(t,n,i){const s=i.directiveStart,l=i.directiveEnd,d=i.index,y=(0,a.Z9v)();try{(0,a.ypq)(d);for(let A=s;A<l;A++){const R=t.data[A],H=n[A];(0,a.RZ9)(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Bl(R,H)}}finally{(0,a.ypq)(-1),(0,a.RZ9)(y)}}(t,n,i)}function Bc(t,n,i=a.d31){const s=n.localNames;if(null!==s){let l=n.index+1;for(let d=0;d<s.length;d+=2){const y=s[d+1],A=-1===y?i(n,t):t[y];t[l++]=A}}}let _u,ff=()=>null;function Vc(t,n,i,s,l,d){Ul(t,n[a.eDl],n,i,s)?(0,a.Qs1)(t)&&function Ll(t,n){const i=(0,a.KdJ)(n,t);16&i[a.Wg1]||(i[a.Wg1]|=64)}(n,t.index):Jd(t,n,i,s,l,d)}function Jd(t,n,i,s,l,d){if(3&t.type){const y=(0,a.d31)(t,n);i=function mu(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),s=null!=d?d(s,t.value||"",i):s,l.setProperty(y,i,s)}}function Bl(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Vl(t,n){const i=t.directiveRegistry;let s=null;if(i)for(let l=0;l<i.length;l++){const d=i[l];uu(n,d.selectors,!1)&&(s??=[],(0,a.JlV)(d)?s.unshift(d):s.push(d))}return s}function fc(t,n,i,s,l,d,y){if(null==d)t.removeAttribute(n,l,i);else{const A=null==y?(0,a.eFE)(d):y(d,s||"",l);t.setAttribute(n,l,A,i)}}function gf(t,n,i,s,l,d){const y=d[n];if(null!==y)for(let A=0;A<y.length;A+=2)fu(s,i,y[A],y[A+1])}function mf(t,n,i){return(null===t||(0,a.JlV)(t))&&(i=(0,a.zAe)(i[n.index])),i[a.GpT]}function pc(t,n){const i=t[a.YEL];i&&i.get(a.ZTf,null)?.(n)}function Ul(t,n,i,s,l){const d=t.inputs?.[s],y=t.hostDirectiveInputs?.[s];let A=!1;if(y)for(let R=0;R<y.length;R+=2){const H=y[R];fu(n.data[H],i[H],y[R+1],l),A=!0}if(d)for(const R of d)fu(n.data[R],i[R],s,l),A=!0;return A}function _f(t,n){const i=(0,a.KdJ)(n,t),s=i[a.eDl];!function yf(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const l=i[a.jgP];null!==l&&null===i[a.tcA]&&(i[a.tcA]=ha(l,i[a.YEL])),Re(18),jl(s,i,i[a.SKP]),Re(19,i[a.SKP])}function jl(t,n,i){(0,a.ID8)(n);try{const s=t.viewQuery;null!==s&&Ls(1,s,i);const l=t.template;null!==l&&Yu(t,n,l,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),n[a.Ds7]?.finishViewCreation(t),t.staticContentQueries&&Ds(t,n),t.staticViewQueries&&Ls(2,t.viewQuery,i);const d=t.components;null!==d&&function Ef(t,n){for(let i=0;i<n.length;i++)_f(t,n[i])}(n,d)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[a.Wg1]&=-5,(0,a.bll)()}}function Va(t,n,i,s){const l=(0,B.Ht)(null);try{const d=n.tView,R=Qu(t,d,i,4096&t[a.Wg1]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);R[a.rQE]=t[n.index];const ne=t[a.Ds7];return null!==ne&&(R[a.Ds7]=ne.createEmbeddedView(d)),jl(d,R,i),R}finally{(0,B.Ht)(l)}}function mc(t,n){return!n||null===n.firstChild||ue(t)}function $l(t,n){return _u(t,n)}var Zu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zu||{});function yu(t){return!(32&~t.flags)}function jc(t,n,i,s,l){if(null!=s){let d,y=!1;(0,a.A0l)(s)?d=s:(0,a.q$2)(s)&&(y=!0,s=s[a.jgP]);const A=(0,a.IvY)(s);0===t&&null!==i?null==l?qd(n,i,A):Ba(n,i,A,l||null,!0):1===t&&null!==i?Ba(n,i,A,l||null,!0):2===t?Gu(n,A,y):3===t&&n.destroyNode(A),null!=d&&function oh(t,n,i,s,l){const d=i[a.s6P];d!==(0,a.IvY)(i)&&jc(n,t,s,d,l);for(let A=a.Y20;A<i.length;A++){const R=i[A];Ua(R[a.eDl],R,t,n,s,d)}}(n,t,d,i,l)}}function _c(t,n){If(t,n),n[a.jgP]=null,n[a.qlT]=null}function If(t,n){n[a.M0L].changeDetectionScheduler?.notify(9),Ua(t,n,n[a.GpT],2,null,null)}function Tf(t,n){const i=t[a.nfM],s=i.indexOf(n);i.splice(s,1)}function el(t,n){if((0,a.EPY)(n))return;const i=n[a.GpT];i.destroyNode&&Ua(t,n,i,3,null,null),function ng(t){let n=t[a.EJG];if(!n)return Af(t[a.eDl],t);for(;n;){let i=null;if((0,a.q$2)(n))i=n[a.EJG];else{const s=n[a.Y20];s&&(i=s)}if(!i){for(;n&&!n[a.K29]&&n!==t;)(0,a.q$2)(n)&&Af(n[a.eDl],n),n=n[a.f7T];null===n&&(n=t),(0,a.q$2)(n)&&Af(n[a.eDl],n),i=n&&n[a.K29]}n=i}}(n)}function Af(t,n){if((0,a.EPY)(n))return;const i=(0,B.Ht)(null);try{n[a.Wg1]&=-129,n[a.Wg1]|=256,n[a.Iaj]&&(0,B.XR)(n[a.Iaj]),function rg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof lr)){const d=i[s+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const A=l[d[y]],R=d[y+1];Re(4,A,R);try{R.call(A)}finally{Re(5,A,R)}}else{Re(4,l,d);try{d.call(l)}finally{Re(5,l,d)}}}}}(t,n),function o_(t,n){const i=t.cleanup,s=n[a.VVG];if(null!==i)for(let y=0;y<i.length-1;y+=2)if("string"==typeof i[y]){const A=i[y+3];A>=0?s[A]():s[-A].unsubscribe(),y+=2}else i[y].call(s[i[y+1]]);null!==s&&(n[a.VVG]=null);const l=n[a.Czx];if(null!==l){n[a.Czx]=null;for(let y=0;y<l.length;y++)(0,l[y])()}const d=n[a.tQN];if(null!==d){n[a.tQN]=null;for(const y of d)y.destroy()}}(t,n),1===n[a.eDl].type&&n[a.GpT].destroy();const s=n[a.rQE];if(null!==s&&(0,a.A0l)(n[a.f7T])){s!==n[a.f7T]&&Tf(s,n);const l=n[a.Ds7];null!==l&&l.detachView(t)}ai(n)}finally{(0,B.Ht)(i)}}function Kl(t,n,i){return vs(t,n.parent,i)}function vs(t,n,i){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return i[a.jgP];if((0,a.Qs1)(s)){const{encapsulation:l}=t.data[s.directiveStart+s.componentOffset];if(l===gs.None||l===gs.Emulated)return null}return(0,a.d31)(s,i)}function ig(t,n,i){return og(t,n,i)}function Df(t,n,i){return 40&t.type?(0,a.d31)(t,i):null}let wf,og=Df;function th(t,n){og=t,wf=n}function nh(t,n,i,s){const l=Kl(t,s,n),d=n[a.GpT],A=ig(s.parent||n[a.qlT],s,n);if(null!=l)if(Array.isArray(i))for(let R=0;R<i.length;R++)uf(d,l,i[R],A,!1);else uf(d,l,i,A,!1);void 0!==wf&&wf(d,s,n,i,l)}function Za(t,n){if(null!==n){const i=n.type;if(3&i)return(0,a.d31)(n,t);if(4&i)return Cf(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Za(t,s);{const l=t[n.index];return(0,a.A0l)(l)?Cf(-1,l):(0,a.IvY)(l)}}if(128&i)return Za(t,n.next);if(32&i)return $l(n,t)()||(0,a.IvY)(t[n.index]);{const s=Hl(t,n);return null!==s?Array.isArray(s)?s[0]:Za((0,a._0$)(t[a.b5C]),s):Za(t,n.next)}}return null}function Hl(t,n){return null!==n?t[a.b5C][a.qlT].projection[n.projection]:null}function Cf(t,n){const i=a.Y20+t+1;if(i<n.length){const s=n[i],l=s[a.eDl].firstChild;if(null!==l)return Za(s,l)}return n[a.s6P]}function rh(t,n,i,s,l,d,y){for(;null!=i;){if(128===i.type){i=i.next;continue}const A=s[i.index],R=i.type;if(y&&0===n&&(A&&se((0,a.IvY)(A),s),i.flags|=2),!yu(i))if(8&R)rh(t,n,i.child,s,l,d,!1),jc(n,t,l,A,d);else if(32&R){const H=$l(i,s);let ne;for(;ne=H();)jc(n,t,l,ne,d);jc(n,t,l,A,d)}else 16&R?ih(t,n,s,i,l,d):jc(n,t,l,A,d);i=y?i.projectionNext:i.next}}function Ua(t,n,i,s,l,d){rh(i,s,t.firstChild,n,l,d,!1)}function ih(t,n,i,s,l,d){const y=i[a.b5C],R=y[a.qlT].projection[s.projection];if(Array.isArray(R))for(let H=0;H<R.length;H++)jc(n,t,l,R[H],d);else{let H=R;const ne=y[a.f7T];ue(s)&&(H.flags|=128),rh(t,n,H,ne,l,d,!0)}}function Eu(t,n,i,s,l=!1){for(;null!==i;){if(128===i.type){i=l?i.projectionNext:i.next;continue}const d=n[i.index];null!==d&&s.push((0,a.IvY)(d)),(0,a.A0l)(d)&&zl(d,s);const y=i.type;if(8&y)Eu(t,n,i.child,s);else if(32&y){const A=$l(i,n);let R;for(;R=A();)s.push(R)}else if(16&y){const A=Hl(n,i);if(Array.isArray(A))s.push(...A);else{const R=(0,a._0$)(n[a.b5C]);Eu(R[a.eDl],R,A,s,!0)}}i=l?i.projectionNext:i.next}return s}function zl(t,n){for(let i=a.Y20;i<t.length;i++){const s=t[i],l=s[a.eDl].firstChild;null!==l&&Eu(s[a.eDl],s,l,n)}t[a.s6P]!==t[a.jgP]&&n.push(t[a.s6P])}function Gl(t){if(null!==t[a.JEi]){for(const n of t[a.JEi])n.impl.addSequence(n);t[a.JEi].length=0}}let sh=[];const Rf={...B.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{(0,a.blu)(t.lView)},consumerOnSignalRead(){this.lView[a.Iaj]=this}},c_={...B.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=(0,a._0$)(t.lView);for(;n&&!Pf(n[a.eDl]);)n=(0,a._0$)(n);n&&(0,a.HAh)(n)},consumerOnSignalRead(){this.lView[a.Iaj]=this}};function Pf(t){return 2!==t.type}function ah(t){if(null===t[a.tQN])return;let n=!0;for(;n;){let i=!1;for(const s of t[a.tQN])s.dirty&&(i=!0,null===s.zone||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));n=i&&!!(8192&t[a.Wg1])}}function tl(t,n=0){const s=t[a.M0L].rendererFactory;s.begin?.();try{!function d_(t,n){const i=(0,a.yP_)();try{(0,a.cBl)(!0),ch(t,n);let s=0;for(;(0,a.dMS)(t);){if(100===s)throw new a.buA(103,!1);s++,ch(t,1)}}finally{(0,a.cBl)(i)}}(t,n)}finally{s.end?.()}}function ug(t,n,i,s){if((0,a.EPY)(n))return;const l=n[a.Wg1];(0,a.ID8)(n);let A=!0,R=null,H=null;Pf(t)?(H=function Sf(t){return t[a.Iaj]??function s_(t){const n=sh.pop()??Object.create(Rf);return n.lView=t,n}(t)}(n),R=(0,B.Bg)(H)):null===(0,B.nR)()?(A=!1,H=function a_(t){const n=t[a.Iaj]??Object.create(c_);return n.lView=t,n}(n),R=(0,B.Bg)(H)):n[a.Iaj]&&((0,B.XR)(n[a.Iaj]),n[a.Iaj]=null);try{(0,a.HUe)(n),(0,a.Kw3)(t.bindingStartIndex),null!==i&&Yu(t,n,i,2,s);const ne=!(3&~l);if(ne){const ot=t.preOrderCheckHooks;null!==ot&&vn(n,ot,null)}else{const ot=t.preOrderHooks;null!==ot&&ur(n,ot,0,null),ft(n,0)}if(function Iu(t){for(let n=Me(t);null!==n;n=Ie(n)){if(!(2&n[a.Wg1]))continue;const i=n[a.nfM];for(let s=0;s<i.length;s++)(0,a.HAh)(i[s])}}(n),ah(n),vu(n,0),null!==t.contentQueries&&Ds(t,n),ne){const ot=t.contentCheckHooks;null!==ot&&vn(n,ot)}else{const ot=t.contentHooks;null!==ot&&ur(n,ot,1),ft(n,1)}!function lg(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const l=i[s];if(l<0)(0,a.ypq)(~l);else{const d=l,y=i[++s],A=i[++s];(0,a.vQI)(y,d);const R=n[d];Re(24,R),A(2,R),Re(25,R)}}}finally{(0,a.ypq)(-1)}}(t,n);const Se=t.components;null!==Se&&Of(n,Se,0);const ut=t.viewQuery;if(null!==ut&&Ls(2,ut,s),ne){const ot=t.viewCheckHooks;null!==ot&&vn(n,ot)}else{const ot=t.viewHooks;null!==ot&&ur(n,ot,2),ft(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[a.pcR]){for(const ot of n[a.pcR])ot();n[a.pcR]=null}Gl(n),n[a.Wg1]&=-73}catch(ne){throw(0,a.blu)(n),ne}finally{null!==H&&((0,B.Wu)(H,R),A&&function ag(t){t.lView[a.Iaj]!==t&&(t.lView=null,sh.push(t))}(H)),(0,a.bll)()}}function vu(t,n){for(let i=Me(t);null!==i;i=Ie(i))for(let s=a.Y20;s<i.length;s++)ql(i[s],n)}function Mf(t,n,i){Re(18);const s=(0,a.KdJ)(n,t);ql(s,i),Re(19,s[a.SKP])}function ql(t,n){(0,a.F1c)(t)&&ch(t,n)}function ch(t,n){const s=t[a.eDl],l=t[a.Wg1],d=t[a.Iaj];let y=!!(0===n&&16&l);if(y||=!!(64&l&&0===n),y||=!!(1024&l),y||=!(!d?.dirty||!(0,B.si)(d)),y||=!1,d&&(d.dirty=!1),t[a.Wg1]&=-9217,y)ug(s,t,s.template,t[a.SKP]);else if(8192&l){ah(t),vu(t,1);const A=s.components;null!==A&&Of(t,A,1),Gl(t)}}function Of(t,n,i){for(let s=0;s<n.length;s++)Mf(t,n[s],i)}function Ql(t,n){const i=(0,a.yP_)()?64:1088;for(t[a.M0L].changeDetectionScheduler?.notify(n);t;){t[a.Wg1]|=i;const s=(0,a._0$)(t);if((0,a.EFk)(t)&&!s)return t;t=s}return null}function uh(t,n,i,s){return[t,!0,0,n,null,s,null,i,null,null]}function dg(t,n){const i=a.Y20+n;if(i<t.length)return t[i]}function $c(t,n,i,s=!0){const l=n[a.eDl];if(function h(t,n,i,s){const l=a.Y20+s,d=i.length;s>0&&(i[l-1][a.K29]=n),s<d-a.Y20?(n[a.K29]=i[l],(0,a.EYC)(i,a.Y20+s,n)):(i.push(n),n[a.K29]=null),n[a.f7T]=i;const y=n[a.rQE];null!==y&&i!==y&&p(y,n);const A=n[a.Ds7];null!==A&&A.insertView(t),(0,a._gW)(n),n[a.Wg1]|=128}(l,n,t,i),s){const y=Cf(i,t),A=n[a.GpT],R=A.parentNode(t[a.s6P]);null!==R&&function Wl(t,n,i,s,l,d){s[a.jgP]=l,s[a.qlT]=n,Ua(t,s,i,1,l,d)}(l,t[a.qlT],A,n,R,y)}const d=n[a.tcA];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function lh(t,n){const i=v(t,n);return void 0!==i&&el(i[a.eDl],i),i}function v(t,n){if(t.length<=a.Y20)return;const i=a.Y20+n,s=t[i];if(s){const l=s[a.rQE];null!==l&&l!==t&&Tf(l,s),n>0&&(t[i-1][a.K29]=s[a.K29]);const d=(0,a.E6O)(t,a.Y20+n);_c(s[a.eDl],s);const y=d[a.Ds7];null!==y&&y.detachView(d[a.eDl]),s[a.f7T]=null,s[a.K29]=null,s[a.Wg1]&=-129}return s}function p(t,n){const i=t[a.nfM],s=n[a.f7T];((0,a.q$2)(s)||n[a.b5C]!==s[a.f7T][a.b5C])&&(t[a.Wg1]|=2),null===i?t[a.nfM]=[n]:i.push(n)}class T{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const n=this._lView,i=n[a.eDl];return Eu(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i}get context(){return this._lView[a.SKP]}set context(n){this._lView[a.SKP]=n}get destroyed(){return(0,a.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[a.f7T];if((0,a.A0l)(n)){const i=n[a.bm_],s=i?i.indexOf(this):-1;s>-1&&(v(n,s),(0,a.E6O)(i,s))}this._attachedToViewContainer=!1}el(this._lView[a.eDl],this._lView)}onDestroy(n){(0,a.ik5)(this._lView,n)}markForCheck(){Ql(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[a.Wg1]&=-129}reattach(){(0,a._gW)(this._lView),this._lView[a.Wg1]|=128}detectChanges(){this._lView[a.Wg1]|=1024,tl(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new a.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=(0,a.EFk)(this._lView),i=this._lView[a.rQE];null!==i&&!n&&Tf(i,this._lView),If(this._lView[a.eDl],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new a.buA(902,!1);this._appRef=n;const i=(0,a.EFk)(this._lView),s=this._lView[a.rQE];null!==s&&!i&&p(s,this._lView),(0,a._gW)(this._lView)}}let lt=(()=>class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=wt;constructor(i,s,l){this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,l){const d=Va(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:s,dehydratedView:l});return new T(d)}})();function wt(){return cn((0,a.Mx4)(),(0,a.OAn)())}function cn(t,n){return 4&t.type?new lt(n,t,ii(t,n)):null}function f_(t,n,i){const s=n.insertBeforeIndex,l=Array.isArray(s)?s[0]:s;return null===l?Df(t,0,i):(0,a.IvY)(i[l])}function p_(t,n,i,s,l){const d=n.insertBeforeIndex;if(Array.isArray(d)){let y=s,A=null;if(3&n.type||(A=y,y=l),null!==y&&-1===n.componentOffset)for(let R=1;R<d.length;R++)Ba(t,y,i[d[R]],A,!1)}}function ed(t,n,i,s,l){let d=t.data[n];if(null===d)d=hg(t,n,i,s,l),(0,a.JjR)()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=s,d.attrs=l;const y=(0,a.Ab)();d.injectorIndex=null===y?-1:y.injectorIndex}return(0,a.iMd)(d,!0),d}function hg(t,n,i,s,l){const d=(0,a.veI)(),y=(0,a.YWB)(),R=t.data[n]=function il(t,n,i,s,l,d){let y=n?n.injectorIndex:-1,A=0;return(0,a.KtD)()&&(A|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,i,n,s,l);return function pE(t,n,i,s){null===t.firstChild&&(t.firstChild=n),null!==i&&(s?null==i.child&&null!==n.parent&&(i.child=n):null===i.next&&(i.next=n,n.prev=i))}(t,R,d,y),R}function g_(t,n){if(t.push(n),t.length>1)for(let i=t.length-2;i>=0;i--){const s=t[i];td(s)||fg(s,n)&&null===nd(s)&&pg(s,n.index)}}function td(t){return!(64&t.type)}function fg(t,n){return td(n)||t.index>n.index}function nd(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function pg(t,n){const i=t.insertBeforeIndex;Array.isArray(i)?i[0]=n:(th(f_,p_),t.insertBeforeIndex=n)}function Au(t,n){const i=t.data[n];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function m_(t,n,i){const s=hg(t,i,64,null,null);return g_(n,s),s}function id(t,n){const i=n[t.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function kf(t){return t>>>17}function Kc(t){return(131070&t)>>>1}function _g(t,n,i){t.index=0;const s=id(n,i);t.removes=null!==s?n.remove[s]:a.Mlv}function od(t){if(t.index<t.removes.length){const n=t.removes[t.index++];return n>0?t.lView[n]:(t.stack.push(t.index,t.removes),_g(t,t.lView[a.eDl].data[~n],t.lView),od(t))}return 0===t.stack.length?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),od(t))}function mE(){const t={stack:[],index:-1};return function n(i,s){for(t.lView=s;t.stack.length;)t.stack.pop();return _g(t,i.value,s),od.bind(null,t)}}function wg(t,n,i){for(const s of i.node.cases[i.case]){const l=n.get(s.index-a.Yw1);l&&Gu(t,l,!1)}}function _h(t){const n=t[a.qFA]??[],s=t[a.f7T][a.GpT],l=[];for(const d of n)void 0!==d.data[hr]?l.push(d):Cg(d,s);t[a.qFA]=l}function R_(t){const{lContainer:n}=t,i=n[a.qFA];if(null===i)return;const l=n[a.f7T][a.GpT];for(const d of i)Cg(d,l)}function Cg(t,n){let i=0,s=t.firstChild;if(s){const l=t.data[Ue];for(;i<l;){const d=s.nextSibling;Gu(n,s,!1),s=d,i++}}}function yh(t){_h(t);const n=t[a.jgP];(0,a.q$2)(n)&&ec(n);for(let i=a.Y20;i<t.length;i++)ec(t[i])}function ec(t){!function S_(t){const n=t[a.tcA];if(n){const{i18nNodes:i,dehydratedIcuData:s}=n;if(i&&s){const l=t[a.GpT];for(const d of s.values())wg(l,i,d)}n.i18nNodes=void 0,n.dehydratedIcuData=void 0}}(t);const n=t[a.eDl];for(let i=a.Yw1;i<n.bindingStartIndex;i++)(0,a.A0l)(t[i])?yh(t[i]):(0,a.q$2)(t[i])&&ec(t[i])}let P_=()=>null,Kf=()=>null;function ld(t,n){return P_(t,n)}function Hf(t,n,i){return Kf(t,n,i)}let wE=class{},Gf=class{};class CE{resolveComponentFactory(n){throw new a.buA(917,!1)}}let al=class{static NULL=new CE};class qf{}let Pg=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function O_(){const t=(0,a.OAn)(),n=(0,a.Mx4)(),i=(0,a.KdJ)(n.index,t);return((0,a.q$2)(i)?i:t)[a.GpT]}()})(),bE=(()=>{class t{static \u0275prov=(0,a.jDH)({token:t,providedIn:"root",factory:()=>null})}return t})();function Eh(t){return void 0!==t.ngModule}function cl(t){return!!(0,a.phH)(t)}function dd(t){return!!(0,a.oyA)(t)}function N_(t){return!!(0,a.HaV)(t)}function ul(t){return!!(0,a.xUg)(t)}function Mg(t,n){if((0,a.Jzi)(t)&&!(t=(0,a.nl4)(t)))throw new Error(`Expected forwardRef function, imported from "${(0,a.PP7)(n)}", to return a standalone entity or NgModule but got "${(0,a.PP7)(t)||t}".`);if(null==(0,a.phH)(t)){const i=(0,a.xUg)(t)||(0,a.HaV)(t)||(0,a.oyA)(t);if(null==i)throw Eh(t)?new Error(`A module with providers was imported from "${(0,a.PP7)(n)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,a.PP7)(t)}" type, imported from "${(0,a.PP7)(n)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!i.standalone)throw new Error(`The "${(0,a.PP7)(t)}" ${function SE(t){return(0,a.xUg)(t)?"component":(0,a.HaV)(t)?"directive":(0,a.oyA)(t)?"pipe":"type"}(t)}, imported from "${(0,a.PP7)(n)}", is not standalone. Did you forget to add the standalone: true flag?`)}}class Og{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const n of this.ngModulesWithSomeUnresolvedDecls){const i=(0,a.phH)(n);if(i?.declarations)for(const s of ma(i.declarations))ul(s)&&this.ownerNgModule.set(s,n)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(n,i){this.resolveNgModulesDecls();const s=(0,a.xUg)(n);if(null===s)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${n}`);if(s.standalone){const l=this.getStandaloneComponentScope(n,i);return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes,...l.compilation.ngModules]}}{if(!this.ownerNgModule.has(n))return{dependencies:[]};const l=this.getNgModuleScope(this.ownerNgModule.get(n));return l.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...l.compilation.directives,...l.compilation.pipes]}}}registerNgModule(n,i){if(!cl(n))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${n}`);this.ngModulesWithSomeUnresolvedDecls.add(n)}clearScopeCacheFor(n){this.ngModulesScopeCache.delete(n),this.standaloneComponentsScopeCache.delete(n)}getNgModuleScope(n){if(this.ngModulesScopeCache.has(n))return this.ngModulesScopeCache.get(n);const i=this.computeNgModuleScope(n);return this.ngModulesScopeCache.set(n,i),i}computeNgModuleScope(n){const i=(0,a.WbQ)(n),s={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const l of ma(i.imports))if(cl(l)){const d=this.getNgModuleScope(l);yc(d.exported.directives,s.compilation.directives),yc(d.exported.pipes,s.compilation.pipes)}else{if(!(0,a.QuC)(l)){s.compilation.isPoisoned=!0;break}if(N_(l)||ul(l))s.compilation.directives.add(l);else{if(!dd(l))throw new a.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");s.compilation.pipes.add(l)}}if(!s.compilation.isPoisoned)for(const l of ma(i.declarations)){if(cl(l)||(0,a.QuC)(l)){s.compilation.isPoisoned=!0;break}dd(l)?s.compilation.pipes.add(l):s.compilation.directives.add(l)}for(const l of ma(i.exports))if(cl(l)){const d=this.getNgModuleScope(l);yc(d.exported.directives,s.exported.directives),yc(d.exported.pipes,s.exported.pipes),yc(d.exported.directives,s.compilation.directives),yc(d.exported.pipes,s.compilation.pipes)}else dd(l)?s.exported.pipes.add(l):s.exported.directives.add(l);return s}getStandaloneComponentScope(n,i){if(this.standaloneComponentsScopeCache.has(n))return this.standaloneComponentsScopeCache.get(n);const s=this.computeStandaloneComponentScope(n,i);return this.standaloneComponentsScopeCache.set(n,s),s}computeStandaloneComponentScope(n,i){const s={compilation:{directives:new Set([n]),pipes:new Set,ngModules:new Set}};for(const l of(0,a.Bqz)(i??[])){const d=(0,a.nl4)(l);try{Mg(d,n)}catch{return s.compilation.isPoisoned=!0,s}if(cl(d)){s.compilation.ngModules.add(d);const y=this.getNgModuleScope(d);if(y.exported.isPoisoned)return s.compilation.isPoisoned=!0,s;yc(y.exported.directives,s.compilation.directives),yc(y.exported.pipes,s.compilation.pipes)}else if(dd(d))s.compilation.pipes.add(d);else{if(!N_(d)&&!ul(d))return s.compilation.isPoisoned=!0,s;s.compilation.directives.add(d)}}return s}isOrphanComponent(n){const i=(0,a.xUg)(n);return!(!i||i.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(n)))}}function yc(t,n){for(const i of t)n.add(i)}const Ec=new Og,Qf={};class Cu{injector;parentInjector;constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){const l=this.injector.get(n,Qf,s);return l!==Qf||i===Qf?l:this.parentInjector.get(n,i,s)}}function Ng(t,n,i){let s=i?t.styles:null,l=i?t.classes:null,d=0;if(null!==n)for(let y=0;y<n.length;y++){const A=n[y];if("number"==typeof A)d=A;else if(1==d)l=(0,a.n$e)(l,A);else if(2==d){const H=n[++y];s=(0,a.n$e)(s,A+": "+H+";")}}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=l:t.classesWithoutHost=l}function bu(t,n=0){const i=(0,a.OAn)();return null===i?(0,a.KVO)(t,n):bn((0,a.Mx4)(),i,(0,a.nl4)(t),n)}function vc(){throw new Error("invalid")}function vh(t,n,i,s,l){const d=null===s?null:{"":-1},y=l(t,i);if(null!==y){let A=y,R=null,H=null;for(const ne of y)if(null!==ne.resolveHostDirectives){[A,R,H]=ne.resolveHostDirectives(y);break}!function PE(t,n,i,s,l,d,y){const A=s.length;let R=!1;for(let ut=0;ut<A;ut++){const ot=s[ut];!R&&(0,a.JlV)(ot)&&(R=!0,xg(t,i,ut)),Un(br(i,n),t,ot.type)}!function Fg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,A);for(let ut=0;ut<A;ut++){const ot=s[ut];ot.providersResolver&&ot.providersResolver(ot)}let H=!1,ne=!1,Se=Fc(t,n,A,null);A>0&&(i.directiveToIndex=new Map);for(let ut=0;ut<A;ut++){const ot=s[ut];if(i.mergedAttrs=Xn(i.mergedAttrs,ot.hostAttrs),kg(t,i,n,Se,ot),L_(Se,ot,l),null!==y&&y.has(ot)){const[Wn,Wr]=y.get(ot);i.directiveToIndex.set(ot.type,[Se,Wn+i.directiveStart,Wr+i.directiveStart])}else(null===d||!d.has(ot))&&i.directiveToIndex.set(ot.type,Se);null!==ot.contentQueries&&(i.flags|=4),(null!==ot.hostBindings||null!==ot.hostAttrs||0!==ot.hostVars)&&(i.flags|=64);const un=ot.type.prototype;!H&&(un.ngOnChanges||un.ngOnInit||un.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),H=!0),!ne&&(un.ngOnChanges||un.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),ne=!0),Se++}!function ME(t,n,i){for(let s=n.directiveStart;s<n.directiveEnd;s++){const l=t.data[s];if(null!==i&&i.has(l)){const d=i.get(l);x_(0,n,d,s),x_(1,n,d,s),k_(n,s,!0)}else Yf(0,n,l,s),Yf(1,n,l,s),k_(n,s,!1)}}(t,i,d)}(t,n,i,A,d,R,H)}null!==d&&null!==s&&function RE(t,n,i){const s=t.localNames=[];for(let l=0;l<n.length;l+=2){const d=i[n[l+1]];if(null==d)throw new a.buA(-301,!1);s.push(n[l],d)}}(i,s,d)}function xg(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Yf(t,n,i,s){const l=0===t?i.inputs:i.outputs;for(const d in l)if(l.hasOwnProperty(d)){let y;y=0===t?n.inputs??={}:n.outputs??={},y[d]??=[],y[d].push(s),Xf(n,d)}}function x_(t,n,i,s){const l=0===t?i.inputs:i.outputs;for(const d in l)if(l.hasOwnProperty(d)){const y=l[d];let A;A=0===t?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},A[y]??=[],A[y].push(s,d),Xf(n,y)}}function Xf(t,n){"class"===n?t.flags|=8:"style"===n&&(t.flags|=16)}function k_(t,n,i){const{attrs:s,inputs:l,hostDirectiveInputs:d}=t;if(null===s||!i&&null===l||i&&null===d||Ku(t))return t.initialInputs??=[],void t.initialInputs.push(null);let y=null,A=0;for(;A<s.length;){const R=s[A];if(0!==R)if(5!==R){if("number"==typeof R)break;if(!i&&l.hasOwnProperty(R)){const H=l[R];for(const ne of H)if(ne===n){y??=[],y.push(R,s[A+1]);break}}else if(i&&d.hasOwnProperty(R)){const H=d[R];for(let ne=0;ne<H.length;ne+=2)if(H[ne]===n){y??=[],y.push(H[ne+1],s[A+1]);break}}A+=2}else A+=2;else A+=4}t.initialInputs??=[],t.initialInputs.push(y)}function kg(t,n,i,s,l){t.data[s]=l;const d=l.factory||(l.factory=(0,a.wGu)(l.type,!0)),y=new lr(d,(0,a.JlV)(l),bu);t.blueprint[s]=y,i[s]=y,function OE(t,n,i,s,l){const d=l.hostBindings;if(d){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const A=~n.index;(function Lg(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(y)!=A&&y.push(A),y.push(i,s,d)}}(t,n,s,Fc(t,i,l.hostVars,co),l)}function L_(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;(0,a.JlV)(n)&&(i[""]=t)}}function F_(t,n,i,s,l,d,y,A){const R=n.consts,ne=ed(n,t,2,s,(0,a.db4)(R,y));return d&&vh(n,i,ne,(0,a.db4)(R,A),l),ne.mergedAttrs=Xn(ne.mergedAttrs,ne.attrs),null!==ne.attrs&&Ng(ne,ne.attrs,!1),null!==ne.mergedAttrs&&Ng(ne,ne.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ne),ne}function B_(t,n){Jt(t,n),(0,a.srX)(n)&&t.queries.elementEnd(n)}function Ih(t){return!!Th(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Bg(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}function Th(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ic(t,n,i){return t[n]=i}function Su(t,n){return t[n]}function Wo(t,n,i){return i!==co&&(!Object.is(t[n],i)&&(t[n]=i,!0))}function zc(t,n,i,s){const l=Wo(t,n,i);return Wo(t,n+1,s)||l}function Ah(t,n,i,s,l){const d=zc(t,n,i,s);return Wo(t,n+2,l)||d}function Bs(t,n,i,s,l,d){const y=zc(t,n,i,s);return zc(t,n+2,l,d)||y}function Dh(t,n,i){return function s(l){Ql((0,a.Qs1)(t)?(0,a.KdJ)(t.index,n):n,5);const y=n[a.SKP];let A=wh(n,y,i,l),R=s.__ngNextListenerFn__;for(;R;)A=wh(n,y,R,l)&&A,R=R.__ngNextListenerFn__;return A}}function wh(t,n,i,s){const l=(0,B.Ht)(null);try{return Re(6,n,i),!1!==i(s)}catch(d){return pc(t,d),!1}finally{Re(7,n,i),(0,B.Ht)(l)}}function V_(t,n,i,s,l,d,y){const A=n.firstCreatePass?(0,a.vNG)(n):null,R=(0,a.d_l)(i),H=R.length;R.push(l,d),A&&A.push(s,t,H,(H+1)*(y?-1:1))}function Jf(t,n,i,s,l,d){const A=n[a.eDl],Se=n[i][A.data[i].outputs[s]].subscribe(d);V_(t.index,A,n,l,d,Se,!0)}const Tc=Symbol("BINDING");class Wg extends al{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=(0,a.xUg)(n);return new ep(i,this.ngModule)}}class ep extends Gf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function hd(t){return Object.keys(t).map(n=>{const[i,s,l]=t[n],d={propName:i,templateName:n,isSignal:0!==(s&hu.SignalBased)};return l&&(d.transform=l),d})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function W_(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function sf(t){return t.map(eg).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!i}create(n,i,s,l,d,y){Re(22);const A=(0,B.Ht)(null);try{const R=this.componentDef,H=function BE(t,n,i,s){const l=t?["ng-version","20.0.0"]:function af(t){const n=[],i=[];let s=1,l=2;for(;s<t.length;){let d=t[s];if("string"==typeof d)2===l?""!==d&&n.push(d,t[++s]):8===l&&i.push(d);else{if(!ms(l))break;l=d}s++}return i.length&&n.push(1,...i),n}(n.selectors[0]);let d=null,y=null,A=0;if(i)for(const ne of i)A+=ne[Tc].requiredVars,ne.create&&(ne.targetIdx=0,(d??=[]).push(ne)),ne.update&&(ne.targetIdx=0,(y??=[]).push(ne));if(s)for(let ne=0;ne<s.length;ne++){const Se=s[ne];if("function"!=typeof Se)for(const ut of Se.bindings){A+=ut[Tc].requiredVars;const ot=ne+1;ut.create&&(ut.targetIdx=ot,(d??=[]).push(ut)),ut.update&&(ut.targetIdx=ot,(y??=[]).push(ut))}}const R=[n];if(s)for(const ne of s){const ut=(0,a.HaV)("function"==typeof ne?ne:ne.type);R.push(ut)}return xl(0,null,function VE(t,n){return t||n?i=>{if(1&i&&t)for(const s of t)s.create();if(2&i&&n)for(const s of n)s.update()}:null}(d,y),1,A,R,null,null,null,[l],null)}(s,R,y,d),ne=function H_(t,n,i){let s=n instanceof a.uvJ?n:n?.injector;return s&&null!==t.getStandaloneInjector&&(s=t.getStandaloneInjector(s)||s),s?new Cu(i,s):i}(R,l||this.ngModule,n),Se=function fd(t){const n=t.get(qf,null);if(null===n)throw new a.buA(407,!1);return{rendererFactory:n,sanitizer:t.get(bE,null),changeDetectionScheduler:t.get(a.hk6,null),ngReflect:!1}}(ne),ut=Se.rendererFactory.createRenderer(null,R),ot=s?function hf(t,n,i,s){const d=s.get(To,!1)||i===gs.ShadowDom,y=t.selectRootElement(n,d);return function pu(t){ff(t)}(y),y}(ut,s,R.encapsulation,ne):function Kg(t,n){const i=(t.selectors[0][0]||"div").toLowerCase();return Xa(n,i,"svg"===i?a.jNX:"math"===i?a.rJ1:null)}(R,ut),un=y?.some(Hg)||d?.some(Fr=>"function"!=typeof Fr&&Fr.bindings.some(Hg)),Wn=Qu(null,H,null,512|Yd(R),null,null,Se,ut,ne,null,ha(ot,ne,!0));Wn[a.Yw1]=ot,(0,a.ID8)(Wn);let Wr=null;try{const Fr=F_(a.Yw1,H,Wn,"#host",()=>H.directiveRegistry,!0,0);ot&&(Ja(ut,ot,Fr),se(ot,Wn)),Xu(H,Wn,Fr),Ps(H,Fr,Wn),B_(H,Fr),void 0!==i&&function z_(t,n,i){const s=t.projection=[];for(let l=0;l<n.length;l++){const d=i[l];s.push(null!=d&&d.length?Array.from(d):null)}}(Fr,this.ngContentSelectors,i),Wr=(0,a.KdJ)(Fr.index,Wn),Wn[a.SKP]=Wr[a.SKP],jl(H,Wn,null)}catch(Fr){throw null!==Wr&&ai(Wr),ai(Wn),Fr}finally{Re(23),(0,a.bll)()}return new UE(this.componentType,Wn,!!un)}finally{(0,B.Ht)(A)}}}function Hg(t){const n=t[Tc].kind;return"input"===n||"twoWay"===n}class UE extends wE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,i,s){super(),this._rootLView=i,this._hasInputBindings=s,this._tNode=(0,a.XRZ)(i[a.eDl],a.Yw1),this.location=ii(this._tNode,i),this.instance=(0,a.KdJ)(this._tNode.index,i)[a.SKP],this.hostView=this.changeDetectorRef=new T(i,void 0),this.componentType=n}setInput(n,i){const s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const l=this._rootLView;Ul(s,l[a.eDl],l,n,i),this.previousInputValues.set(n,i),Ql((0,a.KdJ)(s.index,l),1)}get injector(){return new Pe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let tp=(()=>class t{static __NG_ELEMENT_ID__=jE})();function jE(){return q_((0,a.Mx4)(),(0,a.OAn)())}const $E=tp,G_=class extends $E{_lContainer;_hostTNode;_hostLView;constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return ii(this._hostTNode,this._hostLView)}get injector(){return new Pe(this._hostTNode,this._hostLView)}get parentInjector(){const n=Er(this._hostTNode,this._hostLView);if(ln(n)){const i=Gn(n,this._hostLView),s=Ht(n);return new Pe(i[a.eDl].data[s+8],i)}return new Pe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=zg(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-a.Y20}createEmbeddedView(n,i,s){let l,d;"number"==typeof s?l=s:null!=s&&(l=s.index,d=s.injector);const y=ld(this._lContainer,n.ssrId),A=n.createEmbeddedViewImpl(i||{},d,y);return this.insertImpl(A,l,mc(this._hostTNode,y)),A}createComponent(n,i,s,l,d,y,A){const R=n&&!Je(n);let H;if(R)H=i;else{const Wr=i||{};H=Wr.index,s=Wr.injector,l=Wr.projectableNodes,d=Wr.environmentInjector||Wr.ngModuleRef,y=Wr.directives,A=Wr.bindings}const ne=R?n:new ep((0,a.xUg)(n)),Se=s||this.parentInjector;if(!d&&null==ne.ngModule){const Fr=(R?Se:this.parentInjector).get(a.uvJ,null);Fr&&(d=Fr)}const ut=(0,a.xUg)(ne.componentType??{}),ot=ld(this._lContainer,ut?.id??null),Wn=ne.create(Se,l,ot?.firstChild??null,d,y,A);return this.insertImpl(Wn.hostView,H,mc(this._hostTNode,ot)),Wn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,s){const l=n._lView;if((0,a.ITl)(l)){const A=this.indexOf(n);if(-1!==A)this.detach(A);else{const R=l[a.f7T],H=new G_(R,R[a.qlT],R[a.f7T]);H.detach(H.indexOf(n))}}const d=this._adjustIndex(i),y=this._lContainer;return $c(y,l,d,s),n.attachToViewContainerRef(),(0,a.EYC)(Gg(y),d,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=zg(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=v(this._lContainer,i);s&&((0,a.E6O)(Gg(this._lContainer),i),el(s[a.eDl],s))}detach(n){const i=this._adjustIndex(n,-1),s=v(this._lContainer,i);return s&&null!=(0,a.E6O)(Gg(this._lContainer),i)?new T(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function zg(t){return t[a.bm_]}function Gg(t){return t[a.bm_]||(t[a.bm_]=[])}function q_(t,n){let i;const s=n[t.index];return(0,a.A0l)(s)?i=s:(i=uh(s,n,null,t),n[t.index]=i,du(n,i)),qg(i,n,t,s),new G_(i,t,n)}let qg=function Yg(t,n,i,s){if(t[a.s6P])return;let l;l=8&i.type?(0,a.IvY)(s):function WE(t,n){const i=t[a.GpT],s=i.createComment(""),l=(0,a.d31)(n,t),d=i.parentNode(l);return Ba(i,d,s,i.nextSibling(l),!1),s}(n,i),t[a.s6P]=l},np=()=>!1;function Qg(t,n,i){return np(t,n,i)}class Is{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new Is(this.queryList)}setDirty(){this.queryList.setDirty()}}class So{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let d=0;d<s;d++){const y=i.getByIndex(d);l.push(this.queries[y.indexInDeclarationView].clone())}return new So(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==ip(n,i).matches&&this.queries[i].setDirty()}}class tc{flags;read;predicate;constructor(n,i,s=null){this.flags=i,this.read=s,this.predicate="string"==typeof n?function Q0(t){return t.split(",").map(n=>n.trim())}(n):n}}class Xg{queries;constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,d=this.getByIndex(s).embeddedTView(n,l);d&&(d.indexInDeclarationView=s,null!==i?i.push(d):i=[d])}return null!==i?new Xg(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Y_{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,i=-1){this.metadata=n,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Y_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const d=s[l];this.matchTNodeWithReadOption(n,i,X_(i,d)),this.matchTNodeWithReadOption(n,i,Ir(i,n,d,!1,!1))}else s===lt?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Ir(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===Pi||l===tp||l===lt&&4&i.type)this.addMatch(i.index,-2);else{const d=Ir(i,n,l,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function X_(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function J_(t,n,i,s){return-1===i?function q0(t,n){return 11&t.type?ii(t,n):4&t.type?cn(t,n):null}(n,t):-2===i?function Z_(t,n,i){return i===Pi?ii(n,t):i===lt?cn(n,t):i===tp?q_(n,t):void 0}(t,n,s):qr(t,t[a.eDl],i,n)}function Jg(t,n,i,s){const l=n[a.Ds7].queries[s];if(null===l.matches){const d=t.data,y=i.matches,A=[];for(let R=0;null!==y&&R<y.length;R+=2){const H=y[R];A.push(H<0?null:J_(n,d[H],y[R+1],i.metadata.read))}l.matches=A}return l.matches}function rp(t,n,i,s){const l=t.queries.getByIndex(i),d=l.matches;if(null!==d){const y=Jg(t,n,l,i);for(let A=0;A<d.length;A+=2){const R=d[A];if(R>0)s.push(y[A/2]);else{const H=d[A+1],ne=n[-R];for(let Se=a.Y20;Se<ne.length;Se++){const ut=ne[Se];ut[a.rQE]===ut[a.f7T]&&rp(ut[a.eDl],ut,H,s)}if(null!==ne[a.nfM]){const Se=ne[a.nfM];for(let ut=0;ut<Se.length;ut++){const ot=Se[ut];rp(ot[a.eDl],ot,H,s)}}}}}return s}function Pu(t,n){return t[a.Ds7].queries[n].queryList}function ey(t,n,i){const s=new Pt(!(4&~i));return(0,a.B22)(t,n,s,s.destroy),(n[a.Ds7]??=new So).queries.push(new Is(s))-1}function KE(t,n,i){const s=(0,a.klJ)();return s.firstCreatePass&&(ty(s,new tc(t,n,i),-1),!(2&~n)&&(s.staticViewQueries=!0)),ey(s,(0,a.OAn)(),n)}function ko(t,n,i,s){const l=(0,a.klJ)();if(l.firstCreatePass){const d=(0,a.Mx4)();ty(l,new tc(n,i,s),d.index),function as(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),!(2&~i)&&(l.staticContentQueries=!0)}return ey(l,(0,a.OAn)(),i)}function ty(t,n,i){null===t.queries&&(t.queries=new Xg),t.queries.track(new Y_(n,i))}function ip(t,n){return t.queries.getByIndex(n)}function HE(t,n){const i=t[a.eDl],s=ip(i,n);return s.crossesNgTemplate?rp(i,t,n,[]):Jg(i,t,s,n)}function ny(t,n,i){let s;const l=(0,B.KZ)(()=>{s._dirtyCounter();const d=function X0(t,n){const i=t._lView,s=t._queryIndex;if(void 0===i||void 0===s||4&i[a.Wg1])return n?void 0:a.Mlv;const l=Pu(i,s),d=HE(i,s);return l.reset(d,Cr),n?l.first:l._changesDetected||void 0===t._flatValue?t._flatValue=l.toArray():t._flatValue}(s,t);if(n&&void 0===d)throw new a.buA(-951,!1);return d});return s=l[B.bh],s._dirtyCounter=(0,a.vPA)(0),s._flatValue=void 0,l}function Zg(t){return ny(!0,!1)}function ry(t){return ny(!0,!0)}function Y0(t){return ny(!1,!1)}function zE(t,n){const i=t[B.bh];i._lView=(0,a.OAn)(),i._queryIndex=n,i._queryList=Pu(i._lView,n),i._queryList.onDirty(()=>i._dirtyCounter.update(s=>s+1))}function J0(t){const n=[],i=new Map;function s(l){let d=i.get(l);if(!d){const y=t(l);i.set(l,d=y.then(md))}return d}return bh.forEach((l,d)=>{const y=[];l.templateUrl&&y.push(s(l.templateUrl).then(H=>{l.template=H}));const A="string"==typeof l.styles?[l.styles]:l.styles||[];if(l.styles=A,l.styleUrl&&l.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(l.styleUrls?.length){const H=l.styles.length,ne=l.styleUrls;l.styleUrls.forEach((Se,ut)=>{A.push(""),y.push(s(Se).then(ot=>{A[H+ut]=ot,ne.splice(ne.indexOf(Se),1),0==ne.length&&(l.styleUrls=void 0)}))})}else l.styleUrl&&y.push(s(l.styleUrl).then(H=>{A.push(H),l.styleUrl=void 0}));const R=Promise.all(y).then(()=>function Ac(t){pd.delete(t)}(d));n.push(R)}),function wa(){const t=bh;bh=new Map}(),Promise.all(n).then(()=>{})}let bh=new Map;const pd=new Set;function Z0(){return 0===bh.size}function md(t){return"string"==typeof t?t:t.text()}const Ca=new Map;function em(t,n){(function qE(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${(0,a.AsM)(n)} vs ${(0,a.AsM)(n.name)}`)})(n,Ca.get(n)||null,t),Ca.set(n,t)}const Mu=new Set;function zs(t){Mu.has(t)||(Mu.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let nc=class{},nm=class{};function rm(t,n){return new Sh(t,n??null,[])}class Sh extends nc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wg(this);constructor(n,i,s,l=!0){super(),this.ngModuleType=n,this._parent=i;const d=(0,a.phH)(n);this._bootstrapComponents=ma(d.bootstrap),this._r3Injector=(0,a.Pz9)(n,i,[{provide:nc,useValue:this},{provide:al,useValue:this.componentFactoryResolver},...s],(0,a.AsM)(n),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class sp extends nm{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Sh(this.moduleType,n,[])}}function im(t,n,i){return new Sh(t,n,i,!1)}class ap extends nc{injector;componentFactoryResolver=new Wg(this);instance=null;constructor(n){super();const i=new a.e5P([...n.providers,{provide:nc,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],n.parent||(0,a.WB9)(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function cp(t,n,i=null){return new ap({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let ll=(()=>{class t{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=(0,a.jXY)(!1,i.type),l=s.length>0?cp([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,l)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,a.jDH)({token:t,providedIn:"environment",factory:()=>new t((0,a.KVO)(a.uvJ))})}return t})();function om(t){return j(()=>{const n=yd(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?l=>l.get(ll).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gs.Emulated,styles:t.styles||a.Mlv,_:null,schemas:t.schemas||null,tView:null,id:""};n.standalone&&zs("NgStandalone"),cy(i);const s=t.dependencies;return i.directiveDefs=dl(s,!1),i.pipeDefs=dl(s,!0),i.id=function cm(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const d of s.join("|"))n=Math.imul(31,n)+d.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function ay(t){return(0,a.xUg)(t)||(0,a.HaV)(t)}function sm(t){return null!==t}function _d(t){return j(()=>({type:t.type,bootstrap:t.bootstrap||a.Mlv,declarations:t.declarations||a.Mlv,imports:t.imports||a.Mlv,exports:t.exports||a.Mlv,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XE(t,n){if(null==t)return a.MZA;const i={};for(const s in t)if(t.hasOwnProperty(s)){const l=t[s];let d,y,A,R;Array.isArray(l)?(A=l[0],d=l[1],y=l[2]??d,R=l[3]||null):(d=l,y=l,A=hu.None,R=null),i[d]=[s,A,R],n[d]=y}return i}function up(t){if(null==t)return a.MZA;const n={};for(const i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);return n}function Rh(t){return j(()=>{const n=yd(t);return cy(n),n})}function am(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function yd(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||a.MZA,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||a.Mlv,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:XE(t.inputs,n),outputs:up(t.outputs),debugInfo:null}}function cy(t){t.features?.forEach(n=>n(t))}function dl(t,n){if(!t)return null;const i=n?a.oyA:ay;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(sm)}function Ed(t){return Object.getPrototypeOf(t.prototype).constructor}function um(t){let n=Ed(t.type),i=!0;const s=[t];for(;n;){let l;if((0,a.JlV)(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new a.buA(903,!1);l=n.\u0275dir}if(l){if(i){s.push(l);const y=t;y.inputs=Ou(t.inputs),y.declaredInputs=Ou(t.declaredInputs),y.outputs=Ou(t.outputs);const A=l.hostBindings;A&&lm(t,A);const R=l.viewQuery,H=l.contentQueries;if(R&&eI(t,R),H&&tI(t,H),Ph(t,l),(0,a.dwj)(t.outputs,l.outputs),(0,a.JlV)(l)&&l.data.animation){const ne=t.data;ne.animation=(ne.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let y=0;y<d.length;y++){const A=d[y];A&&A.ngInherit&&A(t),A===um&&(i=!1)}}n=Object.getPrototypeOf(n)}!function JE(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const l=t[s];l.hostVars=n+=l.hostVars,l.hostAttrs=Xn(l.hostAttrs,i=Xn(i,l.hostAttrs))}}(s)}function Ph(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const s=n.inputs[i];void 0!==s&&(t.inputs[i]=s,t.declaredInputs[i]=n.declaredInputs[i])}}function Ou(t){return t===a.MZA?{}:t===a.Mlv?[]:t}function eI(t,n){const i=t.viewQuery;t.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function tI(t,n){const i=t.contentQueries;t.contentQueries=i?(s,l,d)=>{n(s,l,d),i(s,l,d)}:n}function lm(t,n){const i=t.hostBindings;t.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}const ZE=["providersResolver"],lp=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function tv(t){const n=i=>{const s=Array.isArray(t);null===i.hostDirectives?(i.resolveHostDirectives=dp,i.hostDirectives=s?t.map(vd):[t]):s?i.hostDirectives.unshift(...t.map(vd)):i.hostDirectives.unshift(t)};return n.ngInherit=!0,n}function dp(t){const n=[];let i=!1,s=null,l=null;for(let d=0;d<t.length;d++){const y=t[d];if(null!==y.hostDirectives){const A=n.length;s??=new Map,l??=new Map,nv(y,n,s),l.set(y,[A,n.length-1])}0===d&&(0,a.JlV)(y)&&(i=!0,n.push(y))}for(let d=i?1:0;d<t.length;d++)n.push(t[d]);return[n,s,l]}function nv(t,n,i){if(null!==t.hostDirectives)for(const s of t.hostDirectives)if("function"==typeof s){const l=s();for(const d of l)rv(vd(d),n,i)}else rv(s,n,i)}function rv(t,n,i){const s=(0,a.HaV)(t.directive);(function nI(t,n){for(const i in n)n.hasOwnProperty(i)&&(t[n[i]]=t[i])})(s.declaredInputs,t.inputs),nv(s,n,i),i.set(s,t),n.push(s)}function vd(t){return"function"==typeof t?{directive:(0,a.nl4)(t),inputs:a.MZA,outputs:a.MZA}:{directive:(0,a.nl4)(t.directive),inputs:iv(t.inputs),outputs:iv(t.outputs)}}function iv(t){if(void 0===t||0===t.length)return a.MZA;const n={};for(let i=0;i<t.length;i+=2)n[t[i]]=t[i+1];return n}function Nu(t,n,i,s,l,d,y,A,R,H,ne){const Se=i+a.Yw1,ut=n.firstCreatePass?function ly(t,n,i,s,l,d,y,A,R){const H=n.consts,ne=ed(n,t,4,y||null,A||null);(0,a.ckz)()&&vh(n,i,ne,(0,a.db4)(H,R),Vl),ne.mergedAttrs=Xn(ne.mergedAttrs,ne.attrs),Jt(n,ne);const Se=ne.tView=xl(2,ne,s,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H,null);return null!==n.queries&&(n.queries.template(n,ne),Se.queries=n.queries.embeddedTView(ne)),ne}(Se,n,t,s,l,d,y,A,H):n.data[Se];R&&(ut.flags|=R),(0,a.iMd)(ut,!1);const ot=hm(n,t,ut,i);(0,a.SX7)()&&nh(n,t,ot,ut),se(ot,t);const un=uh(ot,t,ot,ut);return t[Se]=un,du(t,un),Qg(un,ut,t),(0,a.yoD)(ut)&&Xu(n,t,ut),null!=H&&Bc(t,ut,ne),ut}function hp(t,n,i,s,l,d,y,A){const R=(0,a.OAn)(),H=(0,a.klJ)();return Nu(R,H,t,n,i,s,l,(0,a.db4)(H.consts,d),void 0,y,A),hp}let hm=function Mh(t,n,i,s){return(0,a.m7n)(!0),n[a.GpT].createComment("")};var Ts=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(Ts||{}),Bo=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Bo||{}),hl=function(t){return t[t.Initial=-1]="Initial",t}(hl||{}),av=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(av||{});function gp(t,n,i){const s=uv(t);null===n[s]&&(n[s]=[]),n[s].push(i)}function mp(t,n){const i=uv(t),s=n[i];if(null!==s){for(const l of s)l();n[i]=null}}function cv(t){mp(1,t),mp(0,t),mp(2,t)}function uv(t){let n=4;return 1===t?n=5:2===t&&(n=9),n}var dy=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(dy||{});const _p=new a.nKC(""),lv=!1,Dc=class oI extends _e.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,(0,a.M6u)()&&(this.destroyRef=(0,a.WQX)(a.abz,{optional:!0})??void 0,this.pendingTasks=(0,a.WQX)(a.rev,{optional:!0})??void 0)}emit(n){const i=(0,B.Ht)(null);try{super.next(n)}finally{(0,B.Ht)(i)}}subscribe(n,i,s){let l=n,d=i||(()=>null),y=s;if(n&&"object"==typeof n){const R=n;l=R.next?.bind(R),d=R.error?.bind(R),y=R.complete?.bind(R)}this.__isAsync&&(d=this.wrapInTimeout(d),l&&(l=this.wrapInTimeout(l)),y&&(y=this.wrapInTimeout(y)));const A=super.subscribe({next:l,error:d,complete:y});return n instanceof $e.yU&&n.add(A),A}wrapInTimeout(n){return i=>{const s=this.pendingTasks?.add();setTimeout(()=>{try{n(i)}finally{void 0!==s&&this.pendingTasks?.remove(s)}})}}};function dv(t){let n,i;function s(){t=a.lQ1;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{t(),s()})),()=>s()}function hv(t){return queueMicrotask(()=>t()),()=>{t=a.lQ1}}const Oh="isAngularZone",pm=Oh+"_ID";let fv=0;class ns{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Dc(!1);onMicrotaskEmpty=new Dc(!1);onStable=new Dc(!1);onError=new Dc(!1);constructor(n){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:d=lv}=n;if(typeof Zone>"u")throw new a.buA(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!l&&s,y.shouldCoalesceRunChangeDetection=l,y.callbackScheduled=!1,y.scheduleInRootZone=d,function sI(t){const n=()=>{!function gv(t){function n(){dv(()=>{t.callbackScheduled=!1,hy(t),t.isCheckStableRunning=!0,gm(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),hy(t))}(t)},i=fv++;t._inner=t._inner.fork({name:"angular",properties:{[Oh]:!0,[pm]:i,[pm+i]:!0},onInvokeTask:(s,l,d,y,A,R)=>{if(function yv(t){return vv(t,"__ignore_ng_zone__")}(R))return s.invokeTask(d,y,A,R);try{return mv(t),s.invokeTask(d,y,A,R)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||t.shouldCoalesceRunChangeDetection)&&n(),_v(t)}},onInvoke:(s,l,d,y,A,R,H)=>{try{return mv(t),s.invoke(d,y,A,R,H)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function Ev(t){return vv(t,"__scheduler_tick__")}(R)&&n(),_v(t)}},onHasTask:(s,l,d,y)=>{s.hasTask(d,y),l===d&&("microTask"==y.change?(t._hasPendingMicrotasks=y.microTask,hy(t),gm(t)):"macroTask"==y.change&&(t.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,l,d,y)=>(s.handleError(d,y),t.runOutsideAngular(()=>t.onError.emit(y)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Oh)}static assertInAngularZone(){if(!ns.isInAngularZone())throw new a.buA(909,!1)}static assertNotInAngularZone(){if(ns.isInAngularZone())throw new a.buA(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+l,n,pv,a.lQ1,a.lQ1);try{return d.runTask(y,i,s)}finally{d.cancelTask(y)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const pv={};function gm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function mv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _v(t){t._nesting--,gm(t)}class mm{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Dc;onMicrotaskEmpty=new Dc;onStable=new Dc;onError=new Dc;run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}function vv(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}function Iv(t="zone.js",n){return"noop"===t?new mm:"zone.js"===t?new ns(n):t}let _m=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,a.jDH)({token:t,providedIn:"root",factory:()=>new t})}return t})();const Gc=[0,1,2,3];let fy=(()=>{class t{ngZone=(0,a.WQX)(ns);scheduler=(0,a.WQX)(a.hk6);errorHandler=(0,a.WQX)(a.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,a.WQX)(_p,{optional:!0})}execute(){const i=this.sequences.size>0;i&&Re(16),this.executing=!0;for(const s of Gc)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[s])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,l.hooks[s])(l.pipelinedValue),l.snapshot))}catch(d){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),i&&Re(17)}register(i){const{view:s}=i;void 0!==s?((s[a.JEi]??=[]).push(i),(0,a.blu)(s),s[a.Wg1]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,s){return s?s.run(dy.AFTER_NEXT_RENDER,i):i()}static \u0275prov=(0,a.jDH)({token:t,providedIn:"root",factory:()=>new t})}return t})();class py{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,i,s,l,d,y=null){this.impl=n,this.hooks=i,this.view=s,this.once=l,this.snapshot=y,this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[a.JEi];n&&(this.view[a.JEi]=n.filter(i=>i!==this))}}function gy(t,n){!n?.injector&&(0,a.Af3)(gy);const i=n?.injector??(0,a.WQX)(a.zZn);return zs("NgAfterNextRender"),Tv(t,i,n,!0)}function Tv(t,n,i,s){const l=n.get(_m);l.impl??=n.get(fy);const d=n.get(_p,null,{optional:!0}),y=!0!==i?.manualCleanup?n.get(a.abz):null,A=n.get(a.r4V,null,{optional:!0}),R=new py(l.impl,function cI(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t),A?.view,s,y,d?.snapshot(null));return l.impl.register(R),R}const uI={destroy(){}};function Ep(t){return t+1}function Ra(t,n){return t[Ep(n.index)]}function Gs(t,n){const i=Ep(n.index);return t.data[i]}function _y(t,n){return n===Bo.Placeholder?t.placeholderBlockConfig?.[0]??null:n===Bo.Loading?t.loadingBlockConfig?.[0]??null:null}function Dv(t){return t.loadingBlockConfig?.[1]??null}function wv(t,n){if(!t||0===t.length)return n;const i=new Set(t);for(const s of n)i.add(s);return t.length===i.size?t:Array.from(i)}function yy(t,n,i){const s=i.get(ns);return function Ys(t,n,i){let s=fr.get(t);return Li=Li||i(),s||(s=new _o,Li.observe(t),fr.set(t,s),ho++),s.callbacks.add(n),()=>{fr.has(t)&&(s.callbacks.delete(n),0===s.callbacks.size&&(Li?.unobserve(t),fr.delete(t),ho--),0===ho&&(Li?.disconnect(),Li=null))}}(t,()=>s.run(n),()=>s.runOutsideAngular(()=>function is(){return new IntersectionObserver(t=>{for(const n of t)n.isIntersecting&&fr.has(n.target)&&fr.get(n.target).listener()})}()))}function qc(t,n,i,s,l,d,y){const A=t[a.YEL],R=A.get(ns);let H;H=function aI(t,n){const i=n?.injector??(0,a.WQX)(a.zZn);return zs("NgAfterRender"),Tv(t,i,n,!1)}({read:function ne(){if((0,a.EPY)(t))return void H.destroy();const Se=Ra(t,n),ut=Se[1];if(ut!==hl.Initial&&ut!==Bo.Placeholder)return void H.destroy();const ot=function Em(t,n,i){return null==i?t:i>=0?(0,a.jRZ)(i,t):t[n.index][a.Y20]??null}(t,n,s);if(!ot||(H.destroy(),(0,a.EPY)(ot)))return;const un=function vp(t,n){return(0,a.vaC)(a.Yw1+n,t)}(ot,i),Wn=l(un,()=>{R.run(()=>{t!==ot&&(0,a.DyX)(ot,Wn),d()})},A);t!==ot&&(0,a.ik5)(ot,Wn),gp(y,Se,Wn)}},{injector:A})}function Nh(t,n){const i=n.get(vm);return i.add(t),()=>i.remove(t)}let vm=(()=>{class t{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,a.WQX)(ns);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(i){(this.executingCallbacks?this.deferred:this.current).add(i),null===this.idleId&&this.scheduleIdleCallback()}remove(i){const{current:s,deferred:l}=this;s.delete(i),l.delete(i),0===s.size&&0===l.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const i=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const s of this.current)s();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const s of this.deferred)this.current.add(s);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(i))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,a.jDH)({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ip(t){return(n,i)=>Ey(t,n,i)}function Ey(t,n,i){const s=i.get(Sv),l=i.get(ns);return s.add(t,n,l),()=>s.remove(n)}let Sv=(()=>{class t{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(i,s,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+i,s),this.scheduleTimer(l)}remove(i){const{current:s,deferred:l}=this;-1===this.removeFromQueue(s,i)&&this.removeFromQueue(l,i),0===s.length&&0===l.length&&this.clearTimeout()}addToQueue(i,s,l){let d=i.length;for(let y=0;y<i.length;y+=2)if(i[y]>s){d=y;break}(0,a.llW)(i,d,s,l)}removeFromQueue(i,s){let l=-1;for(let d=0;d<i.length;d+=2)if(i[d+1]===s){l=d;break}return l>-1&&(0,a.gsJ)(i,l,2),l}scheduleTimer(i){const s=()=>{this.clearTimeout(),this.executingCallbacks=!0;const d=[...this.current],y=Date.now();for(let R=0;R<d.length;R+=2){const ne=d[R+1];if(!(d[R]<=y))break;ne()}let A=-1;for(let R=0;R<this.current.length&&this.current[R]<=y;R+=2)A=R+1;if(A>=0&&(0,a.gsJ)(this.current,0,A+1),this.executingCallbacks=!1,this.deferred.length>0){for(let R=0;R<this.deferred.length;R+=2)this.addToQueue(this.current,this.deferred[R],this.deferred[R+1]);this.deferred.length=0}this.scheduleTimer(i)};if(this.current.length>0){const d=Date.now(),y=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-y>16){this.clearTimeout();const A=Math.max(y-d,16);this.invokeTimerAt=y,this.timeoutId=i.runOutsideAngular(()=>setTimeout(()=>i.run(s),A))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,a.jDH)({token:t,providedIn:"root",factory:()=>new t})}return t})(),Rv=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(i,s,l,d){if(!this.cachedInjectors.has(i)){const y=l.length>0?cp(l,s,d):null;this.cachedInjectors.set(i,y)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,a.jDH)({token:t,providedIn:"environment",factory:()=>new t})}return t})();const Pv=new a.nKC("");function vy(t,n,i){return t.get(Rv).getOrCreateInjector(n,t,i,"")}function gl(t,n,i,s=!1){const l=i[a.f7T],d=l[a.eDl];if((0,a.EPY)(l))return;const y=Ra(l,n),R=y[7];if(!(null!==R&&t<R)&&Nv(y[1],t)&&Nv(y[0]??-1,t)){const H=Gs(d,n),Se=s||null===Dv(H)&&null===_y(H,Bo.Loading)&&!_y(H,Bo.Placeholder)?Mv:Iy;try{Se(t,y,i,n,l)}catch(ut){pc(l,ut)}}}function Mv(t,n,i,s,l){Re(20);const d=function Av(t,n,i){const l=Gs(n[a.eDl],i);switch(t){case Bo.Complete:return l.primaryTmplIndex;case Bo.Loading:return l.loadingTmplIndex;case Bo.Error:return l.errorTmplIndex;case Bo.Placeholder:return l.placeholderTmplIndex;default:return null}}(t,l,s);if(null!==d){n[1]=t;const y=l[a.eDl],R=(0,a.XRZ)(y,d+a.Yw1),H=0;let ne;if(lh(i,H),t===Bo.Complete){const un=Gs(y,s),Wn=un.providers;Wn&&Wn.length>0&&(ne=function fI(t,n,i){if(t instanceof Cu){const l=t.injector,y=vy(t.parentInjector,n,i);return new Cu(l,y)}const s=t.get(a.uvJ);if(s!==t){const l=vy(s,n,i);return new Cu(t,l)}return vy(t,n,i)}(l[a.YEL],un,Wn))}const{dehydratedView:Se,dehydratedViewIx:ut}=function pI(t,n){const i=t[a.qFA]?.findIndex(l=>l.data.s===n[1])??-1;return{dehydratedView:i>-1?t[a.qFA][i]:null,dehydratedViewIx:i}}(i,n),ot=Va(l,R,null,{injector:ne,dehydratedView:Se});if($c(i,ot,H,mc(R,Se)),Ql(ot,2),ut>-1&&i[a.qFA]?.splice(ut,1),(t===Bo.Complete||t===Bo.Error)&&Array.isArray(n[8])){for(const un of n[8])un();n[8]=null}}Re(21)}function gI(t,n,i,s,l){const d=Date.now(),A=Gs(l[a.eDl],s);if(null===n[2]||n[2]<=d){n[2]=null;const R=Dv(A),H=null!==n[3];if(t!==Bo.Loading||null===R||H){t>Bo.Loading&&H&&(n[3](),n[3]=null,n[0]=null),Mv(t,n,i,s,l);const ne=_y(A,t);null!==ne&&(n[2]=d+ne,Ov(ne,n,s,i,l))}else{n[0]=t;const ne=Ov(R,n,s,i,l);n[3]=ne}}else n[0]=t}function Ov(t,n,i,s,l){return Ey(t,()=>{const y=n[0];n[2]=null,n[0]=null,null!==y&&gl(y,i,s)},l[a.YEL])}function Nv(t,n){return t<n}function xh(t,n){gl(Bo.Placeholder,n,t[n.index])}function xv(t,n,i){t.loadingPromise.then(()=>{t.loadingState===Ts.COMPLETE?gl(Bo.Complete,n,i):t.loadingState===Ts.FAILED&&gl(Bo.Error,n,i)})}let Iy=null;function _I(t,n,i,s){return j(()=>{const l=t;null!==n&&(l.hasOwnProperty("decorators")&&void 0!==l.decorators?l.decorators.push(...n):l.decorators=n),null!==i&&(l.ctorParameters=i),null!==s&&(l.propDecorators=l.hasOwnProperty("propDecorators")&&void 0!==l.propDecorators?{...l.propDecorators,...s}:s)})}let Ty=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const oe=new a.nKC(""),De=new a.nKC("");let Fn,nt=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(i,s,l){this._ngZone=i,this.registry=s,(0,a.M6u)()&&(this._destroyRef=(0,a.WQX)(a.abz,{optional:!0})??void 0),Fn||(function yn(t){Fn=t}(l),l.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const i=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),s=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ns.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{i.unsubscribe(),s.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),i()},s)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:l})}whenStable(i,s,l){if(l&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,l){return[]}static \u0275fac=function(s){return new(s||t)((0,a.KVO)(ns),(0,a.KVO)(jt),(0,a.KVO)(De))};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac})}return t})(),jt=(()=>{class t{_applications=new Map;registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Fn?.findTestabilityInTree(this,i,s)??null}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Bn(t){return!!t&&"function"==typeof t.then}function Rr(t){return!!t&&"function"==typeof t.subscribe}const ri=new a.nKC("");function Yr(t){return(0,a.EmA)([{provide:ri,multi:!0,useValue:t}])}let Wi=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s});appInits=(0,a.WQX)(ri,{optional:!0})??[];injector=(0,a.WQX)(a.zZn);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const l of this.appInits){const d=(0,a.N4e)(this.injector,l);if(Bn(d))i.push(d);else if(Rr(d)){const y=new Promise((A,R)=>{d.subscribe({complete:A,error:R})});i.push(y)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const vo=new a.nKC("");function Xi(){}function Mt(){(0,B.KO)(()=>{throw new a.buA(600,"")})}function Vt(t,n){return Array.isArray(n)?n.reduce(Vt,t):{...t,...n}}let en=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,a.WQX)(a.ZTf);afterRenderManager=(0,a.WQX)(_m);zonelessEnabled=(0,a.WQX)(a.Evm);rootEffectScheduler=(0,a.WQX)(a.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _e.B;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,a.WQX)(a.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,ct.T)(i=>!i))}constructor(){(0,a.WQX)(_p,{optional:!0})}whenStable(){let i;return new Promise(s=>{i=this.isStable.subscribe({next:l=>{l&&s()}})}).finally(()=>{i.unsubscribe()})}_injector=(0,a.WQX)(a.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,s){return this.bootstrapImpl(i,s)}bootstrapImpl(i,s,l=a.zZn.NULL){return this._injector.get(ns).run(()=>{Re(10);const y=i instanceof Gf;if(!this._injector.get(Wi).done)throw new a.buA(405,"");let R;R=y?i:this._injector.get(al).resolveComponentFactory(i),this.componentTypes.push(R.componentType);const H=function rt(t){return t.isBoundToModule}(R)?void 0:this._injector.get(nc),Se=R.create(l,[],s||R.selector,H),ut=Se.location.nativeElement,ot=Se.injector.get(oe,null);return ot?.registerApplication(ut),Se.onDestroy(()=>{this.detachView(Se.hostView),ja(this.components,Se),ot?.unregisterApplication(ut)}),this._loadComponent(Se),Re(11,Se),Se})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(dy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new a.buA(101,!1);const i=(0,B.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,B.Ht)(i),this.afterTick.next(),Re(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qf,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)Re(14),this.synchronizeOnce(),Re(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let i=!1;if(7&this.dirtyFlags){const s=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:l}of this.allViews)(s||(0,a.dMS)(l))&&(tl(l,s&&!this.zonelessEnabled?0:1),i=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}i||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>(0,a.dMS)(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;ja(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView);try{this.tick()}catch(l){this.internalErrorHandler(l)}this.components.push(i),this._injector.get(vo,[]).forEach(l=>l(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ja(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new a.buA(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ja(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function Td(t){const n=(0,a.OAn)(),i=(0,a.Mx4)();if(xh(n,i),!Tm(0,n))return;const s=n[a.YEL];gp(0,Ra(n,i),t(()=>ml(0,n,i),s))}function by(t,n){const i=(0,a.OAn)(),s=i[a.YEL],l=(0,a.Mx4)(),y=Gs(i[a.eDl],l);y.loadingState===Ts.NOT_STARTED&&gp(1,Ra(i,l),t(()=>Qc(y,i,l),s))}function Ad(t,n,i){const s=n[a.YEL],l=Ra(n,i),d=l[6];gp(2,l,t(()=>_a(s,d),s))}function Qc(t,n,i){Lh(t,n,i)}function Lh(t,n,i){const s=n[a.YEL],l=n[a.eDl];if(t.loadingState!==Ts.NOT_STARTED)return t.loadingPromise??Promise.resolve();const d=Ra(n,i),y=function dI(t,n){return(0,a.XRZ)(t,n.primaryTmplIndex+a.Yw1)}(l,t);t.loadingState=Ts.IN_PROGRESS,mp(1,d);let A=t.dependencyResolverFn;const R=s.get(a.u5s).add();return A?(t.loadingPromise=Promise.allSettled(A()).then(H=>{let ne=!1;const Se=[],ut=[];for(const ot of H){if("fulfilled"!==ot.status){ne=!0;break}{const un=ot.value,Wn=(0,a.xUg)(un)||(0,a.HaV)(un);if(Wn)Se.push(Wn);else{const Wr=(0,a.oyA)(un);Wr&&ut.push(Wr)}}}if(ne){if(t.loadingState=Ts.FAILED,null===t.errorTmplIndex){const un=new a.buA(-750,!1);pc(n,un)}}else{t.loadingState=Ts.COMPLETE;const ot=y.tView;if(Se.length>0){ot.directiveRegistry=wv(ot.directiveRegistry,Se);const un=Se.map(Wr=>Wr.type),Wn=(0,a.jXY)(!1,...un);t.providers=Wn}ut.length>0&&(ot.pipeRegistry=wv(ot.pipeRegistry,ut))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,R()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Ts.COMPLETE,R()}),t.loadingPromise)}function Tm(t,n){return n[a.YEL].get(Pv,null,{optional:!0})?.behavior!==av.Manual}function ml(t,n,i){const s=n[a.eDl],l=n[i.index];if(!Tm(0,n))return;const d=Ra(n,i),y=Gs(s,i);switch(cv(d),y.loadingState){case Ts.NOT_STARTED:gl(Bo.Loading,i,l),Lh(y,n,i),y.loadingState===Ts.IN_PROGRESS&&xv(y,i,l);break;case Ts.IN_PROGRESS:gl(Bo.Loading,i,l),xv(y,i,l);break;case Ts.COMPLETE:gl(Bo.Complete,i,l);break;case Ts.FAILED:gl(Bo.Error,i,l)}}function _a(t,n,i){return Os.apply(this,arguments)}function Os(){return(Os=(0,L.A)(function*(t,n,i){const s=t.get(_s);if(s.hydrating.has(n))return;const{parentBlockPromise:d,hydrationQueue:y}=function M(t,n){const i=n.get(_s),l=n.get(oo).get("__nghDeferData__",{});let d=!1,y=t,A=null;const R=[];for(;!d&&y;){d=i.has(y);const H=i.hydrating.get(y);if(null===A&&null!=H){A=H.promise;break}R.unshift(y),y=l[y].p}return{parentBlockPromise:A,hydrationQueue:R}}(n,t);if(0===y.length)return;null!==d&&y.shift(),function qv(t,n){for(let i of n)t.hydrating.set(i,Promise.withResolvers())}(s,y),null!==d&&(yield d);const A=y[0];s.has(A)?yield Sy(t,y,i):s.awaitParentBlock(A,(0,L.A)(function*(){return yield Sy(t,y,i)}))})).apply(this,arguments)}function Sy(t,n,i){return _l.apply(this,arguments)}function _l(){return(_l=(0,L.A)(function*(t,n,i){const s=t.get(_s),l=s.hydrating,d=t.get(a.rev),y=d.add();for(let R=0;R<n.length;R++){const H=n[R],ne=s.get(H);if(null==ne){Fh(R,n,s),Ry(n.slice(R),s);break}if(yield Dp(ne),yield Ap(t),Gv(ne)){R_(ne),Ry(n.slice(R),s);break}l.get(H).resolve()}const A=n[n.length-1];yield l.get(A)?.promise,d.remove(y),i&&i(n),function AE(t,n,i,s){null!==t&&(i.cleanup(n),yh(t.lContainer),function TE(t){const n=t._views;for(const i of n){const s=xi(i);null!==s&&null!==s[a.jgP]&&((0,a.q$2)(s)?ec(s):yh(s))}}(s))}(s.get(A),n,s,t.get(en))})).apply(this,arguments)}function Gv(t){return Ra(t.lView,t.tNode)[1]===Bo.Error}function Fh(t,n,i){const s=t-1,l=s>-1?i.get(n[s]):null;l&&yh(l.lContainer)}function Ry(t,n){const i=n.hydrating;for(const s in t)i.get(s)?.reject();n.cleanup(t)}function Ap(t){return new Promise(n=>gy(n,{injector:t}))}function Dp(t){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,L.A)(function*(t){const{tNode:n,lView:i}=t,s=Ra(i,n);return new Promise(l=>{(function Am(t,n){Array.isArray(t[8])||(t[8]=[]),t[8].push(n)})(s,l),ml(0,i,n)})})).apply(this,arguments)}function rs(t,n,i){return 0===t?wp(n,i):2!==t||!wp(n,i)}function wp(t,n){const i=t[a.YEL],s=Gs(t[a.eDl],n),l=function ka(t){return t.get(Wt,!1,{optional:!0})}(i),d=null!==s.flags&&!(1&~s.flags),A=null!==Ra(t,n)[6];return!(d&&A&&l)}function Yc(t,n){const i=Gs(t,n);return i.hydrateTriggers??=new Map}function Dd(t,n,i,s){const l=(0,a.OAn)();return Wo(l,(0,a.xbp)(),n)&&((0,a.klJ)(),function hc(t,n,i,s,l,d){const y=(0,a.d31)(t,n);fc(n[a.GpT],y,d,t.value,i,s,l)}((0,a.CpD)(),l,t,n,i,s)),Dd}class jh{destroy(n){}updateValue(n,i){}swap(n,i){const s=Math.min(n,i),l=Math.max(n,i),d=this.detach(l);if(l-s>1){const y=this.detach(s);this.attach(s,d),this.attach(l,y)}else this.attach(s,d)}move(n,i){this.attach(i,this.detach(n))}}function bp(t,n,i,s,l){return t===i&&Object.is(n,s)?1:Object.is(l(t,n),l(i,s))?-1:0}function El(t,n,i,s){return!(void 0===n||!n.has(s)||(t.attach(i,n.get(s)),n.delete(s),0))}function wd(t,n,i,s,l){if(El(t,n,s,i(s,l)))t.updateValue(s,l);else{const d=t.create(s,l);t.attach(s,d)}}function jy(t,n,i,s){const l=new Set;for(let d=n;d<=i;d++)l.add(s(d,t.at(d)));return l}class $y{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const i=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(i)?(this.kvMap.set(n,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,i){if(this.kvMap.has(n)){let s=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const l=this._vMap;for(;l.has(s);)s=l.get(s);l.set(s,i)}else this.kvMap.set(n,i)}forEach(n){for(let[i,s]of this.kvMap)if(n(s,i),void 0!==this._vMap){const l=this._vMap;for(;l.has(s);)s=l.get(s),n(s,i)}}}function vl(t,n,i,s,l,d,y,A){zs("NgControlFlow");const R=(0,a.OAn)(),H=(0,a.klJ)();return Nu(R,H,t,n,i,s,l,(0,a.db4)(H.consts,d),256,y,A),Nm}function Nm(t,n,i,s,l,d,y,A){zs("NgControlFlow");const R=(0,a.OAn)(),H=(0,a.klJ)();return Nu(R,H,t,n,i,s,l,(0,a.db4)(H.consts,d),512,y,A),Nm}function Wy(t,n){zs("NgControlFlow");const i=(0,a.OAn)(),s=(0,a.xbp)(),l=i[s]!==co?i[s]:-1,d=-1!==l?$h(i,a.Yw1+l):void 0;if(Wo(i,s,t)){const A=(0,B.Ht)(null);try{if(void 0!==d&&lh(d,0),-1!==t){const R=a.Yw1+t,H=$h(i,R),ne=Cd(i[a.eDl],R),Se=Hf(H,ne,i);$c(H,Va(i,ne,n,{dehydratedView:Se}),0,mc(ne,Se))}}finally{(0,B.Ht)(A)}}else if(void 0!==d){const A=dg(d,0);void 0!==A&&(A[a.SKP]=n)}}class Sp{lContainer;$implicit;$index;constructor(n,i,s){this.lContainer=n,this.$implicit=i,this.$index=s}get $count(){return this.lContainer.length-a.Y20}}class Rp{hasEmptyBlock;trackByFn;liveCollection;constructor(n,i,s){this.hasEmptyBlock=n,this.trackByFn=i,this.liveCollection=s}}function Xc(t,n,i,s,l,d,y,A,R,H,ne,Se,ut){zs("NgControlFlow");const ot=(0,a.OAn)(),un=(0,a.klJ)(),Wn=void 0!==R,Wr=(0,a.OAn)(),Fr=A?y.bind(Wr[a.b5C][a.SKP]):y,Zn=new Rp(Wn,Fr);Wr[a.Yw1+t]=Zn,Nu(ot,un,t+1,n,i,s,l,(0,a.db4)(un.consts,d),256),Wn&&Nu(ot,un,t+2,R,H,ne,Se,(0,a.db4)(un.consts,ut),512)}class km extends jh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,i,s){super(),this.lContainer=n,this.hostLView=i,this.templateTNode=s}get length(){return this.lContainer.length-a.Y20}at(n){return this.getLView(n)[a.SKP].$implicit}attach(n,i){const s=i[a.tcA];this.needsIndexUpdate||=n!==this.length,$c(this.lContainer,i,n,mc(this.templateTNode,s))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function Hy(t,n){return v(t,n)}(this.lContainer,n)}create(n,i){const s=ld(this.lContainer,this.templateTNode.tView.ssrId),l=Va(this.hostLView,this.templateTNode,new Sp(this.lContainer,i,n),{dehydratedView:s});return this.operationsCounter?.recordCreate(),l}destroy(n){el(n[a.eDl],n),this.operationsCounter?.recordDestroy()}updateValue(n,i){this.getLView(n)[a.SKP].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[a.SKP].$index=n}getLView(n){return function n0(t,n){return dg(t,n)}(this.lContainer,n)}}function Pp(t){const n=(0,B.Ht)(null),i=(0,a._px)();try{const s=(0,a.OAn)(),l=s[a.eDl],d=s[i],y=i+1,A=$h(s,y);if(void 0===d.liveCollection){const H=Cd(l,y);d.liveCollection=new km(A,s,H)}else d.liveCollection.reset();const R=d.liveCollection;if(function Uy(t,n,i){let s,l,d=0,y=t.length-1;if(Array.isArray(n)){let R=n.length-1;for(;d<=y&&d<=R;){const H=t.at(d),ne=n[d],Se=bp(d,H,d,ne,i);if(0!==Se){Se<0&&t.updateValue(d,ne),d++;continue}const ut=t.at(y),ot=n[R],un=bp(y,ut,R,ot,i);if(0!==un){un<0&&t.updateValue(y,ot),y--,R--;continue}const Wn=i(d,H),Wr=i(y,ut),Fr=i(d,ne);if(Object.is(Fr,Wr)){const Zn=i(R,ot);Object.is(Zn,Wn)?(t.swap(d,y),t.updateValue(y,ot),R--,y--):t.move(y,d),t.updateValue(d,ne),d++}else if(s??=new $y,l??=jy(t,d,y,i),El(t,s,d,Fr))t.updateValue(d,ne),d++,y++;else if(l.has(Fr))s.set(Wn,t.detach(d)),y--;else{const Zn=t.create(d,n[d]);t.attach(d,Zn),d++,y++}}for(;d<=R;)wd(t,s,i,d,n[d]),d++}else if(null!=n){const R=n[Symbol.iterator]();let H=R.next();for(;!H.done&&d<=y;){const ne=t.at(d),Se=H.value,ut=bp(d,ne,d,Se,i);if(0!==ut)ut<0&&t.updateValue(d,Se),d++,H=R.next();else{s??=new $y,l??=jy(t,d,y,i);const ot=i(d,Se);if(El(t,s,d,ot))t.updateValue(d,Se),d++,y++,H=R.next();else if(l.has(ot)){const un=i(d,ne);s.set(un,t.detach(d)),y--}else t.attach(d,t.create(d,Se)),d++,y++,H=R.next()}}for(;!H.done;)wd(t,s,i,t.length,H.value),H=R.next()}for(;d<=y;)t.destroy(t.detach(y--));s?.forEach(R=>{t.destroy(R)})}(R,t,d.trackByFn),R.updateIndexes(),d.hasEmptyBlock){const H=(0,a.xbp)(),ne=0===R.length;if(Wo(s,H,ne)){const Se=i+2,ut=$h(s,Se);if(ne){const ot=Cd(l,Se),un=Hf(ut,ot,s);$c(ut,Va(s,ot,void 0,{dehydratedView:un}),0,mc(ot,un))}else l.firstUpdatePass&&_h(ut),lh(ut,0)}}}finally{(0,B.Ht)(n)}}function $h(t,n){return t[n]}function Cd(t,n){return(0,a.XRZ)(t,n)}function Mp(t,n,i){const s=(0,a.OAn)();return Wo(s,(0,a.xbp)(),n)&&((0,a.klJ)(),Vc((0,a.CpD)(),s,t,n,s[a.GpT],i)),Mp}function Wh(t,n,i,s,l){Ul(n,t,i,l?"class":"style",s)}function ku(t,n,i,s){const l=(0,a.OAn)(),d=(0,a.klJ)(),y=a.Yw1+t,A=l[a.GpT],R=d.firstCreatePass?F_(y,d,l,n,Vl,(0,a.ckz)(),i,s):d.data[y],H=zy(d,l,R,A,n,t);l[y]=H;const ne=(0,a.yoD)(R);return(0,a.iMd)(R,!0),Ja(A,H,R),!yu(R)&&(0,a.SX7)()&&nh(d,l,H,R),(0===(0,a.znI)()||ne)&&se(H,l),(0,a.Fje)(),ne&&(Xu(d,l,R),Ps(d,R,l)),null!==s&&Bc(l,R),ku}function wc(){let t=(0,a.Mx4)();(0,a.YWB)()?(0,a.Pfq)():(t=t.parent,(0,a.iMd)(t,!1));const n=t;(0,a.UhH)(n)&&(0,a.krE)(),(0,a.N79)();const i=(0,a.klJ)();return i.firstCreatePass&&B_(i,n),null!=n.classesWithoutHost&&function Vn(t){return!!(8&t.flags)}(n)&&Wh(i,n,(0,a.OAn)(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ci(t){return!!(16&t.flags)}(n)&&Wh(i,n,(0,a.OAn)(),n.stylesWithoutHost,!1),wc}function Kh(t,n,i,s){return ku(t,n,i,s),wc(),Kh}let zy=(t,n,i,s,l,d)=>((0,a.m7n)(!0),Xa(s,l,(0,a.UaU)()));function bd(t,n,i){const s=(0,a.OAn)(),l=(0,a.klJ)(),d=t+a.Yw1,y=l.firstCreatePass?function qy(t,n,i,s,l){const d=n.consts,y=(0,a.db4)(d,s),A=ed(n,t,8,"ng-container",y);null!==y&&Ng(A,y,!0);const R=(0,a.db4)(d,l);return(0,a.ckz)()&&vh(n,i,A,R,Vl),A.mergedAttrs=Xn(A.mergedAttrs,A.attrs),null!==n.queries&&n.queries.elementStart(n,A),A}(d,l,s,n,i):l.data[d];(0,a.iMd)(y,!0);const A=Lm(l,s,y,t);return s[d]=A,(0,a.SX7)()&&nh(l,s,A,y),se(A,s),(0,a.yoD)(y)&&(Xu(l,s,y),Ps(l,y,s)),null!=i&&Bc(s,y),bd}function Sd(){let t=(0,a.Mx4)();const n=(0,a.klJ)();return(0,a.YWB)()?(0,a.Pfq)():(t=t.parent,(0,a.iMd)(t,!1)),n.firstCreatePass&&(Jt(n,t),(0,a.srX)(t)&&n.queries.elementEnd(t)),Sd}function Op(t,n,i){return bd(t,n,i),Sd(),Op}let Lm=(t,n,i,s)=>((0,a.m7n)(!0),Fa(n[a.GpT],""));function Fm(){return(0,a.OAn)()}function Np(t,n,i){const s=(0,a.OAn)();return Wo(s,(0,a.xbp)(),n)&&((0,a.klJ)(),Jd((0,a.CpD)(),s,t,n,s[a.GpT],i)),Np}const Ma=void 0;var xp=["en",[["a","p"],["AM","PM"],Ma],[["AM","PM"],Ma,Ma],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ma,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ma,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ma,"{1} 'at' {0}",Ma],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jc(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Zc={};function Vo(t){const n=function a0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Pd(n);if(i)return i;const s=n.split("-")[0];if(i=Pd(s),i)return i;if("en"===s)return xp;throw new a.buA(701,!1)}function Rd(t){return Vo(t)[Il.PluralCase]}function Pd(t){return t in Zc||(Zc[t]=a.laP.ng&&a.laP.ng.common&&a.laP.ng.common.locales&&a.laP.ng.common.locales[t]),Zc[t]}var Il=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Il||{});const c0=["zero","one","two","few","many"],Vm="en-US",rc={marker:"element"},zh={marker:"ICU"};var ua=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(ua||{});let Um=Vm;function Md(t){"string"==typeof t&&(Um=t.toLowerCase().replace(/_/g,"-"))}let Gh=0,qh=0;let eu=(t,n,i,s)=>((0,a.m7n)(!0),function Yy(t,n,i){const s=t[a.GpT];switch(i){case Node.COMMENT_NODE:return Fa(s,n);case Node.TEXT_NODE:return kc(s,n);case Node.ELEMENT_NODE:return Xa(s,n,null)}}(t,i,s));function Od(t,n,i,s){const l=i[a.GpT];let y,d=null;for(let A=0;A<n.length;A++){const R=n[A];if("string"==typeof R){const H=n[++A];null===i[H]&&(i[H]=eu(i,0,R,Node.TEXT_NODE))}else if("number"==typeof R)switch(1&R){case 0:const H=kf(R);let ne,Se;if(null===d&&(d=H,y=l.parentNode(s)),H===d?(ne=s,Se=y):(ne=null,Se=(0,a.IvY)(i[H])),null!==Se){const Wn=Kc(R);Ba(l,Se,i[Wn],ne,!1);const Fr=Au(t,Wn);if(null!==Fr&&"object"==typeof Fr){const Zn=id(Fr,i);null!==Zn&&Od(t,Fr.create[Zn],i,i[Fr.anchorIdx])}}break;case 1:const ot=n[++A],un=n[++A];fc(l,(0,a.vaC)(R>>>1,i),null,null,ot,un,null)}else switch(R){case zh:const H=n[++A],ne=n[++A];null===i[ne]&&se(i[ne]=eu(i,0,H,Node.COMMENT_NODE),i);break;case rc:const Se=n[++A],ut=n[++A];null===i[ut]&&se(i[ut]=eu(i,0,Se,Node.ELEMENT_NODE),i)}}}function jm(t,n,i,s,l){for(let d=0;d<i.length;d++){const y=i[d],A=i[++d];if(y&l){let R="";for(let H=d+1;H<=d+A;H++){const ne=i[H];if("string"==typeof ne)R+=ne;else if("number"==typeof ne)if(ne<0)R+=(0,a.eFE)(n[s-ne]);else{const Se=ne>>>2;switch(3&ne){case 1:const ut=i[++H],ot=i[++H],un=t.data[Se];"string"==typeof un?fc(n[a.GpT],n[Se],null,un,ut,R,ot):Vc(un,n,ut,R,n[a.GpT],ot);break;case 0:const Wn=n[Se];null!==Wn&&cf(n[a.GpT],Wn,R);break;case 2:hs(t,Au(t,Se),n,R);break;case 3:Lp(t,Au(t,Se),s,n)}}}}else{const R=i[d+1];if(R>0&&!(3&~R)){const ne=Au(t,R>>>2);n[ne.currentCaseLViewIndex]<0&&Lp(t,ne,s,n)}}d+=A}}function Lp(t,n,i,s){let l=s[n.currentCaseLViewIndex];if(null!==l){let d=Gh;l<0&&(l=s[n.currentCaseLViewIndex]=~l,d=-1),jm(t,s,n.update[l],i,d)}}function hs(t,n,i,s){const l=function f0(t,n){let i=t.cases.indexOf(n);if(-1===i)switch(t.type){case 1:{const s=function u0(t,n){const i=Rd(n)(parseInt(t,10)),s=c0[i];return void 0!==s?s:"other"}(n,function l0(){return Um}());i=t.cases.indexOf(s),-1===i&&"other"!==s&&(i=t.cases.indexOf("other"));break}case 0:i=t.cases.indexOf("other")}return-1===i?null:i}(n,s);if(id(n,i)!==l&&(Xy(t,n,i),i[n.currentCaseLViewIndex]=null===l?null:~l,null!==l)){const y=i[n.anchorIdx];y&&Od(t,n.create[l],i,y)}}function Xy(t,n,i){let s=id(n,i);if(null!==s){const l=n.remove[s];for(let d=0;d<l.length;d++){const y=l[d];if(y>0){const A=(0,a.vaC)(y,i);null!==A&&Gu(i[a.GpT],A)}else Xy(t,Au(t,~y),i)}}}const $a=/\ufffd(\d+):?\d*\ufffd/gi,Jy=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,_0=/\ufffd(\d+)\ufffd/,Nd=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Km=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fp=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Zy=/\uE500/g;function kd(t,n,i,s,l,d,y){const A=Fc(t,s,1,null);let R=A<<ua.SHIFT,H=(0,a.Ab)();n===H&&(H=null),null===H&&(R|=ua.APPEND_EAGERLY),y&&(R|=ua.COMMENT,function tg(t){void 0===_u&&(_u=t())}(mE)),l.push(R,null===d?"":d);const ne=hg(t,A,y?32:1,null===d?"":d,null);g_(i,ne);const Se=ne.index;return(0,a.iMd)(ne,!1),null!==H&&n!==H&&function gg(t,n){let i=t.insertBeforeIndex;null===i?(th(f_,p_),i=t.insertBeforeIndex=[null,n]):((0,a.Xln)(Array.isArray(i),!0,"Expecting array here"),i.push(n))}(H,Se),ne}function tE(t,n,i,s,l,d,y,A){const R=A.match($a),ne=kd(n,i,s,y,l,R?null:A,!1).index;R&&Tl(d,A,ne,null,0,null),t.push({kind:0,index:ne})}function Tl(t,n,i,s,l,d){const y=t.length,A=y+1;t.push(null,null);const R=y+2,H=n.split($a);let ne=0;for(let Se=0;Se<H.length;Se++){const ut=H[Se];if(1&Se){const ot=l+parseInt(ut,10);t.push(-1-ot),ne|=zm(ot)}else""!==ut&&t.push(ut)}return t.push(i<<2|(s?1:0)),s&&t.push(s,d),t[y]=ne,t[A]=t.length-R,ne}function Hm(t){let n=0;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s&&s<0&&n++}return n}function zm(t){return 1<<Math.min(t,31)}function Yh(t){let n,d,i="",s=0,l=!1;for(;null!==(n=Km.exec(t));)l?n[0]===`\ufffd/*${d}\ufffd`&&(s=n.index,l=!1):(i+=t.substring(s,n.index+n[0].length),d=n[1],l=!0);return i+=t.slice(s),i}function Gm(t,n,i,s,l,d,y){let A=0;const R={type:d.type,currentCaseLViewIndex:Fc(n,i,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function Oa(t,n,i){t.push(zm(n.mainBinding),2,-1-n.mainBinding,i<<2|2)})(s,d,y),function rd(t,n,i){const s=t.data[n];null===s?t.data[n]=i:s.value=i}(n,y,R);const H=d.values,ne=[];for(let Se=0;Se<H.length;Se++){const ut=H[Se],ot=[];for(let Wn=0;Wn<ut.length;Wn++){const Wr=ut[Wn];if("string"!=typeof Wr){const Fr=ot.push(Wr)-1;ut[Wn]=`\x3c!--\ufffd${Fr}\ufffd--\x3e`}}const un=[];ne.push(un),A=iE(un,n,R,i,s,l,d.cases[Se],ut.join(""),ot)|A}A&&function oE(t,n,i){t.push(n,1,i<<2|3)}(s,A,y),t.push({kind:3,index:y,cases:ne,currentCaseLViewIndex:R.currentCaseLViewIndex})}function Al(t){const n=[],i=[];let s=1,l=0;const d=Vp(t=t.replace(Nd,function(y,A,R){return s="select"===R?0:1,l=parseInt(A.slice(1),10),""}));for(let y=0;y<d.length;){let A=d[y++].trim();1===s&&(A=A.replace(/\s*(?:=)?(\w+)\s*/,"$1")),A.length&&n.push(A);const R=Vp(d[y++]);n.length>i.length&&i.push(R)}return{type:s,mainBinding:l,cases:n,values:i}}function Vp(t){if(!t)return[];let n=0;const i=[],s=[],l=/[{}]/g;let d;for(l.lastIndex=0;d=l.exec(t);){const A=d.index;if("}"==d[0]){if(i.pop(),0==i.length){const R=t.substring(n,A);Nd.test(R)?s.push(Al(R)):s.push(R),n=A+1}}else{if(0==i.length){const R=t.substring(n,A);s.push(R),n=A+1}i.push("{")}}const y=t.substring(n);return s.push(y),s}function iE(t,n,i,s,l,d,y,A,R){const H=[],ne=[],Se=[];i.cases.push(y),i.create.push(H),i.remove.push(ne),i.update.push(Se);const ot=qo(Gt()).getInertBodyElement(A),un=nn(ot)||ot;return un?qm(t,n,i,s,l,H,ne,Se,un,d,R,0):0}function qm(t,n,i,s,l,d,y,A,R,H,ne,Se){let ut=0,ot=R.firstChild;for(;ot;){const un=Fc(n,s,1,null);switch(ot.nodeType){case Node.ELEMENT_NODE:const Wn=ot,Wr=Wn.tagName.toLowerCase();if(Lr.hasOwnProperty(Wr)){jp(d,rc,Wr,H,un),n.data[un]=Wr;const Ea=Wn.attributes;for(let W0=0;W0<Ea.length;W0++){const Zh=Ea.item(W0),NA=Zh.name.toLowerCase();Zh.value.match($a)?jo.hasOwnProperty(NA)&&Tl(A,Zh.value,un,Zh.name,0,ni[NA]?No:null):Ld(d,un,Zh)}const Xo={kind:1,index:un,children:[]};t.push(Xo),ut=qm(Xo.children,n,i,s,l,d,y,A,ot,un,ne,Se+1)|ut,Qm(y,un,Se)}break;case Node.TEXT_NODE:const Fr=ot.textContent||"",Zn=Fr.match($a);jp(d,null,Zn?"":Fr,H,un),Qm(y,un,Se),Zn&&(ut=Tl(A,Fr,un,null,0,null)|ut),t.push({kind:0,index:un});break;case Node.COMMENT_NODE:const Lo=_0.exec(ot.textContent||"");if(Lo){const Xo=ne[parseInt(Lo[1],10)];jp(d,zh,"",H,un),Gm(t,n,s,l,H,Xo,un),Up(y,un,Se)}}ot=ot.nextSibling}return ut}function Qm(t,n,i){0===i&&t.push(n)}function Up(t,n,i){0===i&&(t.push(~n),t.push(n))}function jp(t,n,i,s,l){null!==n&&t.push(n),t.push(i,l,function gE(t,n,i){return t|n<<17|i<<1}(0,s,l))}function Ld(t,n,i){t.push(n<<1|1,i.name,i.value)}const k=/\[(\ufffd.+?\ufffd?)\]/,G=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,we=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Kt=/{([A-Z0-9_]+)}/g,hn=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,vr=/\/\*/,Uo=/\d+\:(\d+)/;function Io(t,n,i=-1){const s=(0,a.klJ)(),l=(0,a.OAn)(),d=a.Yw1+t,y=(0,a.db4)(s.consts,n),A=(0,a.Ab)();s.firstCreatePass&&function eE(t,n,i,s,l,d){const y=(0,a.Ab)(),A=[],R=[],H=[[]],ne=[[]];l=function rE(t,n){if(function Lf(t){return-1===t}(n))return Yh(t);{const i=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,s=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return Yh(t.substring(i,s))}}(l,d);const Se=function Bp(t){return t.replace(Zy," ")}(l).split(Fp);for(let ut=0;ut<Se.length;ut++){let ot=Se[ut];if(1&ut){const un=47===ot.charCodeAt(0),Wn=ot.charCodeAt(un?1:0),Wr=a.Yw1+Number.parseInt(ot.substring(un?2:1));if(un)H.shift(),ne.shift(),(0,a.iMd)((0,a.Ab)(),!1);else{const Fr=m_(t,H[0],Wr);H.unshift([]),(0,a.iMd)(Fr,!0);const Zn={kind:2,index:Wr,children:[],type:35===Wn?0:1};ne[0].push(Zn),ne.unshift(Zn.children)}}else{const un=Vp(ot);for(let Wn=0;Wn<un.length;Wn++){let Wr=un[Wn];if(1&Wn){const Fr=Wr;if("object"!=typeof Fr)throw new Error(`Unable to parse ICU expression in "${l}" message.`);const Lo=kd(t,y,H[0],i,A,"",!0).index;Gm(ne[0],t,i,R,n,Fr,Lo)}else""!==Wr&&tE(ne[0],t,y,H[0],A,R,i,Wr)}}}t.data[s]={create:A,update:R,ast:ne[0],parentTNodeIndex:n}}(s,null===A?0:A.index,l,d,y,i),2===s.type?l[a.b5C][a.Wg1]|=32:l[a.Wg1]|=32;const R=s.data[d],ne=vs(s,A===l[a.qlT]?null:A,l);(function Qh(t,n,i,s){const l=t[a.GpT];for(let d=0;d<n.length;d++){const y=n[d++],H=(y&ua.APPEND_EAGERLY)===ua.APPEND_EAGERLY,ne=y>>>ua.SHIFT;let Se=t[ne],ut=!1;null===Se&&(Se=t[ne]=eu(t,0,n[d],(y&ua.COMMENT)===ua.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ut=(0,a.SX7)()),H&&null!==i&&ut&&Ba(l,i,Se,s,!1)}})(l,R.create,ne,A&&8&A.type?l[A.index]:null),(0,a.xyx)(!0)}function Us(){(0,a.xyx)(!1)}function y0(t,n,i){const s=(0,a.OAn)(),l=(0,a.klJ)(),d=(0,a.Mx4)();return E0(l,s,s[a.GpT],d,t,n,i),y0}function E0(t,n,i,s,l,d,y){let A=!0,R=null;if((3&s.type||y)&&(R??=Dh(s,n,d),function kE(t,n,i,s,l,d,y,A){const R=(0,a.yoD)(t);let H=!1,ne=null;if(!s&&R&&(ne=function LE(t,n,i,s){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const y=l[d];if(y===i&&l[d+1]===s){const A=n[a.VVG],R=l[d+2];return A&&A.length>R?A[R]:null}"string"==typeof y&&(d+=2)}return null}(n,i,d,t.index)),null!==ne)(ne.__ngLastListenerFn__||ne).__ngNextListenerFn__=y,ne.__ngLastListenerFn__=y,H=!0;else{const Se=(0,a.d31)(t,i),ut=s?s(Se):Se;!function va(t,n,i,s){Rs(t,n,i,s)}(i,ut,d,A);const ot=l.listen(ut,d,A);V_(s?Wn=>s((0,a.IvY)(Wn[t.index])):t.index,n,i,d,A,ot,!1)}return H}(s,t,n,y,i,l,d,R)&&(A=!1)),A){const H=s.outputs?.[l],ne=s.hostDirectiveOutputs?.[l];if(ne&&ne.length)for(let Se=0;Se<ne.length;Se+=2){const ut=ne[Se],ot=ne[Se+1];R??=Dh(s,n,d),Jf(s,n,ut,ot,l,R)}if(H&&H.length)for(const Se of H)R??=Dh(s,n,d),Jf(s,n,Se,l,l,R)}}function tT(t=1){return(0,a.jvu)(t)}function jA(t,n){let i=null;const s=function zd(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===s?uu(t,d,!0):rf(s,d))return l}else i=l}return i}function nT(t){const n=(0,a.OAn)()[a.b5C][a.qlT];if(!n.projection){const s=n.projection=(0,a.WfI)(t?t.length:1,null),l=s.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const y=t?jA(d,t):0;null!==y&&(l[y]?l[y].projectionNext=d:s[y]=d,l[y]=d)}d=d.next}}}function rT(t,n=0,i,s,l,d){const y=(0,a.OAn)(),A=(0,a.klJ)(),R=s?t+1:null;null!==R&&Nu(y,A,R,s,l,d,null,i);const H=ed(A,a.Yw1+t,16,null,i||null);null===H.projection&&(H.projection=n),(0,a.Pfq)();const Se=!y[a.tcA]||(0,a.KtD)();null===y[a.b5C][a.qlT].projection[H.projection]&&null!==R?function $A(t,n,i){const s=a.Yw1+i,l=n.data[s],d=t[s],y=ld(d,l.tView.ssrId);$c(d,Va(t,l,void 0,{dehydratedView:y}),0,mc(l,y))}(y,A,R):Se&&!yu(H)&&function bf(t,n,i){ih(n[a.GpT],0,n,i,Kl(t,i,n),ig(i.parent||n[a.qlT],i,n))}(A,y,H)}function iT(t,n,i,s){ko(t,n,i,s)}function oT(t,n,i){KE(t,n,i)}function sT(t){const n=(0,a.OAn)(),i=(0,a.klJ)(),s=(0,a.w7Z)();(0,a.GA0)(s+1);const l=ip(i,s);if(t.dirty&&(0,a.vOT)(n)===!(2&~l.metadata.flags)){if(null===l.matches)t.reset([]);else{const d=HE(n,s);t.reset(d,Cr),t.notifyOnChanges()}return!0}return!1}function aT(){return Pu((0,a.OAn)(),(0,a.w7Z)())}function cT(t,n,i,s,l){zE(n,ko(t,i,s,l))}function uT(t,n,i,s){zE(t,KE(n,i,s))}function lT(t=1){(0,a.GA0)((0,a.w7Z)()+t)}function dT(t){const n=(0,a.VPL)();return(0,a.Hh6)(n,a.Yw1+t)}function sE(t,n){return t<<17|n<<2}function Xh(t){return t>>17&32767}function v0(t){return 2|t}function Wp(t){return(131068&t)>>2}function I0(t,n){return-131069&t|n<<2}function T0(t){return 1|t}function hT(t,n,i,s){const l=t[i+1],d=null===n;let y=s?Xh(l):Wp(l),A=!1;for(;0!==y&&(!1===A||d);){const H=t[y+1];qA(t[y],n)&&(A=!0,t[y+1]=s?T0(H):v0(H)),y=s?Xh(H):Wp(H)}A&&(t[i+1]=s?v0(l):T0(l))}function qA(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&(0,a.FRF)(t,n)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fT(t){return t.substring(js.key,js.keyEnd)}function QA(t){return t.substring(js.value,js.valueEnd)}function pT(t,n){const i=js.textEnd;return i===n?-1:(n=js.keyEnd=function JA(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,js.key=n,i),Kp(t,n,i))}function gT(t,n){const i=js.textEnd;let s=js.key=Kp(t,n,i);return i===s?-1:(s=js.keyEnd=function ZA(t,n,i){let s;for(;n<i&&(45===(s=t.charCodeAt(n))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)n++;return n}(t,s,i),s=_T(t,s,i),s=js.value=Kp(t,s,i),s=js.valueEnd=function eD(t,n,i){let s=-1,l=-1,d=-1,y=n,A=y;for(;y<i;){const R=t.charCodeAt(y++);if(59===R)return A;34===R||39===R?A=y=yT(t,R,y,i):n===y-4&&85===d&&82===l&&76===s&&40===R?A=y=yT(t,41,y,i):R>32&&(A=y),d=l,l=s,s=-33&R}return A}(t,s,i),_T(t,s,i))}function mT(t){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=t.length}function Kp(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function _T(t,n,i,s){return(n=Kp(t,n,i))<i&&n++,n}function yT(t,n,i,s){let l=-1,d=i;for(;d<s;){const y=t.charCodeAt(d++);if(y==n&&92!==l)return d;l=92==y&&92===l?0:y}throw new Error}function A0(t,n,i){return vT(t,n,i,!1),A0}function D0(t,n){return vT(t,n,null,!0),D0}function nD(t,n){for(let i=function XA(t){return mT(t),gT(t,Kp(t,0,js.textEnd))}(n);i>=0;i=gT(n,i))DT(t,fT(n),QA(n))}function ET(t){IT(uD,rD,t,!0)}function rD(t,n){for(let i=function YA(t){return mT(t),pT(t,Kp(t,0,js.textEnd))}(n);i>=0;i=pT(n,i))(0,a.ezK)(t,fT(n),!0)}function vT(t,n,i,s){const l=(0,a.OAn)(),d=(0,a.klJ)(),y=(0,a.b$O)(2);d.firstUpdatePass&&AT(d,t,y,s),n!==co&&Wo(l,y,n)&&wT(d,d.data[(0,a._px)()],l,l[a.GpT],t,l[y+1]=function dD(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=(0,a.AsM)(tr(t)))),t}(n,i),s,y)}function IT(t,n,i,s){const l=(0,a.klJ)(),d=(0,a.b$O)(2);l.firstUpdatePass&&AT(l,null,d,s);const y=(0,a.OAn)();if(i!==co&&Wo(y,d,i)){const A=l.data[(0,a._px)()];if(bT(A,s)&&!TT(l,d)){let R=s?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(i=(0,a.n$e)(R,i||"")),Wh(l,A,y,i,s)}else!function lD(t,n,i,s,l,d,y,A){l===co&&(l=a.Mlv);let R=0,H=0,ne=0<l.length?l[0]:null,Se=0<d.length?d[0]:null;for(;null!==ne||null!==Se;){const ut=R<l.length?l[R+1]:void 0,ot=H<d.length?d[H+1]:void 0;let Wn,un=null;ne===Se?(R+=2,H+=2,ut!==ot&&(un=Se,Wn=ot)):null===Se||null!==ne&&ne<Se?(R+=2,un=ne):(H+=2,un=Se,Wn=ot),null!==un&&wT(t,n,i,s,un,Wn,y,A),ne=R<l.length?l[R]:null,Se=H<d.length?d[H]:null}}(l,A,y,y[a.GpT],y[d+1],y[d+1]=function cD(t,n,i){if(null==i||""===i)return a.Mlv;const s=[],l=tr(i);if(Array.isArray(l))for(let d=0;d<l.length;d++)t(s,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&t(s,d,l[d]);else"string"==typeof l&&n(s,l);return s}(t,n,i),s,d)}}function TT(t,n){return n>=t.expandoStartIndex}function AT(t,n,i,s){const l=t.data;if(null===l[i+1]){const d=l[(0,a._px)()],y=TT(t,i);bT(d,s)&&null===n&&!y&&(n=!1),n=function iD(t,n,i,s){const l=(0,a.MT)(t);let d=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=Xm(i=w0(null,t,n,i,s),n.attrs,s),d=null);else{const y=n.directiveStylingLast;if(-1===y||t[y]!==l)if(i=w0(l,t,n,i,s),null===d){let R=function oD(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==Wp(s))return t[Xh(s)]}(t,n,s);void 0!==R&&Array.isArray(R)&&(R=w0(null,t,n,R[1],s),R=Xm(R,n.attrs,s),function sD(t,n,i,s){t[Xh(i?n.classBindings:n.styleBindings)]=s}(t,n,s,R))}else d=function aD(t,n,i){let s;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)s=Xm(s,t[d].hostAttrs,i);return Xm(s,n.attrs,i)}(t,n,s)}return void 0!==d&&(s?n.residualClasses=d:n.residualStyles=d),i}(l,d,n,s),function zA(t,n,i,s,l,d){let y=d?n.classBindings:n.styleBindings,A=Xh(y),R=Wp(y);t[s]=i;let ne,H=!1;if(Array.isArray(i)?(ne=i[1],(null===ne||(0,a.FRF)(i,ne)>0)&&(H=!0)):ne=i,l)if(0!==R){const ut=Xh(t[A+1]);t[s+1]=sE(ut,A),0!==ut&&(t[ut+1]=I0(t[ut+1],s)),t[A+1]=function KA(t,n){return 131071&t|n<<17}(t[A+1],s)}else t[s+1]=sE(A,0),0!==A&&(t[A+1]=I0(t[A+1],s)),A=s;else t[s+1]=sE(R,0),0===A?A=s:t[R+1]=I0(t[R+1],s),R=s;H&&(t[s+1]=v0(t[s+1])),hT(t,ne,s,!0),hT(t,ne,s,!1),function GA(t,n,i,s,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&(0,a.FRF)(d,n)>=0&&(i[s+1]=T0(i[s+1]))}(n,ne,t,s,d),y=sE(A,R),d?n.classBindings=y:n.styleBindings=y}(l,d,n,i,y,s)}}function w0(t,n,i,s,l){let d=null;const y=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<y&&(d=n[A],s=Xm(s,d.hostAttrs,l),d!==t);)A++;return null!==t&&(i.directiveStylingLast=A),s}function Xm(t,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const y=n[d];"number"==typeof y?l=y:l===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),(0,a.ezK)(t,y,!!i||n[++d]))}return void 0===t?null:t}function DT(t,n,i){(0,a.ezK)(t,n,tr(i))}function uD(t,n,i){const s=String(n);""!==s&&!s.includes(" ")&&(0,a.ezK)(t,s,i)}function wT(t,n,i,s,l,d,y,A){if(!(3&n.type))return;const R=t.data,H=R[A+1],ne=function HA(t){return!(1&~t)}(H)?CT(R,n,i,l,Wp(H),y):void 0;aE(ne)||(aE(d)||function WA(t){return!(2&~t)}(H)&&(d=CT(R,null,i,l,A,y)),function sg(t,n,i,s,l){if(n)l?t.addClass(i,s):t.removeClass(i,s);else{let d=-1===s.indexOf("-")?void 0:Zu.DashCase;null==l?t.removeStyle(i,s,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Zu.Important),t.setStyle(i,s,l,d))}}(s,y,(0,a.vaC)((0,a._px)(),i),l,d))}function CT(t,n,i,s,l,d){const y=null===n;let A;for(;l>0;){const R=t[l],H=Array.isArray(R),ne=H?R[1]:R,Se=null===ne;let ut=i[l+1];ut===co&&(ut=Se?a.Mlv:void 0);let ot=Se?(0,a.K7h)(ut,s):ne===s?ut:void 0;if(H&&!aE(ot)&&(ot=(0,a.K7h)(R,s)),aE(ot)&&(A=ot,y))return A;const un=t[l+1];l=y?Xh(un):Wp(un)}if(null!==n){let R=d?n.residualClasses:n.residualStyles;null!=R&&(A=(0,a.K7h)(R,s))}return A}function aE(t){return void 0!==t}function bT(t,n){return!!(t.flags&(n?8:16))}function ST(t,n=""){const i=(0,a.OAn)(),s=(0,a.klJ)(),l=t+a.Yw1,d=s.firstCreatePass?ed(s,l,1,n,null):s.data[l],y=RT(s,i,d,n,t);i[l]=y,(0,a.SX7)()&&nh(s,i,y,d),(0,a.iMd)(d,!1)}let RT=(t,n,i,s,l)=>((0,a.m7n)(!0),kc(n[a.GpT],s));function PT(t,n){let i=!1,s=(0,a.c$7)();for(let d=1;d<n.length;d+=2)i=Wo(t,s++,n[d])||i;if((0,a.Kw3)(s),!i)return co;let l=n[0];for(let d=1;d<n.length;d+=2)l+=(0,a.eFE)(n[d])+(d+1!==n.length?n[d+1]:"");return l}function MT(t,n,i,s=""){return Wo(t,(0,a.xbp)(),i)?n+(0,a.eFE)(i)+s:co}function OT(t,n,i,s,l,d=""){const A=zc(t,(0,a.c$7)(),i,l);return(0,a.b$O)(2),A?n+(0,a.eFE)(i)+s+(0,a.eFE)(l)+d:co}function NT(t,n,i,s,l,d,y,A=""){const H=Ah(t,(0,a.c$7)(),i,l,y);return(0,a.b$O)(3),H?n+(0,a.eFE)(i)+s+(0,a.eFE)(l)+d+(0,a.eFE)(y)+A:co}function xT(t,n,i,s,l,d,y,A,R,H=""){const Se=Bs(t,(0,a.c$7)(),i,l,y,R);return(0,a.b$O)(4),Se?n+(0,a.eFE)(i)+s+(0,a.eFE)(l)+d+(0,a.eFE)(y)+A+(0,a.eFE)(R)+H:co}function kT(t,n,i,s,l,d,y,A,R,H,ne,Se=""){const ut=(0,a.c$7)();let ot=Bs(t,ut,i,l,y,R);return ot=Wo(t,ut+4,ne)||ot,(0,a.b$O)(5),ot?n+(0,a.eFE)(i)+s+(0,a.eFE)(l)+d+(0,a.eFE)(y)+A+(0,a.eFE)(R)+H+(0,a.eFE)(ne)+Se:co}function LT(t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot=""){const un=(0,a.c$7)();let Wn=Bs(t,un,i,l,y,R);return Wn=zc(t,un+4,ne,ut)||Wn,(0,a.b$O)(6),Wn?n+(0,a.eFE)(i)+s+(0,a.eFE)(l)+d+(0,a.eFE)(y)+A+(0,a.eFE)(R)+H+(0,a.eFE)(ne)+Se+(0,a.eFE)(ut)+ot:co}function FT(t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un,Wn=""){const Wr=(0,a.c$7)();let Fr=Bs(t,Wr,i,l,y,R);return Fr=Ah(t,Wr+4,ne,ut,un)||Fr,(0,a.b$O)(7),Fr?n+(0,a.eFE)(i)+s+(0,a.eFE)(l)+d+(0,a.eFE)(y)+A+(0,a.eFE)(R)+H+(0,a.eFE)(ne)+Se+(0,a.eFE)(ut)+ot+(0,a.eFE)(un)+Wn:co}function BT(t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un,Wn,Wr,Fr=""){const Zn=(0,a.c$7)();let Lo=Bs(t,Zn,i,l,y,R);return Lo=Bs(t,Zn+4,ne,ut,un,Wr)||Lo,(0,a.b$O)(8),Lo?n+(0,a.eFE)(i)+s+(0,a.eFE)(l)+d+(0,a.eFE)(y)+A+(0,a.eFE)(R)+H+(0,a.eFE)(ne)+Se+(0,a.eFE)(ut)+ot+(0,a.eFE)(un)+Wn+(0,a.eFE)(Wr)+Fr:co}function C0(t){return cE("",t),C0}function cE(t,n,i){const s=(0,a.OAn)(),l=MT(s,t,n,i);return l!==co&&Dl(s,(0,a._px)(),l),cE}function b0(t,n,i,s,l){const d=(0,a.OAn)(),y=OT(d,t,n,i,s,l);return y!==co&&Dl(d,(0,a._px)(),y),b0}function Dl(t,n,i){const s=(0,a.vaC)(n,t);cf(t[a.GpT],s,i)}function S0(t,n,i){(0,a.n$r)(n)&&(n=n());const s=(0,a.OAn)();return Wo(s,(0,a.xbp)(),n)&&((0,a.klJ)(),Vc((0,a.CpD)(),s,t,n,s[a.GpT],i)),S0}function zT(t,n){const i=(0,a.n$r)(t);return i&&t.set(n),i}function R0(t,n){const i=(0,a.OAn)(),s=(0,a.klJ)(),l=(0,a.Mx4)();return E0(s,i,i[a.GpT],l,t,n),R0}const GT={};function P0(t,n,i,s,l){if(t=(0,a.nl4)(t),Array.isArray(t))for(let d=0;d<t.length;d++)P0(t[d],n,i,s,l);else{const d=(0,a.klJ)(),y=(0,a.OAn)(),A=(0,a.Mx4)();let R=(0,a.Y3W)(t)?t:(0,a.nl4)(t.provide);const H=(0,a.Rc9)(t),ne=1048575&A.providerIndexes,Se=A.directiveStart,ut=A.providerIndexes>>20;if((0,a.Y3W)(t)||!t.multi){const ot=new lr(H,l,bu),un=O0(R,n,l?ne:ne+ut,Se);-1===un?(Un(br(A,y),d,R),M0(d,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,l&&(A.providerIndexes+=1048576),i.push(ot),y.push(ot)):(i[un]=ot,y[un]=ot)}else{const ot=O0(R,n,ne+ut,Se),un=O0(R,n,ne,ne+ut),Wr=un>=0&&i[un];if(l&&!Wr||!l&&!(ot>=0&&i[ot])){Un(br(A,y),d,R);const Fr=function RD(t,n,i,s,l){const d=new lr(t,i,bu);return d.multi=[],d.index=n,d.componentProviders=0,QT(d,l,s&&!i),d}(l?SD:bD,i.length,l,s,H);!l&&Wr&&(i[un].providerFactory=Fr),M0(d,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,l&&(A.providerIndexes+=1048576),i.push(Fr),y.push(Fr)}else M0(d,t,ot>-1?ot:un,QT(i[l?un:ot],H,!l&&s));!l&&s&&Wr&&i[un].componentProviders++}}}function M0(t,n,i,s){const l=(0,a.Y3W)(n),d=(0,a.MME)(n);if(l||d){const R=(d?(0,a.nl4)(n.useClass):n).prototype.ngOnDestroy;if(R){const H=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const ne=H.indexOf(i);-1===ne?H.push(i,[s,R]):H[ne+1].push(s,R)}else H.push(i,R)}}}function QT(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function O0(t,n,i,s){for(let l=i;l<s;l++)if(n[l]===t)return l;return-1}function bD(t,n,i,s){return N0(this.multi,[])}function SD(t,n,i,s){const l=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,A=qr(i,i[a.eDl],this.providerFactory.index,s);d=A.slice(0,y),N0(l,d);for(let R=y;R<A.length;R++)d.push(A[R])}else d=[],N0(l,d);return d}function N0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function YT(t,n=[]){return i=>{i.providersResolver=(s,l)=>function CD(t,n,i){const s=(0,a.klJ)();if(s.firstCreatePass){const l=(0,a.JlV)(t);P0(i,s.data,s.blueprint,l,!0),P0(n,s.data,s.blueprint,l,!1)}}(s,l?l(t):t,n)}}function uE(t){if("function"==typeof t)return t;const n=(0,a.Bqz)(t);return n.some(a.Jzi)?()=>n.map(a.nl4).map(XT):n.map(XT)}function XT(t){return Eh(t)?t.ngModule:t}function Jm(t,n){const i=t[n];return i===co?void 0:i}function JT(t,n,i,s,l,d){const y=n+i;return Wo(t,y,l)?Ic(t,y+1,d?s.call(d,l):s(l)):Jm(t,y+1)}function ZT(t,n,i,s,l,d,y){const A=n+i;return zc(t,A,l,d)?Ic(t,A+2,y?s.call(y,l,d):s(l,d)):Jm(t,A+2)}function eA(t,n,i,s,l,d,y,A){const R=n+i;return Ah(t,R,l,d,y)?Ic(t,R+3,A?s.call(A,l,d,y):s(l,d,y)):Jm(t,R+3)}function tA(t,n,i,s,l,d,y,A,R){const H=n+i;return Bs(t,H,l,d,y,A)?Ic(t,H+4,R?s.call(R,l,d,y,A):s(l,d,y,A)):Jm(t,H+4)}function nA(t,n,i,s,l,d){let y=n+i,A=!1;for(let R=0;R<l.length;R++)Wo(t,y++,l[R])&&(A=!0);return A?Ic(t,y,s.apply(d,l)):Jm(t,y)}function rA(t,n){const i=(0,a.klJ)();let s;const l=t+a.Yw1;i.firstCreatePass?(s=function WD(t,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(t===s.name)return s}}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks??=[]).push(l,s.onDestroy)):s=i.data[l];const d=s.factory||(s.factory=(0,a.wGu)(s.type,!0)),A=(0,a.a2B)(bu);try{const R=Pr(!1),H=d();return Pr(R),(0,a.M_e)(i,(0,a.OAn)(),l,H),H}finally{(0,a.a2B)(A)}}function iA(t,n,i,s){const l=t+a.Yw1,d=(0,a.OAn)(),y=(0,a.Hh6)(d,l);return Zm(d,l)?ZT(d,(0,a.gxQ)(),n,y.transform,i,s,y):y.transform(i,s)}function oA(t,n,i,s,l,d){const y=t+a.Yw1,A=(0,a.OAn)(),R=(0,a.Hh6)(A,y);return Zm(A,y)?tA(A,(0,a.gxQ)(),n,R.transform,i,s,l,d,R):R.transform(i,s,l,d)}function Zm(t,n){return t[a.eDl].data[n].pure}function sA(t,n){return cn(t,n)}function lE(t,n,i,s,l){const d=l[a.eDl];if(d!==s.tView)for(let y=a.Yw1;y<d.bindingStartIndex;y++){const A=l[y];if((0,a.A0l)(A)){(0,a.q$2)(A[a.jgP])&&lE(t,n,i,s,A[a.jgP]);for(let R=a.Y20;R<A.length;R++)lE(t,n,i,s,A[R])}else(0,a.q$2)(A)&&lE(t,n,i,s,A)}else!function ZD(t,n,i,s,l){const d=l[a.SKP];let y=l[a.jgP];const A=l[a.f7T],R=l[a.qlT],H=l[a.YEL].get(ns,null),ne=()=>{if(s.encapsulation===gs.ShadowDom){const un=y.cloneNode(!1);y.replaceWith(un),y=un}const Se=Qd(i),ut=Qu(A,Se,d,Yd(i),y,R,null,null,null,null,null);(function ew(t,n,i,s){for(let l=a.Yw1;l<t[a.eDl].bindingStartIndex;l++){const d=t[l];if(((0,a.q$2)(d)||(0,a.A0l)(d))&&d[a.K29]===n){d[a.K29]=i;break}}t[a.EJG]===n&&(t[a.EJG]=i),t[a.Yrj]===n&&(t[a.Yrj]=i),i[a.K29]=n[a.K29],n[a.K29]=null,t[s]=i})(A,l,ut,R.index),el(l[a.eDl],l);const ot=l[a.M0L].rendererFactory;(function JD(t,n){t.componentReplaced?.(n.id)})(ot,s),ut[a.GpT]=ot.createRenderer(y,i),_c(l[a.eDl],l),function tw(t){if(null!==t.projection){for(const n of t.projection)Kr(n)&&(n.projectionNext=null,n.flags&=-3);t.projection=null}}(R),jl(Se,ut,d),ug(Se,ut,Se.template,d)};null===H?aA(t,n,ne):H.run(()=>aA(t,n,ne))}(t,n,i,s,l)}function aA(t,n,i){try{i()}catch(s){if(null!==n&&s.message){const d=s.message+(s.stack?"\n"+s.stack:"");t?.hot?.send?.("angular:invalidate",{id:n,message:d,error:!0})}throw s}}const Bd={\u0275\u0275attribute:Dd,\u0275\u0275defineComponent:om,\u0275\u0275defineDirective:Rh,\u0275\u0275defineInjectable:a.jDH,\u0275\u0275defineInjector:a.G2t,\u0275\u0275defineNgModule:_d,\u0275\u0275definePipe:am,\u0275\u0275directiveInject:bu,\u0275\u0275getInheritedFactory:ve,\u0275\u0275inject:a.KVO,\u0275\u0275injectAttribute:W,\u0275\u0275invalidFactory:vc,\u0275\u0275invalidFactoryDep:a.dmw,\u0275\u0275templateRefExtractor:sA,\u0275\u0275resetView:a.Njj,\u0275\u0275HostDirectivesFeature:tv,\u0275\u0275NgOnChangesFeature:Rn,\u0275\u0275ProvidersFeature:YT,\u0275\u0275CopyDefinitionFeature:function ev(t){let i,n=Ed(t.type);i=(0,a.JlV)(t)?n.\u0275cmp:n.\u0275dir;const s=t;for(const l of ZE)s[l]=i[l];if((0,a.JlV)(i))for(const l of lp)s[l]=i[l]},\u0275\u0275InheritDefinitionFeature:um,\u0275\u0275ExternalStylesFeature:function PD(t){return n=>{t.length<1||(n.getExternalStyles=i=>t.map(l=>l+"?ngcomp"+(i?"="+encodeURIComponent(i):"")+"&e="+n.encapsulation))}},\u0275\u0275nextContext:tT,\u0275\u0275namespaceHTML:a.joV,\u0275\u0275namespaceMathML:a.By9,\u0275\u0275namespaceSVG:a.qSk,\u0275\u0275enableBindings:a.cSN,\u0275\u0275disableBindings:a.fuf,\u0275\u0275elementStart:ku,\u0275\u0275elementEnd:wc,\u0275\u0275element:Kh,\u0275\u0275elementContainerStart:bd,\u0275\u0275elementContainerEnd:Sd,\u0275\u0275elementContainer:Op,\u0275\u0275pureFunction0:function ND(t,n,i){const s=(0,a.gxQ)()+t,l=(0,a.OAn)();return l[s]===co?Ic(l,s,i?n.call(i):n()):Su(l,s)},\u0275\u0275pureFunction1:function xD(t,n,i,s){return JT((0,a.OAn)(),(0,a.gxQ)(),t,n,i,s)},\u0275\u0275pureFunction2:function kD(t,n,i,s,l){return ZT((0,a.OAn)(),(0,a.gxQ)(),t,n,i,s,l)},\u0275\u0275pureFunction3:function LD(t,n,i,s,l,d){return eA((0,a.OAn)(),(0,a.gxQ)(),t,n,i,s,l,d)},\u0275\u0275pureFunction4:function FD(t,n,i,s,l,d,y){return tA((0,a.OAn)(),(0,a.gxQ)(),t,n,i,s,l,d,y)},\u0275\u0275pureFunction5:function BD(t,n,i,s,l,d,y,A){const R=(0,a.gxQ)()+t,H=(0,a.OAn)(),ne=Bs(H,R,i,s,l,d);return Wo(H,R+4,y)||ne?Ic(H,R+5,A?n.call(A,i,s,l,d,y):n(i,s,l,d,y)):Su(H,R+5)},\u0275\u0275pureFunction6:function VD(t,n,i,s,l,d,y,A,R){const H=(0,a.gxQ)()+t,ne=(0,a.OAn)(),Se=Bs(ne,H,i,s,l,d);return zc(ne,H+4,y,A)||Se?Ic(ne,H+6,R?n.call(R,i,s,l,d,y,A):n(i,s,l,d,y,A)):Su(ne,H+6)},\u0275\u0275pureFunction7:function UD(t,n,i,s,l,d,y,A,R,H){const ne=(0,a.gxQ)()+t,Se=(0,a.OAn)();let ut=Bs(Se,ne,i,s,l,d);return Ah(Se,ne+4,y,A,R)||ut?Ic(Se,ne+7,H?n.call(H,i,s,l,d,y,A,R):n(i,s,l,d,y,A,R)):Su(Se,ne+7)},\u0275\u0275pureFunction8:function jD(t,n,i,s,l,d,y,A,R,H,ne){const Se=(0,a.gxQ)()+t,ut=(0,a.OAn)(),ot=Bs(ut,Se,i,s,l,d);return Bs(ut,Se+4,y,A,R,H)||ot?Ic(ut,Se+8,ne?n.call(ne,i,s,l,d,y,A,R,H):n(i,s,l,d,y,A,R,H)):Su(ut,Se+8)},\u0275\u0275pureFunctionV:function $D(t,n,i,s){return nA((0,a.OAn)(),(0,a.gxQ)(),t,n,i,s)},\u0275\u0275getCurrentView:Fm,\u0275\u0275restoreView:a.eBV,\u0275\u0275listener:y0,\u0275\u0275projection:rT,\u0275\u0275syntheticHostProperty:function Qy(t,n,i){const s=(0,a.OAn)();if(Wo(s,(0,a.xbp)(),n)){const d=(0,a.klJ)(),y=(0,a.CpD)();Jd(y,s,t,n,mf((0,a.MT)(d.data),y,s),i)}return Qy},\u0275\u0275syntheticHostListener:function eT(t,n){const i=(0,a.Mx4)(),s=(0,a.OAn)(),l=(0,a.klJ)();return E0(l,s,mf((0,a.MT)(l.data),i,s),i,t,n),eT},\u0275\u0275pipeBind1:function KD(t,n,i){const s=t+a.Yw1,l=(0,a.OAn)(),d=(0,a.Hh6)(l,s);return Zm(l,s)?JT(l,(0,a.gxQ)(),n,d.transform,i,d):d.transform(i)},\u0275\u0275pipeBind2:iA,\u0275\u0275pipeBind3:function HD(t,n,i,s,l){const d=t+a.Yw1,y=(0,a.OAn)(),A=(0,a.Hh6)(y,d);return Zm(y,d)?eA(y,(0,a.gxQ)(),n,A.transform,i,s,l,A):A.transform(i,s,l)},\u0275\u0275pipeBind4:oA,\u0275\u0275pipeBindV:function zD(t,n,i){const s=t+a.Yw1,l=(0,a.OAn)(),d=(0,a.Hh6)(l,s);return Zm(l,s)?nA(l,(0,a.gxQ)(),n,d.transform,i,d):d.transform.apply(d,i)},\u0275\u0275projectionDef:nT,\u0275\u0275domProperty:Np,\u0275\u0275property:Mp,\u0275\u0275pipe:rA,\u0275\u0275queryRefresh:sT,\u0275\u0275queryAdvance:lT,\u0275\u0275viewQuery:oT,\u0275\u0275viewQuerySignal:uT,\u0275\u0275loadQuery:aT,\u0275\u0275contentQuery:iT,\u0275\u0275contentQuerySignal:cT,\u0275\u0275reference:dT,\u0275\u0275classMap:ET,\u0275\u0275styleMap:function tD(t){IT(DT,nD,t,!1)},\u0275\u0275styleProp:A0,\u0275\u0275classProp:D0,\u0275\u0275advance:Xd,\u0275\u0275template:hp,\u0275\u0275conditional:Wy,\u0275\u0275conditionalCreate:vl,\u0275\u0275conditionalBranchCreate:Nm,\u0275\u0275defer:function Cm(t,n,i,s,l,d,y,A,R,H){const ne=(0,a.OAn)(),Se=(0,a.klJ)(),ut=t+a.Yw1,ot=Nu(ne,Se,t,null,0,0),un=ne[a.YEL];if(Se.firstCreatePass){zs("NgDefer");const Xo={primaryTmplIndex:n,loadingTmplIndex:s??null,placeholderTmplIndex:l??null,errorTmplIndex:d??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:i??null,loadingState:Ts.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:H??0};R?.(Se,Xo,A,y),function my(t,n,i){const s=Ep(n);t.data[s]=i}(Se,ut,Xo)}const Wn=ne[ut];Qg(Wn,ot,ne);let Wr=null,Fr=null;if(Wn[a.qFA]?.length>0){const Xo=Wn[a.qFA][0].data;Fr=Xo[hr]??null,Wr=Xo.s}const Zn=[null,hl.Initial,null,null,null,null,Fr,Wr,null,null];!function lI(t,n,i){t[Ep(n)]=i}(ne,ut,Zn);let Lo=null;null!==Fr&&(Lo=un.get(_s),Lo.add(Fr,{lView:ne,tNode:ot,lContainer:Wn}));const Ea=()=>{cv(Zn),null!==Fr&&Lo?.cleanup([Fr])};gp(0,Zn,()=>(0,a.DyX)(ne,Ea)),(0,a.ik5)(ne,Ea)},\u0275\u0275deferWhen:function bm(t){const n=(0,a.OAn)(),i=(0,a.CpD)();if(rs(0,n,i)&&Wo(n,(0,a.xbp)(),t)){const l=(0,B.Ht)(null);try{const d=!!t,A=Ra(n,i)[1];!1===d&&A===hl.Initial?xh(n,i):!0===d&&(A===hl.Initial||A===Bo.Placeholder)&&ml(0,n,i)}finally{(0,B.Ht)(l)}}},\u0275\u0275deferOnIdle:function Cp(){rs(0,(0,a.OAn)(),(0,a.Mx4)())&&Td(Nh)},\u0275\u0275deferOnImmediate:function Xv(){const t=(0,a.OAn)(),n=(0,a.Mx4)();rs(0,t,n)&&(null===Gs(t[a.eDl],n).loadingTmplIndex&&xh(t,n),ml(0,t,n))},\u0275\u0275deferOnTimer:function ky(t){rs(0,(0,a.OAn)(),(0,a.Mx4)())&&Td(Ip(t))},\u0275\u0275deferOnHover:function Zv(t,n){const i=(0,a.OAn)(),s=(0,a.Mx4)();rs(0,i,s)&&(xh(i,s),qc(i,s,t,n,zo,()=>ml(0,i,s),0))},\u0275\u0275deferOnInteraction:function Fy(t,n){const i=(0,a.OAn)(),s=(0,a.Mx4)();rs(0,i,s)&&(xh(i,s),qc(i,s,t,n,yo,()=>ml(0,i,s),0))},\u0275\u0275deferOnViewport:function Om(t,n){const i=(0,a.OAn)(),s=(0,a.Mx4)();rs(0,i,s)&&(xh(i,s),qc(i,s,t,n,yy,()=>ml(0,i,s),0))},\u0275\u0275deferPrefetchWhen:function Sm(t){const n=(0,a.OAn)();if(rs(1,n,(0,a.CpD)())&&Wo(n,(0,a.xbp)(),t)){const l=(0,B.Ht)(null);try{const d=!!t,y=n[a.eDl],A=(0,a.CpD)(),R=Gs(y,A);!0===d&&R.loadingState===Ts.NOT_STARTED&&Qc(R,n,A)}finally{(0,B.Ht)(l)}}},\u0275\u0275deferPrefetchOnIdle:function Oy(){rs(1,(0,a.OAn)(),(0,a.Mx4)())&&by(Nh)},\u0275\u0275deferPrefetchOnImmediate:function Vh(){const t=(0,a.OAn)(),n=(0,a.Mx4)();if(!rs(1,t,n))return;const s=Gs(t[a.eDl],n);s.loadingState===Ts.NOT_STARTED&&Lh(s,t,n)},\u0275\u0275deferPrefetchOnTimer:function Rm(t){rs(1,(0,a.OAn)(),(0,a.Mx4)())&&by(Ip(t))},\u0275\u0275deferPrefetchOnHover:function Pm(t,n){const i=(0,a.OAn)(),s=(0,a.Mx4)();if(!rs(1,i,s))return;const d=Gs(i[a.eDl],s);d.loadingState===Ts.NOT_STARTED&&qc(i,s,t,n,zo,()=>Qc(d,i,s),1)},\u0275\u0275deferPrefetchOnInteraction:function Uh(t,n){const i=(0,a.OAn)(),s=(0,a.Mx4)();if(!rs(1,i,s))return;const d=Gs(i[a.eDl],s);d.loadingState===Ts.NOT_STARTED&&qc(i,s,t,n,yo,()=>Qc(d,i,s),1)},\u0275\u0275deferPrefetchOnViewport:function yl(t,n){const i=(0,a.OAn)(),s=(0,a.Mx4)();if(!rs(1,i,s))return;const d=Gs(i[a.eDl],s);d.loadingState===Ts.NOT_STARTED&&qc(i,s,t,n,yy,()=>Qc(d,i,s),1)},\u0275\u0275deferHydrateWhen:function qs(t){const n=(0,a.OAn)(),i=(0,a.CpD)();if(!rs(2,n,i))return;const s=(0,a.xbp)();if(Yc((0,a.klJ)(),i).set(6,null),Wo(n,s,t)){const y=n[a.YEL],A=(0,B.Ht)(null);try{1==!!t&&_a(y,Ra(n,i)[6])}finally{(0,B.Ht)(A)}}},\u0275\u0275deferHydrateNever:function ca(){const t=(0,a.OAn)(),n=(0,a.Mx4)();rs(2,t,n)&&Yc((0,a.klJ)(),n).set(7,null)},\u0275\u0275deferHydrateOnIdle:function Ny(){const t=(0,a.OAn)(),n=(0,a.Mx4)();rs(2,t,n)&&(Yc((0,a.klJ)(),n).set(0,null),Ad(Nh,t,n))},\u0275\u0275deferHydrateOnImmediate:function xy(){const t=(0,a.OAn)(),n=(0,a.Mx4)();rs(2,t,n)&&(Yc((0,a.klJ)(),n).set(1,null),_a(t[a.YEL],Ra(t,n)[6]))},\u0275\u0275deferHydrateOnTimer:function Jv(t){const n=(0,a.OAn)(),i=(0,a.Mx4)();rs(2,n,i)&&(Yc((0,a.klJ)(),i).set(5,{delay:t}),Ad(Ip(t),n,i))},\u0275\u0275deferHydrateOnHover:function Ly(){const t=(0,a.OAn)(),n=(0,a.Mx4)();rs(2,t,n)&&Yc((0,a.klJ)(),n).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function Mm(){const t=(0,a.OAn)(),n=(0,a.Mx4)();rs(2,t,n)&&Yc((0,a.klJ)(),n).set(3,null)},\u0275\u0275deferHydrateOnViewport:function By(){const t=(0,a.OAn)(),n=(0,a.Mx4)();rs(2,t,n)&&Yc((0,a.klJ)(),n).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function mI(t,n,i,s){const l=t.consts;null!=i&&(n.placeholderBlockConfig=(0,a.db4)(l,i)),null!=s&&(n.loadingBlockConfig=(0,a.db4)(l,s)),null===Iy&&(Iy=gI)},\u0275\u0275repeater:Pp,\u0275\u0275repeaterCreate:Xc,\u0275\u0275repeaterTrackByIndex:function Ky(t){return t},\u0275\u0275repeaterTrackByIdentity:function xm(t,n){return n},\u0275\u0275componentInstance:function Vy(){return(0,a.OAn)()[a.b5C][a.SKP]},\u0275\u0275text:ST,\u0275\u0275textInterpolate:C0,\u0275\u0275textInterpolate1:cE,\u0275\u0275textInterpolate2:b0,\u0275\u0275textInterpolate3:function VT(t,n,i,s,l,d,y){const A=(0,a.OAn)(),R=NT(A,t,n,i,s,l,d,y);return R!==co&&Dl(A,(0,a._px)(),R),VT},\u0275\u0275textInterpolate4:function UT(t,n,i,s,l,d,y,A,R){const H=(0,a.OAn)(),ne=xT(H,t,n,i,s,l,d,y,A,R);return ne!==co&&Dl(H,(0,a._px)(),ne),UT},\u0275\u0275textInterpolate5:function jT(t,n,i,s,l,d,y,A,R,H,ne){const Se=(0,a.OAn)(),ut=kT(Se,t,n,i,s,l,d,y,A,R,H,ne);return ut!==co&&Dl(Se,(0,a._px)(),ut),jT},\u0275\u0275textInterpolate6:function $T(t,n,i,s,l,d,y,A,R,H,ne,Se,ut){const ot=(0,a.OAn)(),un=LT(ot,t,n,i,s,l,d,y,A,R,H,ne,Se,ut);return un!==co&&Dl(ot,(0,a._px)(),un),$T},\u0275\u0275textInterpolate7:function WT(t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un){const Wn=(0,a.OAn)(),Wr=FT(Wn,t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un);return Wr!==co&&Dl(Wn,(0,a._px)(),Wr),WT},\u0275\u0275textInterpolate8:function KT(t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un,Wn,Wr){const Fr=(0,a.OAn)(),Zn=BT(Fr,t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un,Wn,Wr);return Zn!==co&&Dl(Fr,(0,a._px)(),Zn),KT},\u0275\u0275textInterpolateV:function HT(t){const n=(0,a.OAn)(),i=PT(n,t);return i!==co&&Dl(n,(0,a._px)(),i),HT},\u0275\u0275i18n:function Qs(t,n,i){Io(t,n,i),Us()},\u0275\u0275i18nAttributes:function Fd(t,n){const i=(0,a.klJ)(),s=(0,a.db4)(i.consts,n);!function nE(t,n,i){const l=(0,a.Mx4)().index,d=[];if(t.firstCreatePass&&null===t.data[n]){for(let y=0;y<i.length;y+=2){const A=i[y],R=i[y+1];if(""!==R){if(Jy.test(R))throw new Error(`ICU expressions are not supported in attributes. Message: "${R}".`);Tl(d,R,l,A,Hm(d),null)}}t.data[n]=d}}(i,t+a.Yw1,s)},\u0275\u0275i18nExp:function Wa(t){return function Lu(t){t&&(Gh|=1<<Math.min(qh,31)),qh++}(Wo((0,a.OAn)(),(0,a.xbp)(),t)),Wa},\u0275\u0275i18nStart:Io,\u0275\u0275i18nEnd:Us,\u0275\u0275i18nApply:function $p(t){!function d0(t,n,i){if(qh>0){const s=t.data[i];jm(t,n,Array.isArray(s)?s:s.update,(0,a.c$7)()-qh-1,Gh)}Gh=0,qh=0}((0,a.klJ)(),(0,a.OAn)(),t+a.Yw1)},\u0275\u0275i18nPostprocess:function Ym(t,n={}){return function Vs(t,n={}){let i=t;if(k.test(t)){const s={},l=[0];i=i.replace(G,(d,y,A)=>{const R=y||A,H=s[R]||[];if(H.length||(R.split("|").forEach(Wn=>{const Wr=Wn.match(Uo),Fr=Wr?parseInt(Wr[1],10):0,Zn=vr.test(Wn);H.push([Fr,Zn,Wn])}),s[R]=H),!H.length)throw new Error(`i18n postprocess: unmatched placeholder - ${R}`);const ne=l[l.length-1];let Se=0;for(let Wn=0;Wn<H.length;Wn++)if(H[Wn][0]===ne){Se=Wn;break}const[ut,ot,un]=H[Se];return ot?l.pop():ne!==ut&&l.push(ut),H.splice(Se,1),un})}return Object.keys(n).length&&(i=i.replace(we,(s,l,d,y,A,R)=>n.hasOwnProperty(d)?`${l}${n[d]}${R}`:s),i=i.replace(Kt,(s,l)=>n.hasOwnProperty(l)?n[l]:s),i=i.replace(hn,(s,l)=>{if(n.hasOwnProperty(l)){const d=n[l];if(!d.length)throw new Error(`i18n postprocess: unmatched ICU - ${s} with key: ${l}`);return d.shift()}return s})),i}(t,n)},\u0275\u0275resolveWindow:function su(t){return t.ownerDocument.defaultView},\u0275\u0275resolveDocument:function Qp(t){return t.ownerDocument},\u0275\u0275resolveBody:function Kd(t){return t.ownerDocument.body},\u0275\u0275setComponentScope:function MD(t,n,i){const s=t.\u0275cmp;s.directiveDefs=dl(n,!1),s.pipeDefs=dl(i,!0)},\u0275\u0275setNgModuleScope:function OD(t,n){return j(()=>{const i=(0,a.WbQ)(t);i.declarations=uE(n.declarations||a.Mlv),i.imports=uE(n.imports||a.Mlv),i.exports=uE(n.exports||a.Mlv),n.bootstrap&&(i.bootstrap=uE(n.bootstrap)),Ec.registerNgModule(t,n)})},\u0275\u0275registerNgModuleType:em,\u0275\u0275getComponentDepsFactory:function GD(t,n){return()=>{try{return Ec.getComponentDependencies(t,n).dependencies}catch(i){throw console.error(`Computing dependencies in local compilation mode for the component "${t.name}" failed with the exception:`,i),i}}},\u0275setClassDebugInfo:function qD(t,n){const i=(0,a.xUg)(t);null!==i&&(i.debugInfo=n)},\u0275\u0275declareLet:function qT(t){const n=(0,a.klJ)(),i=(0,a.OAn)(),s=t+a.Yw1,l=ed(n,s,128,null,null);return(0,a.iMd)(l,!1),(0,a.M_e)(n,i,s,GT),qT},\u0275\u0275storeLet:function fD(t){zs("NgLet");const n=(0,a.klJ)(),i=(0,a.OAn)(),s=(0,a._px)();return(0,a.M_e)(n,i,s,t),t},\u0275\u0275readContextLet:function pD(t){const n=(0,a.VPL)(),i=(0,a.Hh6)(n,a.Yw1+t);if(i===GT)throw new a.buA(314,!1);return i},\u0275\u0275attachSourceLocations:function gD(t,n){const i=(0,a.klJ)(),s=(0,a.OAn)(),l=s[a.GpT],d="data-ng-source-location";for(const[y,A,R,H]of n){(0,a.XRZ)(i,y+a.Yw1);const Se=(0,a.vaC)(y+a.Yw1,s);Se.hasAttribute(d)||l.setAttribute(Se,d,`${t}@o:${A},l:${R},c:${H}`)}},\u0275\u0275interpolate:function mD(t){return Wo((0,a.OAn)(),(0,a.xbp)(),t)?(0,a.eFE)(t):co},\u0275\u0275interpolate1:function _D(t,n,i=""){return MT((0,a.OAn)(),t,n,i)},\u0275\u0275interpolate2:function yD(t,n,i,s,l=""){return OT((0,a.OAn)(),t,n,i,s,l)},\u0275\u0275interpolate3:function ED(t,n,i,s,l,d,y=""){return NT((0,a.OAn)(),t,n,i,s,l,d,y)},\u0275\u0275interpolate4:function vD(t,n,i,s,l,d,y,A,R=""){return xT((0,a.OAn)(),t,n,i,s,l,d,y,A,R)},\u0275\u0275interpolate5:function ID(t,n,i,s,l,d,y,A,R,H,ne=""){return kT((0,a.OAn)(),t,n,i,s,l,d,y,A,R,H,ne)},\u0275\u0275interpolate6:function TD(t,n,i,s,l,d,y,A,R,H,ne,Se,ut=""){return LT((0,a.OAn)(),t,n,i,s,l,d,y,A,R,H,ne,Se,ut)},\u0275\u0275interpolate7:function AD(t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un=""){return FT((0,a.OAn)(),t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un)},\u0275\u0275interpolate8:function DD(t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un,Wn,Wr=""){return BT((0,a.OAn)(),t,n,i,s,l,d,y,A,R,H,ne,Se,ut,ot,un,Wn,Wr)},\u0275\u0275interpolateV:function wD(t){return PT((0,a.OAn)(),t)},\u0275\u0275sanitizeHtml:function po(t){const n=Oc();return n?E(n.sanitize(Hr.HTML,t)||""):pi(t,"HTML")?E(tr(t)):Te(Gt(),(0,a.eFE)(t))},\u0275\u0275sanitizeStyle:function $o(t){const n=Oc();return n?n.sanitize(Hr.STYLE,t)||"":pi(t,"Style")?tr(t):(0,a.eFE)(t)},\u0275\u0275sanitizeResourceUrl:Yo,\u0275\u0275sanitizeScript:function sa(t){const n=Oc();if(n)return C(n.sanitize(Hr.SCRIPT,t)||"");if(pi(t,"Script"))return C(tr(t));throw new a.buA(905,!1)},\u0275\u0275sanitizeUrl:xo,\u0275\u0275sanitizeUrlOrResourceUrl:ef,\u0275\u0275trustConstantHtml:function Mc(t){return Go(t[0])},\u0275\u0275trustConstantResourceUrl:function wl(t){return function Bu(t){return sc()?.createScriptURL(t)||t}(t[0])},\u0275\u0275validateIframeAttribute:function YE(t,n,i){const s=(0,a.OAn)(),l=(0,a.CpD)(),d=(0,a.d31)(l,s);if(2===l.type&&"iframe"===n.toLowerCase()){const y=d;throw y.src="",y.srcdoc=Go(""),Gu(s[a.GpT],y),new a.buA(-910,!1)}return t},forwardRef:a.Rfq,resolveForwardRef:a.nl4,\u0275\u0275twoWayProperty:S0,\u0275\u0275twoWayBindingSet:zT,\u0275\u0275twoWayListener:R0,\u0275\u0275replaceMetadata:function YD(t,n,i,s,l=null,d=null){const y=(0,a.xUg)(t);n.apply(null,[t,i,...s]);const{newDef:A,oldDef:R}=function XD(t,n){const i={...t};return{newDef:Object.assign(t,n,{directiveDefs:i.directiveDefs,pipeDefs:i.pipeDefs,setInput:i.setInput,type:i.type}),oldDef:i}}(y,(0,a.xUg)(t));if(t[a.CQl]=A,R.tView){const H=function Ui(){return on}().values();for(const ne of H)(0,a.EFk)(ne)&&null===ne[a.f7T]&&lE(l,d,A,R,ne)}},\u0275\u0275getReplaceMetadataURL:function QD(t,n,i){const s=`./@ng/component?c=${t}&t=${encodeURIComponent(n)}`;return new URL(s,i).href}};let Hp=null;function nw(t){null!==Hp&&(t.defaultEncapsulation!==Hp.defaultEncapsulation||t.preserveWhitespaces!==Hp.preserveWhitespaces)||(Hp=t)}const e_=[];function fA(t){return Eh(t)?t.ngModule:t}const vw=ye("NgModule",t=>t,void 0,0,(t,n)=>function sw(t,n={}){(function aw(t,n){const s=(0,a.Bqz)(n.declarations||a.Mlv);let l=null;Object.defineProperty(t,a.hmW,{configurable:!0,get:()=>(null===l&&(l=Sn().compileNgModule(Bd,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:(0,a.Bqz)(n.bootstrap||a.Mlv).map(a.nl4),declarations:s.map(a.nl4),imports:(0,a.Bqz)(n.imports||a.Mlv).map(a.nl4).map(fA),exports:(0,a.Bqz)(n.exports||a.Mlv).map(a.nl4).map(fA),schemas:n.schemas?(0,a.Bqz)(n.schemas):null,id:n.id||null}),l.schemas||(l.schemas=[])),l)});let d=null;Object.defineProperty(t,a.zSs,{get:()=>{if(null===d){const A=Sn();d=A.compileFactory(Bd,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:ht(t),target:A.FactoryTarget.NgModule,typeArgumentCount:0})}return d},configurable:!1});let y=null;Object.defineProperty(t,a.ONQ,{get:()=>{if(null===y){const A={name:t.name,type:t,providers:n.providers||a.Mlv,imports:[(n.imports||a.Mlv).map(a.nl4),(n.exports||a.Mlv).map(a.nl4)]};y=Sn().compileInjector(Bd,`ng:///${t.name}/\u0275inj.js`,A)}return y},configurable:!1})})(t,n),void 0!==n.id&&em(t,n.id),function iw(t,n){e_.push({moduleType:t,ngModule:n})}(t,n)}(t,n));class Iw{ngModuleFactory;componentFactories;constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Tw=(()=>{class t{compileModuleSync(i){return new sp(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),d=ma((0,a.phH)(i).declarations).reduce((y,A)=>{const R=(0,a.xUg)(A);return R&&y.push(new ep(R)),y},[]);return new Iw(s,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Aw=new a.nKC("");let Dw=(()=>{class t{zone=(0,a.WQX)(ns);changeDetectionScheduler=(0,a.WQX)(a.hk6);applicationRef=(0,a.WQX)(en);applicationErrorHandler=(0,a.WQX)(a.ZTf);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(i){this.applicationErrorHandler(i)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const DA=new a.nKC("",{factory:()=>!1});function wA({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return t??=()=>new ns({...B0(),scheduleInRootZone:i}),[{provide:ns,useFactory:t},{provide:a.Z63,multi:!0,useFactory:()=>{const s=(0,a.WQX)(Dw,{optional:!0});return()=>s.initialize()}},{provide:a.Z63,multi:!0,useFactory:()=>{const s=(0,a.WQX)(ww);return()=>{s.initialize()}}},!0===n?{provide:a.Jy$,useValue:!0}:[],{provide:a.AQb,useValue:i??lv},{provide:a.ZTf,useFactory:()=>{const s=(0,a.WQX)(ns),l=(0,a.WQX)(a.uvJ);let d;return y=>{d??=l.get(a.zcH),s.runOutsideAngular(()=>d.handleError(y))}}}]}function B0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let ww=(()=>{class t{subscription=new $e.yU;initialized=!1;zone=(0,a.WQX)(ns);pendingTasks=(0,a.WQX)(a.rev);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ns.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ns.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SA=(()=>{class t{applicationErrorHandler=(0,a.WQX)(a.ZTf);appRef=(0,a.WQX)(en);taskService=(0,a.WQX)(a.rev);ngZone=(0,a.WQX)(ns);zonelessEnabled=(0,a.WQX)(a.Evm);tracing=(0,a.WQX)(_p,{optional:!0});disableScheduling=(0,a.WQX)(a.Jy$,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,a.WQX)(a.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mm||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let s=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,s=!0;break;case 12:this.appRef.dirtyFlags|=16,s=!0;break;case 11:s=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;const l=this.useMicrotaskScheduler?hv:dv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){this.taskService.remove(i),this.applicationErrorHandler(s)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(s){return new(s||t)};static \u0275prov=(0,a.jDH)({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const RA=new a.nKC("",{providedIn:"root",factory:()=>(0,a.WQX)(RA,{optional:!0,skipSelf:!0})||function Cw(){return typeof $localize<"u"&&$localize.locale||Vm}()}),bw=new a.nKC("",{providedIn:"root",factory:()=>"USD"})},7650:(Hn,vt,I)=>{I.d(vt,{$b:()=>a,Vy:()=>j});const L=[];var a=function(Ce){return Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",Ce}(a||{});const B={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},_e=a.INFO,$e={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},ct=(Ce,ye,...He)=>{if(ye<Ce.logLevel)return;const kt=(new Date).toISOString(),zt=$e[ye];if(!zt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[zt](`[${kt}]  ${Ce.name}:`,...He)};class j{constructor(ye){this.name=ye,this._logLevel=_e,this._logHandler=ct,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in a))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?B[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...ye),this._logHandler(this,a.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...ye),this._logHandler(this,a.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,a.INFO,...ye),this._logHandler(this,a.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,a.WARN,...ye),this._logHandler(this,a.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,a.ERROR,...ye),this._logHandler(this,a.ERROR,...ye)}}},7694:(Hn,vt,I)=>{I.d(vt,{s:()=>_e});var L=I(2120),a=I(3731),B=I(5015);function _e($e){return $e<=0?()=>L.w:(0,a.N)((ct,j)=>{let fe=0;ct.subscribe((0,B._)(j,Ae=>{++fe<=$e&&(j.next(Ae),$e<=fe&&j.complete())}))})}},7730:(Hn,vt,I)=>{I.d(vt,{_7:()=>qc,rJ:()=>Ty,H9:()=>kv,x7:()=>wy,GG:()=>Lv,aU:()=>Fv,AB:()=>Bv,My:()=>Uv,hV:()=>Pv,P:()=>jv,_M:()=>QI});var Xt,An,L=I(8424),a=I(1698),B=I(7385),_e=I(2474),$e=I(1465),ct=I(1767),j=I(8813),fe=I(649),Ae=I(1572),Ce=I(9333),ye=I(7650),He=I(5099),kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zt={};(function(){var c;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Mt,rt,mt){mt||(mt=0);var Nt=Array(16);if("string"==typeof rt)for(var Vt=0;16>Vt;++Vt)Nt[Vt]=rt.charCodeAt(mt++)|rt.charCodeAt(mt++)<<8|rt.charCodeAt(mt++)<<16|rt.charCodeAt(mt++)<<24;else for(Vt=0;16>Vt;++Vt)Nt[Vt]=rt[mt++]|rt[mt++]<<8|rt[mt++]<<16|rt[mt++]<<24;var en=Mt.g[3],gt=(rt=Mt.g[0])+(en^(mt=Mt.g[1])&((Vt=Mt.g[2])^en))+Nt[0]+3614090360&4294967295;gt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=(mt=(Vt=(en=(rt=mt+(gt<<7&4294967295|gt>>>25))+((gt=en+(Vt^rt&(mt^Vt))+Nt[1]+3905402710&4294967295)<<12&4294967295|gt>>>20))+((gt=Vt+(mt^en&(rt^mt))+Nt[2]+606105819&4294967295)<<17&4294967295|gt>>>15))+((gt=mt+(rt^Vt&(en^rt))+Nt[3]+3250441966&4294967295)<<22&4294967295|gt>>>10))+((gt=rt+(en^mt&(Vt^en))+Nt[4]+4118548399&4294967295)<<7&4294967295|gt>>>25))+((gt=en+(Vt^rt&(mt^Vt))+Nt[5]+1200080426&4294967295)<<12&4294967295|gt>>>20))+((gt=Vt+(mt^en&(rt^mt))+Nt[6]+2821735955&4294967295)<<17&4294967295|gt>>>15))+((gt=mt+(rt^Vt&(en^rt))+Nt[7]+4249261313&4294967295)<<22&4294967295|gt>>>10))+((gt=rt+(en^mt&(Vt^en))+Nt[8]+1770035416&4294967295)<<7&4294967295|gt>>>25))+((gt=en+(Vt^rt&(mt^Vt))+Nt[9]+2336552879&4294967295)<<12&4294967295|gt>>>20))+((gt=Vt+(mt^en&(rt^mt))+Nt[10]+4294925233&4294967295)<<17&4294967295|gt>>>15))+((gt=mt+(rt^Vt&(en^rt))+Nt[11]+2304563134&4294967295)<<22&4294967295|gt>>>10))+((gt=rt+(en^mt&(Vt^en))+Nt[12]+1804603682&4294967295)<<7&4294967295|gt>>>25))+((gt=en+(Vt^rt&(mt^Vt))+Nt[13]+4254626195&4294967295)<<12&4294967295|gt>>>20))+((gt=Vt+(mt^en&(rt^mt))+Nt[14]+2792965006&4294967295)<<17&4294967295|gt>>>15))+((gt=mt+(rt^Vt&(en^rt))+Nt[15]+1236535329&4294967295)<<22&4294967295|gt>>>10))+((gt=rt+(Vt^en&(mt^Vt))+Nt[1]+4129170786&4294967295)<<5&4294967295|gt>>>27))+((gt=en+(mt^Vt&(rt^mt))+Nt[6]+3225465664&4294967295)<<9&4294967295|gt>>>23))+((gt=Vt+(rt^mt&(en^rt))+Nt[11]+643717713&4294967295)<<14&4294967295|gt>>>18))+((gt=mt+(en^rt&(Vt^en))+Nt[0]+3921069994&4294967295)<<20&4294967295|gt>>>12))+((gt=rt+(Vt^en&(mt^Vt))+Nt[5]+3593408605&4294967295)<<5&4294967295|gt>>>27))+((gt=en+(mt^Vt&(rt^mt))+Nt[10]+38016083&4294967295)<<9&4294967295|gt>>>23))+((gt=Vt+(rt^mt&(en^rt))+Nt[15]+3634488961&4294967295)<<14&4294967295|gt>>>18))+((gt=mt+(en^rt&(Vt^en))+Nt[4]+3889429448&4294967295)<<20&4294967295|gt>>>12))+((gt=rt+(Vt^en&(mt^Vt))+Nt[9]+568446438&4294967295)<<5&4294967295|gt>>>27))+((gt=en+(mt^Vt&(rt^mt))+Nt[14]+3275163606&4294967295)<<9&4294967295|gt>>>23))+((gt=Vt+(rt^mt&(en^rt))+Nt[3]+4107603335&4294967295)<<14&4294967295|gt>>>18))+((gt=mt+(en^rt&(Vt^en))+Nt[8]+1163531501&4294967295)<<20&4294967295|gt>>>12))+((gt=rt+(Vt^en&(mt^Vt))+Nt[13]+2850285829&4294967295)<<5&4294967295|gt>>>27))+((gt=en+(mt^Vt&(rt^mt))+Nt[2]+4243563512&4294967295)<<9&4294967295|gt>>>23))+((gt=Vt+(rt^mt&(en^rt))+Nt[7]+1735328473&4294967295)<<14&4294967295|gt>>>18))+((gt=mt+(en^rt&(Vt^en))+Nt[12]+2368359562&4294967295)<<20&4294967295|gt>>>12))+((gt=rt+(mt^Vt^en)+Nt[5]+4294588738&4294967295)<<4&4294967295|gt>>>28))+((gt=en+(rt^mt^Vt)+Nt[8]+2272392833&4294967295)<<11&4294967295|gt>>>21))+((gt=Vt+(en^rt^mt)+Nt[11]+1839030562&4294967295)<<16&4294967295|gt>>>16))+((gt=mt+(Vt^en^rt)+Nt[14]+4259657740&4294967295)<<23&4294967295|gt>>>9))+((gt=rt+(mt^Vt^en)+Nt[1]+2763975236&4294967295)<<4&4294967295|gt>>>28))+((gt=en+(rt^mt^Vt)+Nt[4]+1272893353&4294967295)<<11&4294967295|gt>>>21))+((gt=Vt+(en^rt^mt)+Nt[7]+4139469664&4294967295)<<16&4294967295|gt>>>16))+((gt=mt+(Vt^en^rt)+Nt[10]+3200236656&4294967295)<<23&4294967295|gt>>>9))+((gt=rt+(mt^Vt^en)+Nt[13]+681279174&4294967295)<<4&4294967295|gt>>>28))+((gt=en+(rt^mt^Vt)+Nt[0]+3936430074&4294967295)<<11&4294967295|gt>>>21))+((gt=Vt+(en^rt^mt)+Nt[3]+3572445317&4294967295)<<16&4294967295|gt>>>16))+((gt=mt+(Vt^en^rt)+Nt[6]+76029189&4294967295)<<23&4294967295|gt>>>9))+((gt=rt+(mt^Vt^en)+Nt[9]+3654602809&4294967295)<<4&4294967295|gt>>>28))+((gt=en+(rt^mt^Vt)+Nt[12]+3873151461&4294967295)<<11&4294967295|gt>>>21))+((gt=Vt+(en^rt^mt)+Nt[15]+530742520&4294967295)<<16&4294967295|gt>>>16))+((gt=mt+(Vt^en^rt)+Nt[2]+3299628645&4294967295)<<23&4294967295|gt>>>9))+((gt=rt+(Vt^(mt|~en))+Nt[0]+4096336452&4294967295)<<6&4294967295|gt>>>26))+((gt=en+(mt^(rt|~Vt))+Nt[7]+1126891415&4294967295)<<10&4294967295|gt>>>22))+((gt=Vt+(rt^(en|~mt))+Nt[14]+2878612391&4294967295)<<15&4294967295|gt>>>17))+((gt=mt+(en^(Vt|~rt))+Nt[5]+4237533241&4294967295)<<21&4294967295|gt>>>11))+((gt=rt+(Vt^(mt|~en))+Nt[12]+1700485571&4294967295)<<6&4294967295|gt>>>26))+((gt=en+(mt^(rt|~Vt))+Nt[3]+2399980690&4294967295)<<10&4294967295|gt>>>22))+((gt=Vt+(rt^(en|~mt))+Nt[10]+4293915773&4294967295)<<15&4294967295|gt>>>17))+((gt=mt+(en^(Vt|~rt))+Nt[1]+2240044497&4294967295)<<21&4294967295|gt>>>11))+((gt=rt+(Vt^(mt|~en))+Nt[8]+1873313359&4294967295)<<6&4294967295|gt>>>26))+((gt=en+(mt^(rt|~Vt))+Nt[15]+4264355552&4294967295)<<10&4294967295|gt>>>22))+((gt=Vt+(rt^(en|~mt))+Nt[6]+2734768916&4294967295)<<15&4294967295|gt>>>17))+((gt=mt+(en^(Vt|~rt))+Nt[13]+1309151649&4294967295)<<21&4294967295|gt>>>11))+((en=(rt=mt+((gt=rt+(Vt^(mt|~en))+Nt[4]+4149444226&4294967295)<<6&4294967295|gt>>>26))+((gt=en+(mt^(rt|~Vt))+Nt[11]+3174756917&4294967295)<<10&4294967295|gt>>>22))^((Vt=en+((gt=Vt+(rt^(en|~mt))+Nt[2]+718787259&4294967295)<<15&4294967295|gt>>>17))|~rt))+Nt[9]+3951481745&4294967295,Mt.g[0]=Mt.g[0]+rt&4294967295,Mt.g[1]=Mt.g[1]+(Vt+(gt<<21&4294967295|gt>>>11))&4294967295,Mt.g[2]=Mt.g[2]+Vt&4294967295,Mt.g[3]=Mt.g[3]+en&4294967295}function m(Mt,rt){this.h=rt;for(var mt=[],Nt=!0,Vt=Mt.length-1;0<=Vt;Vt--){var en=0|Mt[Vt];Nt&&en==rt||(mt[Vt]=en,Nt=!1)}this.g=mt}(function e(Mt,rt){function mt(){}mt.prototype=rt.prototype,Mt.D=rt.prototype,Mt.prototype=new mt,Mt.prototype.constructor=Mt,Mt.C=function(Nt,Vt,en){for(var gt=Array(arguments.length-2),ja=2;ja<arguments.length;ja++)gt[ja-2]=arguments[ja];return rt.prototype[Vt].apply(Nt,gt)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Mt,rt){void 0===rt&&(rt=Mt.length);for(var mt=rt-this.blockSize,Nt=this.B,Vt=this.h,en=0;en<rt;){if(0==Vt)for(;en<=mt;)u(this,Mt,en),en+=this.blockSize;if("string"==typeof Mt){for(;en<rt;)if(Nt[Vt++]=Mt.charCodeAt(en++),Vt==this.blockSize){u(this,Nt),Vt=0;break}}else for(;en<rt;)if(Nt[Vt++]=Mt[en++],Vt==this.blockSize){u(this,Nt),Vt=0;break}}this.h=Vt,this.o+=rt},o.prototype.v=function(){var Mt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Mt[0]=128;for(var rt=1;rt<Mt.length-8;++rt)Mt[rt]=0;var mt=8*this.o;for(rt=Mt.length-8;rt<Mt.length;++rt)Mt[rt]=255&mt,mt/=256;for(this.u(Mt),Mt=Array(16),rt=mt=0;4>rt;++rt)for(var Nt=0;32>Nt;Nt+=8)Mt[mt++]=this.g[rt]>>>Nt&255;return Mt};var w={};function P(Mt){return-128<=Mt&&128>Mt?function f(Mt,rt){var mt=w;return Object.prototype.hasOwnProperty.call(mt,Mt)?mt[Mt]:mt[Mt]=rt(Mt)}(Mt,function(rt){return new m([0|rt],0>rt?-1:0)}):new m([0|Mt],0>Mt?-1:0)}function V(Mt){if(isNaN(Mt)||!isFinite(Mt))return De;if(0>Mt)return Bn(V(-Mt));for(var rt=[],mt=1,Nt=0;Mt>=mt;Nt++)rt[Nt]=Mt/mt|0,mt*=4294967296;return new m(rt,0)}var De=P(0),nt=P(1),jt=P(16777216);function yn(Mt){if(0!=Mt.h)return!1;for(var rt=0;rt<Mt.g.length;rt++)if(0!=Mt.g[rt])return!1;return!0}function Fn(Mt){return-1==Mt.h}function Bn(Mt){for(var rt=Mt.g.length,mt=[],Nt=0;Nt<rt;Nt++)mt[Nt]=~Mt.g[Nt];return new m(mt,~Mt.h).add(nt)}function Rr(Mt,rt){return Mt.add(Bn(rt))}function ri(Mt,rt){for(;(65535&Mt[rt])!=Mt[rt];)Mt[rt+1]+=Mt[rt]>>>16,Mt[rt]&=65535,rt++}function Yr(Mt,rt){this.g=Mt,this.h=rt}function Wi(Mt,rt){if(yn(rt))throw Error("division by zero");if(yn(Mt))return new Yr(De,De);if(Fn(Mt))return rt=Wi(Bn(Mt),rt),new Yr(Bn(rt.g),Bn(rt.h));if(Fn(rt))return rt=Wi(Mt,Bn(rt)),new Yr(Bn(rt.g),rt.h);if(30<Mt.g.length){if(Fn(Mt)||Fn(rt))throw Error("slowDivide_ only works with positive integers.");for(var mt=nt,Nt=rt;0>=Nt.l(Mt);)mt=vo(mt),Nt=vo(Nt);var Vt=Xi(mt,1),en=Xi(Nt,1);for(Nt=Xi(Nt,2),mt=Xi(mt,2);!yn(Nt);){var gt=en.add(Nt);0>=gt.l(Mt)&&(Vt=Vt.add(mt),en=gt),Nt=Xi(Nt,1),mt=Xi(mt,1)}return rt=Rr(Mt,Vt.j(rt)),new Yr(Vt,rt)}for(Vt=De;0<=Mt.l(rt);){for(mt=Math.max(1,Math.floor(Mt.m()/rt.m())),Nt=48>=(Nt=Math.ceil(Math.log(mt)/Math.LN2))?1:Math.pow(2,Nt-48),gt=(en=V(mt)).j(rt);Fn(gt)||0<gt.l(Mt);)gt=(en=V(mt-=Nt)).j(rt);yn(en)&&(en=nt),Vt=Vt.add(en),Mt=Rr(Mt,gt)}return new Yr(Vt,Mt)}function vo(Mt){for(var rt=Mt.g.length+1,mt=[],Nt=0;Nt<rt;Nt++)mt[Nt]=Mt.i(Nt)<<1|Mt.i(Nt-1)>>>31;return new m(mt,Mt.h)}function Xi(Mt,rt){var mt=rt>>5;rt%=32;for(var Nt=Mt.g.length-mt,Vt=[],en=0;en<Nt;en++)Vt[en]=0<rt?Mt.i(en+mt)>>>rt|Mt.i(en+mt+1)<<32-rt:Mt.i(en+mt);return new m(Vt,Mt.h)}(c=m.prototype).m=function(){if(Fn(this))return-Bn(this).m();for(var Mt=0,rt=1,mt=0;mt<this.g.length;mt++){var Nt=this.i(mt);Mt+=(0<=Nt?Nt:4294967296+Nt)*rt,rt*=4294967296}return Mt},c.toString=function(Mt){if(2>(Mt=Mt||10)||36<Mt)throw Error("radix out of range: "+Mt);if(yn(this))return"0";if(Fn(this))return"-"+Bn(this).toString(Mt);for(var rt=V(Math.pow(Mt,6)),mt=this,Nt="";;){var Vt=Wi(mt,rt).g,en=((0<(mt=Rr(mt,Vt.j(rt))).g.length?mt.g[0]:mt.h)>>>0).toString(Mt);if(yn(mt=Vt))return en+Nt;for(;6>en.length;)en="0"+en;Nt=en+Nt}},c.i=function(Mt){return 0>Mt?0:Mt<this.g.length?this.g[Mt]:this.h},c.l=function(Mt){return Fn(Mt=Rr(this,Mt))?-1:yn(Mt)?0:1},c.abs=function(){return Fn(this)?Bn(this):this},c.add=function(Mt){for(var rt=Math.max(this.g.length,Mt.g.length),mt=[],Nt=0,Vt=0;Vt<=rt;Vt++){var en=Nt+(65535&this.i(Vt))+(65535&Mt.i(Vt)),gt=(en>>>16)+(this.i(Vt)>>>16)+(Mt.i(Vt)>>>16);Nt=gt>>>16,mt[Vt]=(gt&=65535)<<16|(en&=65535)}return new m(mt,-2147483648&mt[mt.length-1]?-1:0)},c.j=function(Mt){if(yn(this)||yn(Mt))return De;if(Fn(this))return Fn(Mt)?Bn(this).j(Bn(Mt)):Bn(Bn(this).j(Mt));if(Fn(Mt))return Bn(this.j(Bn(Mt)));if(0>this.l(jt)&&0>Mt.l(jt))return V(this.m()*Mt.m());for(var rt=this.g.length+Mt.g.length,mt=[],Nt=0;Nt<2*rt;Nt++)mt[Nt]=0;for(Nt=0;Nt<this.g.length;Nt++)for(var Vt=0;Vt<Mt.g.length;Vt++){var en=this.i(Nt)>>>16,gt=65535&this.i(Nt),ja=Mt.i(Vt)>>>16,Td=65535&Mt.i(Vt);mt[2*Nt+2*Vt]+=gt*Td,ri(mt,2*Nt+2*Vt),mt[2*Nt+2*Vt+1]+=en*Td,ri(mt,2*Nt+2*Vt+1),mt[2*Nt+2*Vt+1]+=gt*ja,ri(mt,2*Nt+2*Vt+1),mt[2*Nt+2*Vt+2]+=en*ja,ri(mt,2*Nt+2*Vt+2)}for(Nt=0;Nt<rt;Nt++)mt[Nt]=mt[2*Nt+1]<<16|mt[2*Nt];for(Nt=rt;Nt<2*rt;Nt++)mt[Nt]=0;return new m(mt,0)},c.A=function(Mt){return Wi(this,Mt).h},c.and=function(Mt){for(var rt=Math.max(this.g.length,Mt.g.length),mt=[],Nt=0;Nt<rt;Nt++)mt[Nt]=this.i(Nt)&Mt.i(Nt);return new m(mt,this.h&Mt.h)},c.or=function(Mt){for(var rt=Math.max(this.g.length,Mt.g.length),mt=[],Nt=0;Nt<rt;Nt++)mt[Nt]=this.i(Nt)|Mt.i(Nt);return new m(mt,this.h|Mt.h)},c.xor=function(Mt){for(var rt=Math.max(this.g.length,Mt.g.length),mt=[],Nt=0;Nt<rt;Nt++)mt[Nt]=this.i(Nt)^Mt.i(Nt);return new m(mt,this.h^Mt.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,An=zt.Md5=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=V,m.fromString=function oe(Mt,rt){if(0==Mt.length)throw Error("number format error: empty string");if(2>(rt=rt||10)||36<rt)throw Error("radix out of range: "+rt);if("-"==Mt.charAt(0))return Bn(oe(Mt.substring(1),rt));if(0<=Mt.indexOf("-"))throw Error('number format error: interior "-" character');for(var mt=V(Math.pow(rt,8)),Nt=De,Vt=0;Vt<Mt.length;Vt+=8){var en=Math.min(8,Mt.length-Vt),gt=parseInt(Mt.substring(Vt,Vt+en),rt);8>en?(en=V(Math.pow(rt,en)),Nt=Nt.j(en).add(V(gt))):Nt=(Nt=Nt.j(mt)).add(V(gt))}return Nt},Xt=zt.Integer=m}).apply(typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{});var wn,Ge,Ot,Je,Et,tn,_t,$t,_n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yt={};(function(){var c,e="function"==typeof Object.defineProperties?Object.defineProperty:function(g,k,G){return g==Array.prototype||g==Object.prototype||(g[k]=G.value),g},o=function r(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof _n&&_n];for(var k=0;k<g.length;++k){var G=g[k];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}(this);!function u(g,k){if(k)e:{var G=o;g=g.split(".");for(var we=0;we<g.length-1;we++){var Kt=g[we];if(!(Kt in G))break e;G=G[Kt]}(k=k(we=G[g=g[g.length-1]]))!=we&&null!=k&&e(G,g,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(g){return g||function(){return function f(g,k){g instanceof String&&(g+="");var G=0,we=!1,Kt={next:function(){if(!we&&G<g.length){var hn=G++;return{value:k(hn,g[hn]),done:!1}}return we=!0,{done:!0,value:void 0}}};return Kt[Symbol.iterator]=function(){return Kt},Kt}(this,function(k,G){return G})}});var m=m||{},w=this||self;function P(g){var k=typeof g;return"array"==(k="object"!=k?k:g?Array.isArray(g)?"array":k:"null")||"object"==k&&"number"==typeof g.length}function V(g){var k=typeof g;return"object"==k&&null!=g||"function"==k}function oe(g,k,G){return g.call.apply(g.bind,arguments)}function De(g,k,G){if(!g)throw Error();if(2<arguments.length){var we=Array.prototype.slice.call(arguments,2);return function(){var Kt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Kt,we),g.apply(k,Kt)}}return function(){return g.apply(k,arguments)}}function nt(g,k,G){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:De).apply(null,arguments)}function jt(g,k){var G=Array.prototype.slice.call(arguments,1);return function(){var we=G.slice();return we.push.apply(we,arguments),g.apply(this,we)}}function yn(g,k){function G(){}G.prototype=k.prototype,g.aa=k.prototype,g.prototype=new G,g.prototype.constructor=g,g.Qb=function(we,Kt,hn){for(var vr=Array(arguments.length-2),Uo=2;Uo<arguments.length;Uo++)vr[Uo-2]=arguments[Uo];return k.prototype[Kt].apply(we,vr)}}function Fn(g){const k=g.length;if(0<k){const G=Array(k);for(let we=0;we<k;we++)G[we]=g[we];return G}return[]}function Bn(g,k){for(let G=1;G<arguments.length;G++){const we=arguments[G];if(P(we)){const Kt=g.length||0,hn=we.length||0;g.length=Kt+hn;for(let vr=0;vr<hn;vr++)g[Kt+vr]=we[vr]}else g.push(we)}}function ri(g){return/^[\s\xa0]*$/.test(g)}function Yr(){var g=w.navigator;return g&&(g=g.userAgent)?g:""}function Wi(g){return Wi[" "](g),g}Wi[" "]=function(){};var vo=!(-1==Yr().indexOf("Gecko")||-1!=Yr().toLowerCase().indexOf("webkit")&&-1==Yr().indexOf("Edge")||-1!=Yr().indexOf("Trident")||-1!=Yr().indexOf("MSIE")||-1!=Yr().indexOf("Edge"));function Xi(g,k,G){for(const we in g)k.call(G,g[we],we,g)}function rt(g){const k={};for(const G in g)k[G]=g[G];return k}const mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nt(g,k){let G,we;for(let Kt=1;Kt<arguments.length;Kt++){for(G in we=arguments[Kt],we)g[G]=we[G];for(let hn=0;hn<mt.length;hn++)G=mt[hn],Object.prototype.hasOwnProperty.call(we,G)&&(g[G]=we[G])}}function Vt(g){var k=1;g=g.split(":");const G=[];for(;0<k&&g.length;)G.push(g.shift()),k--;return g.length&&G.push(g.join(":")),G}function en(g){w.setTimeout(()=>{throw g},0)}function gt(){var g=Lh;let k=null;return g.g&&(k=g.g,g.g=g.g.next,g.g||(g.h=null),k.next=null),k}var Td=new class Rr{constructor(k,G){this.i=k,this.j=G,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new by,g=>g.reset());class by{constructor(){this.next=this.g=this.h=null}set(k,G){this.h=k,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let Ad,Qc=!1,Lh=new class ja{constructor(){this.h=this.g=null}add(k,G){const we=Td.get();we.set(k,G),this.h?this.h.next=we:this.g=we,this.h=we}},Tm=()=>{const g=w.Promise.resolve(void 0);Ad=()=>{g.then(ml)}};var ml=()=>{for(var g;g=gt();){try{g.h.call(g.g)}catch(G){en(G)}var k=Td;k.j(g),100>k.h&&(k.h++,g.next=k.g,k.g=g)}Qc=!1};function _a(){this.s=this.s,this.C=this.C}function Os(g,k){this.type=g,this.g=this.target=k,this.defaultPrevented=!1}_a.prototype.s=!1,_a.prototype.ma=function(){this.s||(this.s=!0,this.N())},_a.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Os.prototype.h=function(){this.defaultPrevented=!0};var Sy=function(){if(!w.addEventListener||!Object.defineProperty)return!1;var g=!1,k=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const G=()=>{};w.addEventListener("test",G,k),w.removeEventListener("test",G,k)}catch{}return g}();function _l(g,k){if(Os.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var G=this.type=g.type,we=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=k,k=g.relatedTarget){if(vo){e:{try{Wi(k.nodeName);var Kt=!0;break e}catch{}Kt=!1}Kt||(k=null)}}else"mouseover"==G?k=g.fromElement:"mouseout"==G&&(k=g.toElement);this.relatedTarget=k,we?(this.clientX=void 0!==we.clientX?we.clientX:we.pageX,this.clientY=void 0!==we.clientY?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:Gv[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&_l.aa.h.call(this)}}yn(_l,Os);var Gv={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Fh="closure_listenable_"+(1e6*Math.random()|0),Ry=0;function qv(g,k,G,we,Kt){this.listener=g,this.proxy=null,this.src=k,this.type=G,this.capture=!!we,this.ha=Kt,this.key=++Ry,this.da=this.fa=!1}function Ap(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Dp(g){this.src=g,this.g={},this.h=0}function Bh(g,k){var G=k.type;if(G in g.g){var hn,we=g.g[G],Kt=Array.prototype.indexOf.call(we,k,void 0);(hn=0<=Kt)&&Array.prototype.splice.call(we,Kt,1),hn&&(Ap(k),0==g.g[G].length&&(delete g.g[G],g.h--))}}function Am(g,k,G,we){for(var Kt=0;Kt<g.length;++Kt){var hn=g[Kt];if(!hn.da&&hn.listener==k&&hn.capture==!!G&&hn.ha==we)return Kt}return-1}Dp.prototype.add=function(g,k,G,we,Kt){var hn=g.toString();(g=this.g[hn])||(g=this.g[hn]=[],this.h++);var vr=Am(g,k,we,Kt);return-1<vr?(k=g[vr],G||(k.fa=!1)):((k=new qv(k,this.src,hn,!!we,Kt)).fa=G,g.push(k)),k};var rs="closure_lm_"+(1e6*Math.random()|0),wp={};function Yc(g,k,G,we,Kt){if(we&&we.once)return Py(g,k,G,we,Kt);if(Array.isArray(k)){for(var hn=0;hn<k.length;hn++)Yc(g,k[hn],G,we,Kt);return null}return G=Sm(G),g&&g[Fh]?g.K(k,G,V(we)?!!we.capture:!!we,Kt):Qv(g,k,G,!1,we,Kt)}function Qv(g,k,G,we,Kt,hn){if(!k)throw Error("Invalid event type");var vr=V(Kt)?!!Kt.capture:!!Kt,Uo=Cm(g);if(Uo||(g[rs]=Uo=new Dp(g)),(G=Uo.add(k,G,we,vr,hn)).proxy)return G;if(we=function Yv(){const k=YI;return function g(G){return k.call(g.src,g.listener,G)}}(),G.proxy=we,we.src=g,we.listener=G,g.addEventListener)Sy||(Kt=vr),void 0===Kt&&(Kt=!1),g.addEventListener(k.toString(),we,Kt);else if(g.attachEvent)g.attachEvent(wm(k.toString()),we);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(we)}return G}function Py(g,k,G,we,Kt){if(Array.isArray(k)){for(var hn=0;hn<k.length;hn++)Py(g,k[hn],G,we,Kt);return null}return G=Sm(G),g&&g[Fh]?g.L(k,G,V(we)?!!we.capture:!!we,Kt):Qv(g,k,G,!0,we,Kt)}function My(g,k,G,we,Kt){if(Array.isArray(k))for(var hn=0;hn<k.length;hn++)My(g,k[hn],G,we,Kt);else we=V(we)?!!we.capture:!!we,G=Sm(G),g&&g[Fh]?(g=g.i,(k=String(k).toString())in g.g&&-1<(G=Am(hn=g.g[k],G,we,Kt))&&(Ap(hn[G]),Array.prototype.splice.call(hn,G,1),0==hn.length&&(delete g.g[k],g.h--))):g&&(g=Cm(g))&&(k=g.g[k.toString()],g=-1,k&&(g=Am(k,G,we,Kt)),(G=-1<g?k[g]:null)&&Dm(G))}function Dm(g){if("number"!=typeof g&&g&&!g.da){var k=g.src;if(k&&k[Fh])Bh(k.i,g);else{var G=g.type,we=g.proxy;k.removeEventListener?k.removeEventListener(G,we,g.capture):k.detachEvent?k.detachEvent(wm(G),we):k.addListener&&k.removeListener&&k.removeListener(we),(G=Cm(k))?(Bh(G,g),0==G.h&&(G.src=null,k[rs]=null)):Ap(g)}}}function wm(g){return g in wp?wp[g]:wp[g]="on"+g}function YI(g,k){if(g.da)g=!0;else{k=new _l(k,this);var G=g.listener,we=g.ha||g.src;g.fa&&Dm(g),g=G.call(we,k)}return g}function Cm(g){return(g=g[rs])instanceof Dp?g:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sm(g){return"function"==typeof g?g:(g[bm]||(g[bm]=function(k){return g.handleEvent(k)}),g[bm])}function qs(){_a.call(this),this.i=new Dp(this),this.M=this,this.F=null}function ca(g,k){var G,we=g.F;if(we)for(G=[];we;we=we.F)G.push(we);if(g=g.M,we=k.type||k,"string"==typeof k)k=new Os(k,g);else if(k instanceof Os)k.target=k.target||g;else{var Kt=k;Nt(k=new Os(we,g),Kt)}if(Kt=!0,G)for(var hn=G.length-1;0<=hn;hn--){var vr=k.g=G[hn];Kt=Cp(vr,we,!0,k)&&Kt}if(Kt=Cp(vr=k.g=g,we,!0,k)&&Kt,Kt=Cp(vr,we,!1,k)&&Kt,G)for(hn=0;hn<G.length;hn++)Kt=Cp(vr=k.g=G[hn],we,!1,k)&&Kt}function Cp(g,k,G,we){if(!(k=g.i.g[String(k)]))return!0;k=k.concat();for(var Kt=!0,hn=0;hn<k.length;++hn){var vr=k[hn];if(vr&&!vr.da&&vr.capture==G){var Uo=vr.listener,Vs=vr.ha||vr.src;vr.fa&&Bh(g.i,vr),Kt=!1!==Uo.call(Vs,we)&&Kt}}return Kt&&!we.defaultPrevented}function Oy(g,k,G){if("function"==typeof g)G&&(g=nt(g,G));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=nt(g.handleEvent,g)}return 2147483647<Number(k)?-1:w.setTimeout(g,k||0)}function Ny(g){g.g=Oy(()=>{g.g=null,g.i&&(g.i=!1,Ny(g))},g.l);const k=g.h;g.h=null,g.m.apply(null,k)}yn(qs,_a),qs.prototype[Fh]=!0,qs.prototype.removeEventListener=function(g,k,G,we){My(this,g,k,G,we)},qs.prototype.N=function(){if(qs.aa.N.call(this),this.i){var k,g=this.i;for(k in g.g){for(var G=g.g[k],we=0;we<G.length;we++)Ap(G[we]);delete g.g[k],g.h--}}this.F=null},qs.prototype.K=function(g,k,G,we){return this.i.add(String(g),k,!1,G,we)},qs.prototype.L=function(g,k,G,we){return this.i.add(String(g),k,!0,G,we)};class Xv extends _a{constructor(k,G){super(),this.m=k,this.l=G,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Ny(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vh(g){_a.call(this),this.h=g,this.g={}}yn(Vh,_a);var xy=[];function ky(g){Xi(g.g,function(k,G){this.g.hasOwnProperty(G)&&Dm(k)},g),g.g={}}Vh.prototype.N=function(){Vh.aa.N.call(this),ky(this)},Vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rm=w.JSON.stringify,Jv=w.JSON.parse,Zv=class{stringify(g){return w.JSON.stringify(g,void 0)}parse(g){return w.JSON.parse(g,void 0)}};function Pm(){}function Fy(){}Pm.prototype.h=null;var Uh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mm(){Os.call(this,"d")}function Om(){Os.call(this,"c")}yn(Mm,Os),yn(Om,Os);var yl={},By=null;function Dd(){return By=By||new qs}function Vy(g){Os.call(this,yl.La,g)}function jh(g){const k=Dd();ca(k,new Vy(k))}function bp(g,k){Os.call(this,yl.STAT_EVENT,g),this.stat=k}function ya(g){const k=Dd();ca(k,new bp(k,g))}function Uy(g,k){Os.call(this,yl.Ma,g),this.size=k}function El(g,k){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){g()},k)}function wd(){this.g=!0}function vl(g,k,G,we){g.info(function(){return"XMLHTTP TEXT ("+k+"): "+function Wy(g,k){if(!g.g)return k;if(!k)return null;try{var G=JSON.parse(k);if(G)for(g=0;g<G.length;g++)if(Array.isArray(G[g])){var we=G[g];if(!(2>we.length)){var Kt=we[1];if(Array.isArray(Kt)&&!(1>Kt.length)){var hn=Kt[0];if("noop"!=hn&&"stop"!=hn&&"close"!=hn)for(var vr=1;vr<Kt.length;vr++)Kt[vr]=""}}}return Rm(G)}catch{return k}}(g,G)+(we?" "+we:"")})}yl.La="serverreachability",yn(Vy,Os),yl.STAT_EVENT="statevent",yn(bp,Os),yl.Ma="timingevent",yn(Uy,Os),wd.prototype.xa=function(){this.g=!1},wd.prototype.info=function(){};var xm,Sp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ky={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Rp(){}function Xc(g,k,G,we){this.j=g,this.i=k,this.l=G,this.R=we||1,this.U=new Vh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new e0}function e0(){this.i=null,this.g="",this.h=!1}yn(Rp,Pm),Rp.prototype.g=function(){return new XMLHttpRequest},Rp.prototype.i=function(){return{}},xm=new Rp;var t0={},km={};function Pp(g,k,G){g.L=1,g.v=Bm(Jc(k)),g.m=G,g.P=!0,$h(g,null)}function $h(g,k){g.F=Date.now(),Cd(g),g.A=Jc(g.v);var G=g.A,we=g.R;Array.isArray(we)||(we=[String(we)]),Um(G.i,"t",we),g.C=0,G=g.j.J,g.h=new e0,g.g=qm(g.j,G?k:null,!g.m),0<g.O&&(g.M=new Xv(nt(g.Y,g,g.g),g.O)),k=g.U,G=g.g,we=g.ca;var Kt="readystatechange";Array.isArray(Kt)||(Kt&&(xy[0]=Kt.toString()),Kt=xy);for(var hn=0;hn<Kt.length;hn++){var vr=Yc(G,Kt[hn],we||k.handleEvent,!1,k.h||k);if(!vr)break;k.g[vr.key]=vr}k=g.H?rt(g.H):{},g.m?(g.u||(g.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,k)):(g.u="GET",g.g.ea(g.A,g.u,null,k)),jh(),function jy(g,k,G,we,Kt,hn){g.info(function(){if(g.g)if(hn)for(var vr="",Uo=hn.split("&"),Vs=0;Vs<Uo.length;Vs++){var Io=Uo[Vs].split("=");if(1<Io.length){var Us=Io[0];Io=Io[1];var Qs=Us.split("_");vr=2<=Qs.length&&"type"==Qs[1]?vr+(Us+"=")+Io+"&":vr+(Us+"=redacted&")}}else vr=null;else vr=hn;return"XMLHTTP REQ ("+we+") [attempt "+Kt+"]: "+k+"\n"+G+"\n"+vr})}(g.i,g.u,g.A,g.l,g.R,g.m)}function Hy(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function n0(g,k){var G=g.C,we=k.indexOf("\n",G);return-1==we?km:(G=Number(k.substring(G,we)),isNaN(G)?t0:(we+=1)+G>k.length?km:(k=k.slice(we,we+G),g.C=we+G,k))}function Cd(g){g.S=Date.now()+g.I,Mp(g,g.I)}function Mp(g,k){if(null!=g.B)throw Error("WatchDog timer not null");g.B=El(nt(g.ba,g),k)}function Wh(g){g.B&&(w.clearTimeout(g.B),g.B=null)}function ku(g){0==g.j.G||g.J||rE(g.j,g)}function wc(g){Wh(g);var k=g.M;k&&"function"==typeof k.ma&&k.ma(),g.M=null,ky(g.U),g.g&&(k=g.g,g.g=null,k.abort(),k.ma())}function Kh(g,k){try{var G=g.j;if(0!=G.G&&(G.g==g||bd(G.h,g)))if(!g.K&&bd(G.h,g)&&3==G.G){try{var we=G.Da.g.parse(k)}catch{we=null}if(Array.isArray(we)&&3==we.length){var Kt=we;if(0==Kt[0]){e:if(!G.u){if(G.g){if(!(G.g.F+3e3<g.F))break e;Yh(G),Fp(G)}Tl(G),ya(18)}}else G.za=Kt[1],0<G.za-G.T&&37500>Kt[2]&&G.F&&0==G.v&&!G.C&&(G.C=El(nt(G.Za,G),6e3));if(1>=qy(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Al(G,11)}else if((g.K||G.g==g)&&Yh(G),!ri(k))for(Kt=G.Da.g.parse(k),k=0;k<Kt.length;k++){let Io=Kt[k];if(G.T=Io[0],Io=Io[1],2==G.G)if("c"==Io[0]){G.K=Io[1],G.ia=Io[2];const Us=Io[3];null!=Us&&(G.la=Us,G.j.info("VER="+G.la));const Qs=Io[4];null!=Qs&&(G.Aa=Qs,G.j.info("SVER="+G.Aa));const Fd=Io[5];null!=Fd&&"number"==typeof Fd&&0<Fd&&(G.L=we=1.5*Fd,G.j.info("backChannelRequestTimeoutMs_="+we)),we=G;const Wa=g.g;if(Wa){const $p=Wa.g?Wa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($p){var hn=we.h;hn.g||-1==$p.indexOf("spdy")&&-1==$p.indexOf("quic")&&-1==$p.indexOf("h2")||(hn.j=hn.l,hn.g=new Set,hn.h&&(Sd(hn,hn.h),hn.h=null))}if(we.D){const Ym=Wa.g?Wa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ym&&(we.ya=Ym,Vo(we.I,we.D,Ym))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-g.F,G.j.info("Handshake RTT: "+G.R+"ms"));var vr=g;if((we=G).qa=iE(we,we.J?we.ia:null,we.W),vr.K){Op(we.h,vr);var Uo=vr,Vs=we.L;Vs&&(Uo.I=Vs),Uo.B&&(Wh(Uo),Cd(Uo)),we.g=vr}else nE(we);0<G.i.length&&Bp(G)}else"stop"!=Io[0]&&"close"!=Io[0]||Al(G,7);else 3==G.G&&("stop"==Io[0]||"close"==Io[0]?"stop"==Io[0]?Al(G,7):Km(G):"noop"!=Io[0]&&G.l&&G.l.ta(Io),G.v=0)}jh()}catch{}}Xc.prototype.ca=function(g){g=g.target;const k=this.M;k&&3==$a(g)?k.j():this.Y(g)},Xc.prototype.Y=function(g){try{if(g==this.g)e:{const Qs=$a(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Qs)&&(3!=Qs||this.g&&(this.h.h||this.g.oa()||Jy(this.g)))){this.J||4!=Qs||7==k||jh(),Wh(this);var G=this.g.Z();this.X=G;t:if(Hy(this)){var we=Jy(this.g);g="";var Kt=we.length,hn=4==$a(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wc(this),ku(this);var vr="";break t}this.h.i=new w.TextDecoder}for(k=0;k<Kt;k++)this.h.h=!0,g+=this.h.i.decode(we[k],{stream:!(hn&&k==Kt-1)});we.length=0,this.h.g+=g,this.C=0,vr=this.h.g}else vr=this.g.oa();if(this.o=200==G,function $y(g,k,G,we,Kt,hn,vr){g.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+Kt+"]: "+k+"\n"+G+"\n"+hn+" "+vr})}(this.i,this.u,this.A,this.l,this.R,Qs,G),this.o){if(this.T&&!this.K){t:{if(this.g){var Uo,Vs=this.g;if((Uo=Vs.g?Vs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ri(Uo)){var Io=Uo;break t}}Io=null}if(!(G=Io)){this.o=!1,this.s=3,ya(12),wc(this),ku(this);break e}vl(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,G)}if(this.P){let Wa;for(G=!0;!this.J&&this.C<vr.length;){if(Wa=n0(this,vr),Wa==km){4==Qs&&(this.s=4,ya(14),G=!1),vl(this.i,this.l,null,"[Incomplete Response]");break}if(Wa==t0){this.s=4,ya(15),vl(this.i,this.l,vr,"[Invalid Chunk]"),G=!1;break}vl(this.i,this.l,Wa,null),Kh(this,Wa)}if(Hy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Qs||0!=vr.length||this.h.h||(this.s=1,ya(16),G=!1),this.o=this.o&&G,G){if(0<vr.length&&!this.W){this.W=!0;var Us=this.j;Us.g==this&&Us.ba&&!Us.M&&(Us.j.info("Great, no buffering proxy detected. Bytes received: "+vr.length),Hm(Us),Us.M=!0,ya(11))}}else vl(this.i,this.l,vr,"[Invalid Chunked Response]"),wc(this),ku(this)}else vl(this.i,this.l,vr,null),Kh(this,vr);4==Qs&&wc(this),this.o&&!this.J&&(4==Qs?rE(this.j,this):(this.o=!1,Cd(this)))}else(function _0(g){const k={};g=(g.g&&2<=$a(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let we=0;we<g.length;we++){if(ri(g[we]))continue;var G=Vt(g[we]);const Kt=G[0];if("string"!=typeof(G=G[1]))continue;G=G.trim();const hn=k[Kt]||[];k[Kt]=hn,hn.push(G)}!function Mt(g,k){for(const G in g)k.call(void 0,g[G],G,g)}(k,function(we){return we.join(", ")})})(this.g),400==G&&0<vr.indexOf("Unknown SID")?(this.s=3,ya(12)):(this.s=0,ya(13)),wc(this),ku(this)}}}catch{}},Xc.prototype.cancel=function(){this.J=!0,wc(this)},Xc.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function Nm(g,k){g.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(jh(),ya(17)),wc(this),this.s=2,ku(this)):Mp(this,this.S-g)};var zy=class{constructor(g,k){this.g=g,this.map=k}};function Gy(g){this.l=g||10,g=w.PerformanceNavigationTiming?0<(g=w.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function r0(g){return!!g.h||!!g.g&&g.g.size>=g.j}function qy(g){return g.h?1:g.g?g.g.size:0}function bd(g,k){return g.h?g.h==k:!!g.g&&g.g.has(k)}function Sd(g,k){g.g?g.g.add(k):g.h=k}function Op(g,k){g.h&&g.h==k?g.h=null:g.g&&g.g.has(k)&&g.g.delete(k)}function Lm(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let k=g.i;for(const G of g.g.values())k=k.concat(G.D);return k}return Fn(g.i)}function Fm(g,k){if(g.forEach&&"function"==typeof g.forEach)g.forEach(k,void 0);else if(P(g)||"string"==typeof g)Array.prototype.forEach.call(g,k,void 0);else for(var G=function XI(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(P(g)||"string"==typeof g){var k=[];g=g.length;for(var G=0;G<g;G++)k.push(G);return k}k=[],G=0;for(const we in g)k[G++]=we;return k}}}(g),we=function o0(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(P(g)){for(var k=[],G=g.length,we=0;we<G;we++)k.push(g[we]);return k}for(we in k=[],G=0,g)k[G++]=g[we];return k}(g),Kt=we.length,hn=0;hn<Kt;hn++)k.call(void 0,we[hn],G&&G[hn],g)}Gy.prototype.cancel=function(){if(this.i=Lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var Np=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ma){this.h=g.h,xp(this,g.j),this.o=g.o,this.g=g.g,Zc(this,g.s),this.l=g.l;var k=g.i,G=new Hh;G.i=k.i,k.g&&(G.g=new Map(k.g),G.h=k.h),s0(this,G),this.m=g.m}else g&&(k=String(g).match(Np))?(this.h=!1,xp(this,k[1]||"",!0),this.o=Rd(k[2]||""),this.g=Rd(k[3]||"",!0),Zc(this,k[4]),this.l=Rd(k[5]||"",!0),s0(this,k[6]||"",!0),this.m=Rd(k[7]||"")):(this.h=!1,this.i=new Hh(null,this.h))}function Jc(g){return new Ma(g)}function xp(g,k,G){g.j=G?Rd(k,!0):k,g.j&&(g.j=g.j.replace(/:$/,""))}function Zc(g,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);g.s=k}else g.s=null}function s0(g,k,G){k instanceof Hh?(g.i=k,function l0(g,k){k&&!g.j&&(rc(g),g.i=null,g.g.forEach(function(G,we){var Kt=we.toLowerCase();we!=Kt&&(zh(this,we),Um(this,Kt,G))},g)),g.j=k}(g.i,g.h)):(G||(k=Pd(k,u0)),g.i=new Hh(k,g.h))}function Vo(g,k,G){g.i.set(k,G)}function Bm(g){return Vo(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Rd(g,k){return g?k?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Pd(g,k,G){return"string"==typeof g?(g=encodeURI(g).replace(k,JI),G&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function JI(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}Ma.prototype.toString=function(){var g=[],k=this.j;k&&g.push(Pd(k,Il,!0),":");var G=this.g;return(G||"file"==k)&&(g.push("//"),(k=this.o)&&g.push(Pd(k,Il,!0),"@"),g.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(G=this.s)&&g.push(":",String(G))),(G=this.l)&&(this.g&&"/"!=G.charAt(0)&&g.push("/"),g.push(Pd(G,"/"==G.charAt(0)?c0:a0,!0))),(G=this.i.toString())&&g.push("?",G),(G=this.m)&&g.push("#",Pd(G,Vm)),g.join("")};var Il=/[#\/\?@]/g,a0=/[#\?:]/g,c0=/[#\?]/g,u0=/[#\?@]/g,Vm=/#/g;function Hh(g,k){this.h=this.g=null,this.i=g||null,this.j=!!k}function rc(g){g.g||(g.g=new Map,g.h=0,g.i&&function Qy(g,k){if(g){g=g.split("&");for(var G=0;G<g.length;G++){var we=g[G].indexOf("="),Kt=null;if(0<=we){var hn=g[G].substring(0,we);Kt=g[G].substring(we+1)}else hn=g[G];k(hn,Kt?decodeURIComponent(Kt.replace(/\+/g," ")):"")}}}(g.i,function(k,G){g.add(decodeURIComponent(k.replace(/\+/g," ")),G)}))}function zh(g,k){rc(g),k=Md(g,k),g.g.has(k)&&(g.i=null,g.h-=g.g.get(k).length,g.g.delete(k))}function ua(g,k){return rc(g),k=Md(g,k),g.g.has(k)}function Um(g,k,G){zh(g,k),0<G.length&&(g.i=null,g.g.set(Md(g,k),Fn(G)),g.h+=G.length)}function Md(g,k){return k=String(k),g.j&&(k=k.toLowerCase()),k}function Lu(g,k,G,we,Kt){try{Kt&&(Kt.onload=null,Kt.onerror=null,Kt.onabort=null,Kt.ontimeout=null),we(G)}catch{}}function d0(){this.g=new Zv}function Yy(g,k,G){const we=G||"";try{Fm(g,function(Kt,hn){let vr=Kt;V(Kt)&&(vr=Rm(Kt)),k.push(we+hn+"="+encodeURIComponent(vr))})}catch(Kt){throw k.push(we+"type="+encodeURIComponent("_badmap")),Kt}}function eu(g){this.l=g.Ub||null,this.j=g.eb||!1}function kp(g,k){qs.call(this),this.D=g,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function h0(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function Qh(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Od(g)}function Od(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function jm(g){let k="";return Xi(g,function(G,we){k+=we,k+=":",k+=G,k+="\r\n"}),k}function Lp(g,k,G){e:{for(we in G){var we=!1;break e}we=!0}we||(G=jm(G),"string"==typeof g?null!=G&&encodeURIComponent(String(G)):Vo(g,k,G))}function hs(g){qs.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=Hh.prototype).add=function(g,k){rc(this),this.i=null,g=Md(this,g);var G=this.g.get(g);return G||this.g.set(g,G=[]),G.push(k),this.h+=1,this},c.forEach=function(g,k){rc(this),this.g.forEach(function(G,we){G.forEach(function(Kt){g.call(k,Kt,we,this)},this)},this)},c.na=function(){rc(this);const g=Array.from(this.g.values()),k=Array.from(this.g.keys()),G=[];for(let we=0;we<k.length;we++){const Kt=g[we];for(let hn=0;hn<Kt.length;hn++)G.push(k[we])}return G},c.V=function(g){rc(this);let k=[];if("string"==typeof g)ua(this,g)&&(k=k.concat(this.g.get(Md(this,g))));else{g=Array.from(this.g.values());for(let G=0;G<g.length;G++)k=k.concat(g[G])}return k},c.set=function(g,k){return rc(this),this.i=null,ua(this,g=Md(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[k]),this.h+=1,this},c.get=function(g,k){return g&&0<(g=this.V(g)).length?String(g[0]):k},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],k=Array.from(this.g.keys());for(var G=0;G<k.length;G++){var we=k[G];const hn=encodeURIComponent(String(we)),vr=this.V(we);for(we=0;we<vr.length;we++){var Kt=hn;""!==vr[we]&&(Kt+="="+encodeURIComponent(String(vr[we]))),g.push(Kt)}}return this.i=g.join("&")},yn(eu,Pm),eu.prototype.g=function(){return new kp(this.l,this.j)},eu.prototype.i=function(g){return function(){return g}}({}),yn(kp,qs),(c=kp.prototype).open=function(g,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=k,this.readyState=1,Od(this)},c.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(k.body=g),(this.D||w).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qh(this)),this.readyState=0},c.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Od(this)),this.g&&(this.readyState=3,Od(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h0(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var k=g.value?g.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!g.done}))&&(this.response=this.responseText+=k)}g.done?Qh(this):Od(this),3==this.readyState&&h0(this)}},c.Ra=function(g){this.g&&(this.response=this.responseText=g,Qh(this))},c.Qa=function(g){this.g&&(this.response=g,Qh(this))},c.ga=function(){this.g&&Qh(this)},c.setRequestHeader=function(g,k){this.u.append(g,k)},c.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],k=this.h.entries();for(var G=k.next();!G.done;)g.push((G=G.value)[0]+": "+G[1]),G=k.next();return g.join("\r\n")},Object.defineProperty(kp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),yn(hs,qs);var Xy=/^https?$/i,f0=["POST","PUT"];function p0(g,k){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=k,g.m=5,g0(g),$m(g)}function g0(g){g.A||(g.A=!0,ca(g,"complete"),ca(g,"error"))}function m0(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=$a(g)||2!=g.Z()))if(g.u&&4==$a(g))Oy(g.Ea,0,g);else if(ca(g,"readystatechange"),4==$a(g)){g.h=!1;try{const vr=g.Z();e:switch(vr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var G;if(!(G=k)){var we;if(we=0===vr){var Kt=String(g.D).match(Np)[1]||null;!Kt&&w.self&&w.self.location&&(Kt=w.self.location.protocol.slice(0,-1)),we=!Xy.test(Kt?Kt.toLowerCase():"")}G=we}if(G)ca(g,"complete"),ca(g,"success");else{g.m=6;try{var hn=2<$a(g)?g.g.statusText:""}catch{hn=""}g.l=hn+" ["+g.Z()+"]",g0(g)}}finally{$m(g)}}}function $m(g,k){if(g.g){Wm(g);const G=g.g,we=g.v[0]?()=>{}:null;g.g=null,g.v=null,k||ca(g,"ready");try{G.onreadystatechange=we}catch{}}}function Wm(g){g.I&&(w.clearTimeout(g.I),g.I=null)}function $a(g){return g.g?g.g.readyState:0}function Jy(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Nd(g,k,G){return G&&G.internalChannelParams&&G.internalChannelParams[g]||k}function xd(g){this.Aa=0,this.i=[],this.j=new wd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nd("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nd("baseRetryDelayMs",5e3,g),this.cb=Nd("retryDelaySeedMs",1e4,g),this.Wa=Nd("forwardChannelMaxRetries",2,g),this.wa=Nd("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Gy(g&&g.concurrentRequestLimit),this.Da=new d0,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Km(g){if(Zy(g),3==g.G){var k=g.U++,G=Jc(g.I);if(Vo(G,"SID",g.K),Vo(G,"RID",k),Vo(G,"TYPE","terminate"),kd(g,G),(k=new Xc(g,g.j,k)).L=2,k.v=Bm(Jc(G)),G=!1,w.navigator&&w.navigator.sendBeacon)try{G=w.navigator.sendBeacon(k.v.toString(),"")}catch{}!G&&w.Image&&((new Image).src=k.v,G=!0),G||(k.g=qm(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Cd(k)}Vp(g)}function Fp(g){g.g&&(Hm(g),g.g.cancel(),g.g=null)}function Zy(g){Fp(g),g.u&&(w.clearTimeout(g.u),g.u=null),Yh(g),g.h.cancel(),g.s&&("number"==typeof g.s&&w.clearTimeout(g.s),g.s=null)}function Bp(g){if(!r0(g.h)&&!g.s){g.s=!0;var k=g.Ga;Ad||Tm(),Qc||(Ad(),Qc=!0),Lh.add(k,g),g.B=0}}function eE(g,k){var G;G=k?k.l:g.U++;const we=Jc(g.I);Vo(we,"SID",g.K),Vo(we,"RID",G),Vo(we,"AID",g.T),kd(g,we),g.m&&g.o&&Lp(we,g.m,g.o),G=new Xc(g,g.j,G,g.B+1),null===g.m&&(G.H=g.o),k&&(g.i=k.D.concat(g.i)),k=tE(g,G,1e3),G.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Sd(g.h,G),Pp(G,we,k)}function kd(g,k){g.H&&Xi(g.H,function(G,we){Vo(k,we,G)}),g.l&&Fm({},function(G,we){Vo(k,we,G)})}function tE(g,k,G){G=Math.min(g.i.length,G);var we=g.l?nt(g.l.Na,g.l,g):null;e:{var Kt=g.i;let hn=-1;for(;;){const vr=["count="+G];-1==hn?0<G?(hn=Kt[0].g,vr.push("ofs="+hn)):hn=0:vr.push("ofs="+hn);let Uo=!0;for(let Vs=0;Vs<G;Vs++){let Io=Kt[Vs].g;const Us=Kt[Vs].map;if(Io-=hn,0>Io)hn=Math.max(0,Kt[Vs].g-100),Uo=!1;else try{Yy(Us,vr,"req"+Io+"_")}catch{we&&we(Us)}}if(Uo){we=vr.join("&");break e}}}return g=g.i.splice(0,G),k.D=g,we}function nE(g){if(!g.g&&!g.u){g.Y=1;var k=g.Fa;Ad||Tm(),Qc||(Ad(),Qc=!0),Lh.add(k,g),g.v=0}}function Tl(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=El(nt(g.Fa,g),Gm(g,g.v)),g.v++,0))}function Hm(g){null!=g.A&&(w.clearTimeout(g.A),g.A=null)}function zm(g){g.g=new Xc(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var k=Jc(g.qa);Vo(k,"RID","rpc"),Vo(k,"SID",g.K),Vo(k,"AID",g.T),Vo(k,"CI",g.F?"0":"1"),!g.F&&g.ja&&Vo(k,"TO",g.ja),Vo(k,"TYPE","xmlhttp"),kd(g,k),g.m&&g.o&&Lp(k,g.m,g.o),g.L&&(g.g.I=g.L);var G=g.g;g=g.ia,G.L=1,G.v=Bm(Jc(k)),G.m=null,G.P=!0,$h(G,g)}function Yh(g){null!=g.C&&(w.clearTimeout(g.C),g.C=null)}function rE(g,k){var G=null;if(g.g==k){Yh(g),Hm(g),g.g=null;var we=2}else{if(!bd(g.h,k))return;G=k.D,Op(g.h,k),we=1}if(0!=g.G)if(k.o)if(1==we){G=k.m?k.m.length:0,k=Date.now()-k.F;var Kt=g.B;ca(we=Dd(),new Uy(we,G)),Bp(g)}else nE(g);else if(3==(Kt=k.s)||0==Kt&&0<k.X||!(1==we&&function ZI(g,k){return!(qy(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=k.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=El(nt(g.Ga,g,k),Gm(g,g.B)),g.B++,0)))}(g,k)||2==we&&Tl(g)))switch(G&&0<G.length&&(k=g.h,k.i=k.i.concat(G)),Kt){case 1:Al(g,5);break;case 4:Al(g,10);break;case 3:Al(g,6);break;default:Al(g,2)}}function Gm(g,k){let G=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(G*=2),G*k}function Al(g,k){if(g.j.info("Error code "+k),2==k){var G=nt(g.fb,g),we=g.Xa;const Kt=!we;we=new Ma(we||"//www.google.com/images/cleardot.gif"),w.location&&"http"==w.location.protocol||xp(we,"https"),Bm(we),Kt?function Gh(g,k){const G=new wd;if(w.Image){const we=new Image;we.onload=jt(Lu,G,"TestLoadImage: loaded",!0,k,we),we.onerror=jt(Lu,G,"TestLoadImage: error",!1,k,we),we.onabort=jt(Lu,G,"TestLoadImage: abort",!1,k,we),we.ontimeout=jt(Lu,G,"TestLoadImage: timeout",!1,k,we),w.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=g}else k(!1)}(we.toString(),G):function qh(g,k){new wd;const we=new AbortController,Kt=setTimeout(()=>{we.abort(),Lu(0,0,!1,k)},1e4);fetch(g,{signal:we.signal}).then(hn=>{clearTimeout(Kt),Lu(0,0,!!hn.ok,k)}).catch(()=>{clearTimeout(Kt),Lu(0,0,!1,k)})}(we.toString(),G)}else ya(2);g.G=0,g.l&&g.l.sa(k),Vp(g),Zy(g)}function Vp(g){if(g.G=0,g.ka=[],g.l){const k=Lm(g.h);(0!=k.length||0!=g.i.length)&&(Bn(g.ka,k),Bn(g.ka,g.i),g.h.i.length=0,Fn(g.i),g.i.length=0),g.l.ra()}}function iE(g,k,G){var we=G instanceof Ma?Jc(G):new Ma(G);if(""!=we.g)k&&(we.g=k+"."+we.g),Zc(we,we.s);else{var Kt=w.location;we=Kt.protocol,k=k?k+"."+Kt.hostname:Kt.hostname,Kt=+Kt.port;var hn=new Ma(null);we&&xp(hn,we),k&&(hn.g=k),Kt&&Zc(hn,Kt),G&&(hn.l=G),we=hn}return k=g.ya,(G=g.D)&&k&&Vo(we,G,k),Vo(we,"VER",g.la),kd(g,we),we}function qm(g,k,G){if(k&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new hs(g.Ca&&!g.pa?new eu({eb:G}):g.pa)).Ha(g.J),k}function Qm(){}function Up(){}function Oa(g,k){qs.call(this),this.g=new xd(k),this.l=g,this.h=k&&k.messageUrlParams||null,g=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(g?g["X-WebChannel-Content-Type"]=k.messageContentType:g={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(g?g["X-WebChannel-Client-Profile"]=k.va:g={"X-WebChannel-Client-Profile":k.va}),this.g.S=g,(g=k&&k.Sb)&&!ri(g)&&(this.g.m=g),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!ri(k)&&(this.g.D=k,null!==(g=this.h)&&k in g&&k in(g=this.h)&&delete g[k]),this.j=new Ld(this)}function oE(g){Mm.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var k=g.__sm__;if(k){e:{for(const G in k){g=G;break e}g=void 0}(this.i=g)&&(g=this.i,k=null!==k&&g in k?k[g]:void 0),this.data=k}else this.data=g}function jp(){Om.call(this),this.status=1}function Ld(g){this.g=g}(c=hs.prototype).Ha=function(g){this.J=g},c.ea=function(g,k,G,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);k=k?k.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xm.g(),this.v=function Ly(g){return g.h||(g.h=g.i())}(this.o?this.o:xm),this.g.onreadystatechange=nt(this.Ea,this);try{this.B=!0,this.g.open(k,String(g),!0),this.B=!1}catch(hn){return void p0(this,hn)}if(g=G||"",G=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var Kt in we)G.set(Kt,we[Kt]);else{if("function"!=typeof we.keys||"function"!=typeof we.get)throw Error("Unknown input type for opt_headers: "+String(we));for(const hn of we.keys())G.set(hn,we.get(hn))}we=Array.from(G.keys()).find(hn=>"content-type"==hn.toLowerCase()),Kt=w.FormData&&g instanceof w.FormData,!(0<=Array.prototype.indexOf.call(f0,k,void 0))||we||Kt||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[hn,vr]of G)this.g.setRequestHeader(hn,vr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wm(this),this.u=!0,this.g.send(g),this.u=!1}catch(hn){p0(this,hn)}},c.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ca(this,"complete"),ca(this,"abort"),$m(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$m(this,!0)),hs.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?m0(this):this.bb())},c.bb=function(){m0(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<$a(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(g){if(this.g){var k=this.g.responseText;return g&&0==k.indexOf(g)&&(k=k.substring(g.length)),Jv(k)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=xd.prototype).la=8,c.G=1,c.connect=function(g,k,G,we){ya(0),this.W=g,this.H=k||{},G&&void 0!==we&&(this.H.OSID=G,this.H.OAID=we),this.F=this.X,this.I=iE(this,null,this.W),Bp(this)},c.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Kt=new Xc(this,this.j,g);let hn=this.o;if(this.S&&(hn?(hn=rt(hn),Nt(hn,this.S)):hn=this.S),null!==this.m||this.O||(Kt.H=hn,hn=null),this.P)e:{for(var k=0,G=0;G<this.i.length;G++){var we=this.i[G];if(void 0===(we="__data__"in we.map&&"string"==typeof(we=we.map.__data__)?we.length:void 0))break;if(4096<(k+=we)){k=G;break e}if(4096===k||G===this.i.length-1){k=G+1;break e}}k=1e3}else k=1e3;k=tE(this,Kt,k),Vo(G=Jc(this.I),"RID",g),Vo(G,"CVER",22),this.D&&Vo(G,"X-HTTP-Session-Id",this.D),kd(this,G),hn&&(this.O?k="headers="+encodeURIComponent(String(jm(hn)))+"&"+k:this.m&&Lp(G,this.m,hn)),Sd(this.h,Kt),this.Ua&&Vo(G,"TYPE","init"),this.P?(Vo(G,"$req",k),Vo(G,"SID","null"),Kt.T=!0,Pp(Kt,G,null)):Pp(Kt,G,k),this.G=2}}else 3==this.G&&(g?eE(this,g):0==this.i.length||r0(this.h)||eE(this))},c.Fa=function(){if(this.u=null,zm(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=El(nt(this.ab,this),g)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ya(10),Fp(this),zm(this))},c.Za=function(){null!=this.C&&(this.C=null,Fp(this),Tl(this),ya(19))},c.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ya(2)):(this.j.info("Failed to ping google.com"),ya(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Qm.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Up.prototype.g=function(g,k){return new Oa(g,k)},yn(Oa,qs),Oa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oa.prototype.close=function(){Km(this.g)},Oa.prototype.o=function(g){var k=this.g;if("string"==typeof g){var G={};G.__data__=g,g=G}else this.u&&((G={}).__data__=Rm(g),g=G);k.i.push(new zy(k.Ya++,g)),3==k.G&&Bp(k)},Oa.prototype.N=function(){this.g.l=null,delete this.j,Km(this.g),delete this.g,Oa.aa.N.call(this)},yn(oE,Mm),yn(jp,Om),yn(Ld,Qm),Ld.prototype.ua=function(){ca(this.g,"a")},Ld.prototype.ta=function(g){ca(this.g,new oE(g))},Ld.prototype.sa=function(g){ca(this.g,new jp)},Ld.prototype.ra=function(){ca(this.g,"b")},Up.prototype.createWebChannel=Up.prototype.g,Oa.prototype.send=Oa.prototype.o,Oa.prototype.open=Oa.prototype.m,Oa.prototype.close=Oa.prototype.close,$t=yt.createWebChannelTransport=function(){return new Up},_t=yt.getStatEventTarget=function(){return Dd()},tn=yt.Event=yl,Et=yt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sp.NO_ERROR=0,Sp.TIMEOUT=8,Sp.HTTP_ERROR=6,Je=yt.ErrorCode=Sp,Ky.COMPLETE="complete",Ot=yt.EventType=Ky,Fy.EventType=Uh,Uh.OPEN="a",Uh.CLOSE="b",Uh.ERROR="c",Uh.MESSAGE="d",qs.prototype.listen=qs.prototype.K,Ge=yt.WebChannel=Fy,yt.FetchXmlHttpFactory=eu,hs.prototype.listenOnce=hs.prototype.L,hs.prototype.getLastError=hs.prototype.Ka,hs.prototype.getLastErrorCode=hs.prototype.Ba,hs.prototype.getStatus=hs.prototype.Z,hs.prototype.getResponseJson=hs.prototype.Oa,hs.prototype.getResponseText=hs.prototype.oa,hs.prototype.send=hs.prototype.ea,hs.prototype.setWithCredentials=hs.prototype.Ha,wn=yt.XhrIo=hs}).apply(typeof _n<"u"?_n:typeof self<"u"?self:typeof window<"u"?window:{});const Tn="@firebase/firestore";class On{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");let rr="11.10.0";const pr=new ye.Vy("@firebase/firestore");function st(){return pr.logLevel}function de(c,...e){if(pr.logLevel<=ye.$b.DEBUG){const r=e.map(Be);pr.debug(`Firestore (${rr}): ${c}`,...r)}}function at(c,...e){if(pr.logLevel<=ye.$b.ERROR){const r=e.map(Be);pr.error(`Firestore (${rr}): ${c}`,...r)}}function Lt(c,...e){if(pr.logLevel<=ye.$b.WARN){const r=e.map(Be);pr.warn(`Firestore (${rr}): ${c}`,...r)}}function Be(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function ge(c,e,r){let o="Unexpected state";"string"==typeof e?o=e:r=e,Ne(c,o,r)}function Ne(c,e,r){let o=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${c.toString(16)})`;if(void 0!==r)try{o+=" CONTEXT: "+JSON.stringify(r)}catch{o+=" CONTEXT: "+r}throw at(o),new Error(o)}function pe(c,e,r,o){let u="Unexpected state";"string"==typeof r?u=r:o=r,c||Ne(e,u,o)}function Ye(c,e){return c}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends He.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Jt{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(On.UNAUTHENTICATED))}shutdown(){}}class ur{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ft{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;pe(void 0===this.o,42304);let u=this.i;const f=V=>this.i!==u?(u=this.i,r(V)):Promise.resolve();let m=new sn;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new sn,e.enqueueRetryable(()=>f(this.currentUser))};const w=()=>{const V=m;e.enqueueRetryable((0,fe.A)(function*(){yield V.promise,yield f(o.currentUser)}))},P=V=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.o&&(this.auth.addAuthTokenListener(this.o),w())};this.t.onInit(V=>P(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?P(V):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new sn)}},0),w()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(pe("string"==typeof o.accessToken,31837,{l:o}),new Jt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(null===e||"string"==typeof e,2055,{h:e}),new On(e)}}class Ft{constructor(e,r,o){this.P=e,this.T=r,this.I=o,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class En{constructor(e,r,o){this.P=e,this.T=r,this.I=o}getToken(){return Promise.resolve(new Ft(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class an{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _r{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,Ae.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){pe(void 0===this.o,3512);const o=f=>{null!=f.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.m;return this.m=f.token,de("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new an(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(pe("string"==typeof r.token,44558,{tokenResult:r}),this.m=r.token,new an(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Zr(c){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(c);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<c;o++)r[o]=Math.floor(256*Math.random());return r}function Kr(){return new TextEncoder}class mi{static newId(){const r=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const u=Zr(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return o}}function Vn(c,e){return c<e?-1:c>e?1:0}function Ci(c,e){let r=0;for(;r<c.length&&r<e.length;){const o=c.codePointAt(r),u=e.codePointAt(r);if(o!==u){if(o<128&&u<128)return Vn(o,u);{const f=Kr(),m=si(f.encode(Xr(c,r)),f.encode(Xr(e,r)));return 0!==m?m:Vn(o,u)}}r+=o>65535?2:1}return Vn(c.length,e.length)}function Xr(c,e){return c.codePointAt(e)>65535?c.substring(e,e+2):c.substring(e,e+1)}function si(c,e){for(let r=0;r<c.length&&r<e.length;++r)if(c[r]!==e[r])return Vn(c[r],e[r]);return Vn(c.length,e.length)}function Kn(c,e,r){return c.length===e.length&&c.every((o,u)=>r(o,e[u]))}const _i="__name__";class Xn{constructor(e,r,o){void 0===r?r=0:r>e.length&&ge(637,{offset:r,range:e.length}),void 0===o?o=e.length-r:o>e.length-r&&ge(1746,{length:o,range:e.length-r}),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Xn.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=Xn.compareSegments(e.get(u),r.get(u));if(0!==f)return f}return Vn(e.length,r.length)}static compareSegments(e,r){const o=Xn.isNumericId(e),u=Xn.isNumericId(r);return o&&!u?-1:!o&&u?1:o&&u?Xn.extractNumericId(e).compare(Xn.extractNumericId(r)):Ci(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xt.fromString(e.substring(4,e.length-2))}}class Ct extends Xn{construct(e,r,o){return new Ct(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Re(Le.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new Ct(r)}static emptyPath(){return new Ct([])}}const ln=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Xn{construct(e,r,o){return new Ht(e,r,o)}static isValidIdentifier(e){return ln.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===_i}static keyField(){return new Ht([_i])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new Re(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let m=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new Re(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[u+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new Re(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=P,u+=2}else"`"===w?(m=!m,u++):"."!==w||m?(o+=w,u++):(f(),u++)}if(f(),m)throw new Re(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(r)}static emptyPath(){return new Ht([])}}class It{constructor(e){this.path=e}static fromPath(e){return new It(Ct.fromString(e))}static fromName(e){return new It(Ct.fromString(e).popFirst(5))}static empty(){return new It(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ct.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Ct.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new Ct(e.slice()))}}function Gn(c,e,r){if(!r)throw new Re(Le.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${e}.`)}function Pr(c){if(!It.isDocumentKey(c))throw new Re(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function gr(c){if(It.isDocumentKey(c))throw new Re(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Jr(c){return"object"==typeof c&&null!==c&&(Object.getPrototypeOf(c)===Object.prototype||null===Object.getPrototypeOf(c))}function Ur(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const e=(o=c).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof c?"a function":ge(12329,{type:typeof c})}function Nn(c,e){if("_delegate"in c&&(c=c._delegate),!(c instanceof e)){if(e.name===c.constructor.name)throw new Re(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ur(c);throw new Re(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return c}function yr(c,e){const r={typeString:c};return e&&(r.value=e),r}function br(c,e){if(!Jr(c))throw new Re(Le.INVALID_ARGUMENT,"JSON must be an object");let r;for(const o in e)if(e[o]){const u=e[o].typeString,f="value"in e[o]?{value:e[o].value}:void 0;if(!(o in c)){r=`JSON missing required field: '${o}'`;break}const m=c[o];if(u&&typeof m!==u){r=`JSON field '${o}' must be a ${u}.`;break}if(void 0!==f&&m!==f.value){r=`Expected '${o}' field to equal '${f.value}'`;break}}if(r)throw new Re(Le.INVALID_ARGUMENT,r);return!0}const yi=-62135596800;class Er{static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Er(r,o)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Re(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<yi)throw new Re(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vn(this.nanoseconds,e.nanoseconds):Vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Er._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(br(e,Er._jsonSchema))return new Er(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds-yi).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Er._jsonSchemaVersion="firestore/timestamp/1.0",Er._jsonSchema={type:yr("string",Er._jsonSchemaVersion),seconds:yr("number"),nanoseconds:yr("number")};class Un{static fromTimestamp(e){return new Un(e)}static min(){return new Un(new Er(0,0))}static max(){return new Un(new Er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ve{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Ve(Un.min(),It.empty(),-1)}static max(){return new Ve(Un.max(),It.empty(),-1)}}function ce(c,e){let r=c.readTime.compareTo(e.readTime);return 0!==r?r:(r=It.comparator(c.documentKey,e.documentKey),0!==r?r:Vn(c.largestBatchId,e.largestBatchId))}class Pe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ze(c){return ve.apply(this,arguments)}function ve(){return(ve=(0,fe.A)(function*(c){if(c.code!==Le.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;de("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new z((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof z?r:z.resolve(r)}catch(r){return z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):z.reject(r)}static resolve(e){return new z((r,o)=>{r(e)})}static reject(e){return new z((r,o)=>{o(e)})}static waitFor(e){return new z((r,o)=>{let u=0,f=0,m=!1;e.forEach(w=>{++u,w.next(()=>{++f,m&&f===u&&r()},P=>o(P))}),m=!0,f===u&&r()})}static or(e){let r=z.resolve(!1);for(const o of e)r=r.next(u=>u?z.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}static mapArray(e,r){return new z((o,u)=>{const f=e.length,m=new Array(f);let w=0;for(let P=0;P<f;P++){const V=P;r(e[V]).next(oe=>{m[V]=oe,++w,w===f&&o(m)},oe=>u(oe))}})}static doWhile(e,r){return new z((o,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):o()};f()})}}function ht(c){return"IndexedDbTransactionError"===c.name}let Ni=(()=>{class c{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this._e(u),this.ae=u=>o.writeSequenceNumber(u))}_e(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.ae&&this.ae(r),r}}return c.ue=-1,c})();function Tr(c){return null==c}function $n(c){return 0===c&&1/c==-1/0}function Qe(c,e){let r=e;const o=c.length;for(let u=0;u<o;u++){const f=c.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Pt(c){return c+"\x01\x01"}const ue="mutationQueues",qe="mutations",ai="documentMutations",se="remoteDocumentGlobal",mn="targets",ci="targetDocuments",hi="targetGlobal",Ti="collectionParents",J="clientMetadata",Ie="bundles",At="namedQueries";function oo(c){let e=0;for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e++;return e}function mo(c,e){for(const r in c)Object.prototype.hasOwnProperty.call(c,r)&&e(r,c[r])}function As(c){for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e))return!1;return!0}class Ri{constructor(e,r){this.comparator=e,this.root=r||no.EMPTY}insert(e,r){return new Ri(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,no.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,no.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cs(this.root,e,this.comparator,!1)}getReverseIterator(){return new cs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cs(this.root,e,this.comparator,!0)}}class cs{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class no{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=o??no.RED,this.left=u??no.EMPTY,this.right=f??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new no(e??this.key,r??this.value,o??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return no.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,r,o,u,f){return this}insert(e,r,o){return new no(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bi{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new X(this.data.getIterator())}getIteratorFrom(e){return new X(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Bi(this.comparator);return r.data=e,r}}class X{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ue{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Ue([])}unionWith(e){let r=new Bi(Ht.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Ue(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Kn(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class it extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new it("Invalid base64 string: "+f):f}}(e);return new qt(r)}static fromUint8Array(e){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(e);return new qt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Ln=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(c){if(pe(!!c,39018),"string"==typeof c){let e=0;const r=Ln.exec(c);if(pe(!!r,46558,{timestamp:c}),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(c);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:zn(c.seconds),nanos:zn(c.nanos)}}function zn(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function vi(c){return"string"==typeof c?qt.fromBase64String(c):qt.fromUint8Array(c)}const Di="server_timestamp",lo="__type__",zi="__previous_value__",To="__local_write_time__";function Ee(c){var e,r;return(null===(r=((null===(e=c?.mapValue)||void 0===e?void 0:e.fields)||{})[lo])||void 0===r?void 0:r.stringValue)===Di}function me(c){const e=c.mapValue.fields[zi];return Ee(e)?me(e):e}function Xe(c){const e=hr(c.mapValue.fields[To].timestampValue);return new Er(e.seconds,e.nanos)}class Wt{constructor(e,r,o,u,f,m,w,P,V,oe){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=w,this.longPollingOptions=P,this.useFetchStreams=V,this.isUsingEmulator=oe}}const Yt="(default)";class jn{constructor(e,r){this.projectId=e,this.database=r||Yt}static empty(){return new jn("","")}get isDefaultDatabase(){return this.database===Yt}isEqual(e){return e instanceof jn&&e.projectId===this.projectId&&e.database===this.database}}const kn="__type__",Qn="__max__",fr_mapValue={fields:{__type__:{stringValue:Qn}}},wi="__vector__",Mi="value";function ho(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Ee(c)?4:Rs(c)?9007199254740991:da(c)?10:11:ge(28295,{value:c})}function _o(c,e){if(c===e)return!0;const r=ho(c);if(r!==ho(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===e.booleanValue;case 4:return Xe(c).isEqual(Xe(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=hr(u.timestampValue),w=hr(f.timestampValue);return m.seconds===w.seconds&&m.nanos===w.nanos}(c,e);case 5:return c.stringValue===e.stringValue;case 6:return f=e,vi(c.bytesValue).isEqual(vi(f.bytesValue));case 7:return c.referenceValue===e.referenceValue;case 8:return function(u,f){return zn(u.geoPointValue.latitude)===zn(f.geoPointValue.latitude)&&zn(u.geoPointValue.longitude)===zn(f.geoPointValue.longitude)}(c,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return zn(u.integerValue)===zn(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=zn(u.doubleValue),w=zn(f.doubleValue);return m===w?$n(m)===$n(w):isNaN(m)&&isNaN(w)}return!1}(c,e);case 9:return Kn(c.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:case 11:return function(u,f){const m=u.mapValue.fields||{},w=f.mapValue.fields||{};if(oo(m)!==oo(w))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===w[P]||!_o(m[P],w[P])))return!1;return!0}(c,e);default:return ge(52216,{left:c})}var f}function yo(c,e){return void 0!==(c.values||[]).find(r=>_o(r,e))}function zo(c,e){if(c===e)return 0;const r=ho(c),o=ho(e);if(r!==o)return Vn(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Vn(c.booleanValue,e.booleanValue);case 2:return function(f,m){const w=zn(f.integerValue||f.doubleValue),P=zn(m.integerValue||m.doubleValue);return w<P?-1:w>P?1:w===P?0:isNaN(w)?isNaN(P)?0:-1:1}(c,e);case 3:return is(c.timestampValue,e.timestampValue);case 4:return is(Xe(c),Xe(e));case 5:return Ci(c.stringValue,e.stringValue);case 6:return function(f,m){const w=vi(f),P=vi(m);return w.compareTo(P)}(c.bytesValue,e.bytesValue);case 7:return function(f,m){const w=f.split("/"),P=m.split("/");for(let V=0;V<w.length&&V<P.length;V++){const oe=Vn(w[V],P[V]);if(0!==oe)return oe}return Vn(w.length,P.length)}(c.referenceValue,e.referenceValue);case 8:return function(f,m){const w=Vn(zn(f.latitude),zn(m.latitude));return 0!==w?w:Vn(zn(f.longitude),zn(m.longitude))}(c.geoPointValue,e.geoPointValue);case 9:return Ys(c.arrayValue,e.arrayValue);case 10:return function(f,m){var w,P,V,oe;const jt=null===(w=(f.fields||{})[Mi])||void 0===w?void 0:w.arrayValue,yn=null===(P=(m.fields||{})[Mi])||void 0===P?void 0:P.arrayValue,Fn=Vn((null===(V=jt?.values)||void 0===V?void 0:V.length)||0,(null===(oe=yn?.values)||void 0===oe?void 0:oe.length)||0);return 0!==Fn?Fn:Ys(jt,yn)}(c.mapValue,e.mapValue);case 11:return function(f,m){if(f===fr_mapValue&&m===fr_mapValue)return 0;if(f===fr_mapValue)return 1;if(m===fr_mapValue)return-1;const w=f.fields||{},P=Object.keys(w),V=m.fields||{},oe=Object.keys(V);P.sort(),oe.sort();for(let De=0;De<P.length&&De<oe.length;++De){const nt=Ci(P[De],oe[De]);if(0!==nt)return nt;const jt=zo(w[P[De]],V[oe[De]]);if(0!==jt)return jt}return Vn(P.length,oe.length)}(c.mapValue,e.mapValue);default:throw ge(23264,{le:r})}}function is(c,e){if("string"==typeof c&&"string"==typeof e&&c.length===e.length)return Vn(c,e);const r=hr(c),o=hr(e),u=Vn(r.seconds,o.seconds);return 0!==u?u:Vn(r.nanos,o.nanos)}function Ys(c,e){const r=c.values||[],o=e.values||[];for(let u=0;u<r.length&&u<o.length;++u){const f=zo(r[u],o[u]);if(f)return f}return Vn(r.length,o.length)}function Cs(c){return Ka(c)}function Ka(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(r){const o=hr(r);return`time(${o.seconds},${o.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?vi(c.bytesValue).toBase64():"referenceValue"in c?It.fromName(c.referenceValue).toString():"geoPointValue"in c?function(r){return`geo(${r.latitude},${r.longitude})`}(c.geoPointValue):"arrayValue"in c?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=Ka(f);return o+"]"}(c.arrayValue):"mapValue"in c?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of o)f?f=!1:u+=",",u+=`${m}:${Ka(r.fields[m])}`;return u+"}"}(c.mapValue):ge(61005,{value:c})}function $s(c){switch(ho(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=me(c);return e?16+$s(e):16;case 5:return 2*c.stringValue.length;case 6:return vi(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,f)=>u+$s(f),0);case 10:case 11:return function(o){let u=0;return mo(o.fields,(f,m)=>{u+=f.length+$s(m)}),u}(c.mapValue);default:throw ge(13486,{value:c})}}function bs(c,e){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${e.path.canonicalString()}`}}function Xs(c){return!!c&&"integerValue"in c}function Js(c){return!!c&&"arrayValue"in c}function Ha(c){return!!c&&"nullValue"in c}function la(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Ss(c){return!!c&&"mapValue"in c}function da(c){var e,r;return(null===(r=((null===(e=c?.mapValue)||void 0===e?void 0:e.fields)||{})[kn])||void 0===r?void 0:r.stringValue)===wi}function Mo(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const e={mapValue:{fields:{}}};return mo(c.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Mo(o)),e}if(c.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(c.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Mo(c.arrayValue.values[r]);return e}return Object.assign({},c)}function Rs(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===Qn}class Oo{constructor(e){this.value=e}static empty(){return new Oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Ss(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(r)}setAll(e){let r=Ht.emptyPath(),o={},u=[];e.forEach((m,w)=>{if(!r.isImmediateParentOf(w)){const P=this.getFieldsMap(r);this.applyChanges(P,o,u),o={},u=[],r=w.popLast()}m?o[w.lastSegment()]=Mo(m):u.push(w.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());Ss(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];Ss(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){mo(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new Oo(Mo(this.value))}}class so{constructor(e,r,o,u,f,m,w){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=f,this.data=m,this.documentState=w}static newInvalidDocument(e){return new so(e,0,Un.min(),Un.min(),Un.min(),Oo.empty(),0)}static newFoundDocument(e,r,o,u){return new so(e,1,r,Un.min(),o,u,0)}static newNoDocument(e,r){return new so(e,2,r,Un.min(),Un.min(),Oo.empty(),0)}static newUnknownDocument(e,r){return new so(e,3,r,Un.min(),Un.min(),Oo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof so&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new so(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class us{constructor(e,r){this.position=e,this.inclusive=r}}function za(c,e,r){let o=0;for(let u=0;u<c.position.length;u++){const f=e[u],m=c.position[u];if(o=f.field.isKeyField()?It.comparator(It.fromName(m.referenceValue),r.key):zo(m,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function Ns(c,e){if(null===c)return null===e;if(null===e||c.inclusive!==e.inclusive||c.position.length!==e.position.length)return!1;for(let r=0;r<c.position.length;r++)if(!_o(c.position[r],e.position[r]))return!1;return!0}class Ws{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ga(c,e){return c.dir===e.dir&&c.field.isEqual(e.field)}class ha{}class xi extends ha{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Hs(e,r,o):"array-contains"===r?new ka(e,o):"in"===r?new Fu(e,o):"not-in"===r?new qa(e,o):"array-contains-any"===r?new oc(e,o):new xi(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Sc(e,o):new Zs(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&void 0===r.nullValue&&this.matchesComparison(zo(r,this.value)):null!==r&&ho(this.value)===ho(r)&&this.matchesComparison(zo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends ha{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new Gi(e,r)}matches(e){return oi(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function oi(c){return"and"===c.op}function ks(c){return function Ks(c){for(const e of c.filters)if(e instanceof Gi)return!1;return!0}(c)&&oi(c)}function Ta(c){if(c instanceof xi)return c.field.canonicalString()+c.op.toString()+Cs(c.value);if(ks(c))return c.filters.map(e=>Ta(e)).join(",");{const e=c.filters.map(r=>Ta(r)).join(",");return`${c.op}(${e})`}}function bc(c,e){return c instanceof xi?(o=c,(u=e)instanceof xi&&o.op===u.op&&o.field.isEqual(u.field)&&_o(o.value,u.value)):c instanceof Gi?function(o,u){return u instanceof Gi&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((f,m,w)=>f&&bc(m,u.filters[w]),!0)}(c,e):void ge(19439);var o,u}function nu(c){return c instanceof xi?`${(r=c).field.canonicalString()} ${r.op} ${Cs(r.value)}`:c instanceof Gi?function(r){return r.op.toString()+" {"+r.getFilters().map(nu).join(" ,")+"}"}(c):"Filter";var r}class Hs extends xi{constructor(e,r,o){super(e,r,o),this.key=It.fromName(o.referenceValue)}matches(e){const r=It.comparator(e.key,this.key);return this.matchesComparison(r)}}class Sc extends xi{constructor(e,r){super(e,"in",r),this.keys=ic(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Zs extends xi{constructor(e,r){super(e,"not-in",r),this.keys=ic(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ic(c,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>It.fromName(o.referenceValue))}class ka extends xi{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Js(r)&&yo(r.arrayValue,this.value)}}class Fu extends xi{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&yo(this.value.arrayValue,r)}}class qa extends xi{constructor(e,r){super(e,"not-in",r)}matches(e){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&void 0===r.nullValue&&!yo(this.value.arrayValue,r)}}class oc extends xi{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Js(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>yo(this.value.arrayValue,o))}}class Qa{constructor(e,r=null,o=[],u=[],f=null,m=null,w=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=m,this.endAt=w,this.Pe=null}}function ea(c,e=null,r=[],o=[],u=null,f=null,m=null){return new Qa(c,e,r,o,u,f,m)}function fs(c){const e=Ye(c);if(null===e.Pe){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Ta(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(f=o).field.canonicalString()+f.dir;var f}).join(","),Tr(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Cs(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Cs(o)).join(",")),e.Pe=r}return e.Pe}function ta(c,e){if(c.limit!==e.limit||c.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<c.orderBy.length;r++)if(!Ga(c.orderBy[r],e.orderBy[r]))return!1;if(c.filters.length!==e.filters.length)return!1;for(let r=0;r<c.filters.length;r++)if(!bc(c.filters[r],e.filters[r]))return!1;return c.collectionGroup===e.collectionGroup&&!!c.path.isEqual(e.path)&&!!Ns(c.startAt,e.startAt)&&Ns(c.endAt,e.endAt)}function Jo(c){return It.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class b{constructor(e,r=null,o=[],u=[],f=null,m="F",w=null,P=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=m,this.startAt=w,this.endAt=P,this.Te=null,this.Ie=null,this.de=null}}function q(c){return new b(c)}function le(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function We(c){return null!==c.collectionGroup}function bt(c){const e=Ye(c);if(null===e.Te){e.Te=[];const r=new Set;for(const f of e.explicitOrderBy)e.Te.push(f),r.add(f.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let w=new Bi(Ht.comparator);return m.filters.forEach(P=>{P.getFlattenedFilters().forEach(V=>{V.isInequality()&&(w=w.add(V.field))})}),w})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.Te.push(new Ws(f,o))}),r.has(Ht.keyField().canonicalString())||e.Te.push(new Ws(Ht.keyField(),o))}return e.Te}function xt(c){const e=Ye(c);return e.Ie||(e.Ie=function qi(c,e){if("F"===c.limitType)return ea(c.path,c.collectionGroup,e,c.filters,c.limit,c.startAt,c.endAt);{e=e.map(u=>new Ws(u.field,"desc"===u.dir?"asc":"desc"));const r=c.endAt?new us(c.endAt.position,c.endAt.inclusive):null,o=c.startAt?new us(c.startAt.position,c.startAt.inclusive):null;return ea(c.path,c.collectionGroup,e,c.filters,c.limit,r,o)}}(e,bt(c))),e.Ie}function Ao(c,e){const r=c.filters.concat([e]);return new b(c.path,c.collectionGroup,c.explicitOrderBy.slice(),r,c.limit,c.limitType,c.startAt,c.endAt)}function os(c,e,r){return new b(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),e,r,c.startAt,c.endAt)}function ps(c,e){return ta(xt(c),xt(e))&&c.limitType===e.limitType}function Zo(c){return`${fs(xt(c))}|lt:${c.limitType}`}function fa(c){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>nu(u)).join(", ")}]`),Tr(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>Cs(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>Cs(u)).join(",")),`Target(${o})`}(xt(c))}; limitType=${c.limitType})`}function Ds(c,e){return e.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):It.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(c,e)&&function(o,u){for(const f of bt(o))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(c,e)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(c,e)&&(u=e,!((o=c).startAt&&!function(m,w,P){const V=za(m,w,P);return m.inclusive?V<=0:V<0}(o.startAt,bt(o),u)||o.endAt&&!function(m,w,P){const V=za(m,w,P);return m.inclusive?V>=0:V>0}(o.endAt,bt(o),u)));var o,u}function Ps(c){return(e,r)=>{let o=!1;for(const u of bt(c)){const f=gs(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function gs(c,e,r){const o=c.field.isKeyField()?It.comparator(e.key,r.key):function(f,m,w){const P=m.data.field(f),V=w.data.field(f);return null!==P&&null!==V?zo(P,V):ge(42886)}(c.field,e,r);switch(c.dir){case"asc":return o;case"desc":return-1*o;default:return ge(19790,{direction:c.dir})}}class Fs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return As(this.inner)}size(){return this.innerSize}}const sc=new Ri(It.comparator);function Go(){return sc}const Bu=new Ri(It.comparator);function x(...c){let e=Bu;for(const r of c)e=e.insert(r.key,r);return e}function _(c){let e=Bu;return c.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function E(){return F()}function C(){return F()}function F(){return new Fs(c=>c.toString(),(c,e)=>c.isEqual(e))}new Ri(It.comparator);const Oe=new Bi(It.comparator);function ke(...c){let e=Oe;for(const r of c)e=e.add(r);return e}const Dt=new Bi(Vn);function Yn(c,e){if(c.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$n(e)?"-0":e}}function tr(c){return{integerValue:""+c}}function pi(c,e){return function ii(c){return"number"==typeof c&&Number.isInteger(c)&&!$n(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(e)?tr(e):Yn(c,e)}class fi{constructor(){this._=void 0}}function $r(c,e,r){return c instanceof fo?function(u,f){const m={fields:{[lo]:{stringValue:Di},[To]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ee(f)&&(f=me(f)),f&&(m.fields[zi]=f),{mapValue:m}}(r,e):c instanceof Co?qo(c,e):c instanceof wo?na(c,e):function(u,f){const m=function Do(c,e){return c instanceof Qi?Xs(o=e)||(f=o)&&"doubleValue"in f?e:{integerValue:0}:null;var o,f}(u,f),w=ls(m)+ls(u.Ee);return Xs(m)&&Xs(u.Ee)?tr(w):Yn(u.serializer,w)}(c,e)}function Ei(c,e,r){return c instanceof Co?qo(c,e):c instanceof wo?na(c,e):r}class fo extends fi{}class Co extends fi{constructor(e){super(),this.elements=e}}function qo(c,e){const r=No(e);for(const o of c.elements)r.some(u=>_o(u,o))||r.push(o);return{arrayValue:{values:r}}}class wo extends fi{constructor(e){super(),this.elements=e}}function na(c,e){let r=No(e);for(const o of c.elements)r=r.filter(u=>!_o(u,o));return{arrayValue:{values:r}}}class Qi extends fi{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function ls(c){return zn(c.integerValue||c.doubleValue)}function No(c){return Js(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class ao{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ao}static exists(e){return new ao(void 0,e)}static updateTime(e){return new ao(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ra(c,e){return void 0!==c.updateTime?e.isFoundDocument()&&e.version.isEqual(c.updateTime):void 0===c.exists||c.exists===e.isFoundDocument()}class Pc{}function Ya(c,e){if(!c.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return c.isNoDocument()?new pa(c.key,ao.none()):new bo(c.key,c.data,ao.none());{const r=c.data,o=Oo.empty();let u=new Bi(Ht.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?o.delete(f):o.set(f,m),u=u.add(f)}return new jo(c.key,o,new Ue(u.toArray()),ao.none())}}function kr(c,e,r){c instanceof bo?function(u,f,m){const w=u.value.clone(),P=ia(u.fieldTransforms,f,m.transformResults);w.setAll(P),f.convertToFoundDocument(m.version,w).setHasCommittedMutations()}(c,e,r):c instanceof jo?function(u,f,m){if(!ra(u.precondition,f))return void f.convertToUnknownDocument(m.version);const w=ia(u.fieldTransforms,f,m.transformResults),P=f.data;P.setAll(ds(u)),P.setAll(w),f.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(c,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Lr(c,e,r,o){return c instanceof bo?function(f,m,w,P){if(!ra(f.precondition,m))return w;const V=f.value.clone(),oe=Eo(f.fieldTransforms,P,m);return V.setAll(oe),m.convertToFoundDocument(m.version,V).setHasLocalMutations(),null}(c,e,r,o):c instanceof jo?function(f,m,w,P){if(!ra(f.precondition,m))return w;const V=Eo(f.fieldTransforms,P,m),oe=m.data;return oe.setAll(ds(f)),oe.setAll(V),m.convertToFoundDocument(m.version,oe).setHasLocalMutations(),null===w?null:w.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(De=>De.field))}(c,e,r,o):(w=r,ra(c.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):w);var m,w}function Zi(c,e){return c.type===e.type&&!!c.key.isEqual(e.key)&&!!c.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=c.fieldTransforms)&&void 0===u||o&&u&&Kn(o,u,(f,m)=>function Ms(c,e){return c.field.isEqual(e.field)&&(u=e.transform,(o=c.transform)instanceof Co&&u instanceof Co||o instanceof wo&&u instanceof wo?Kn(o.elements,u.elements,_o):o instanceof Qi&&u instanceof Qi?_o(o.Ee,u.Ee):o instanceof fo&&u instanceof fo);var o,u}(f,m))))&&(0===c.type?c.value.isEqual(e.value):1!==c.type||c.data.isEqual(e.data)&&c.fieldMask.isEqual(e.fieldMask));var o,u}class bo extends Pc{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class jo extends Pc{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ds(c){const e=new Map;return c.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=c.data.field(r);e.set(r,o)}}),e}function ia(c,e,r){const o=new Map;pe(c.length===r.length,32656,{Ae:r.length,Re:c.length});for(let u=0;u<r.length;u++){const f=c[u],m=f.transform,w=e.data.field(f.field);o.set(f.field,Ei(m,w,r[u]))}return o}function Eo(c,e,r){const o=new Map;for(const u of c){const f=u.transform,m=r.data.field(u.field);o.set(u.field,$r(f,m,e))}return o}class pa extends Pc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qo{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&kr(f,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Lr(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Lr(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=C();return this.mutations.forEach(u=>{const f=e.get(u.key),m=f.overlayedDocument;let w=this.applyToLocalView(m,f.mutatedFields);w=r.has(u.key)?null:w;const P=Ya(m,w);null!==P&&o.set(u.key,P),m.isValidDocument()||m.convertToNoDocument(Un.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ke())}isEqual(e){return this.batchId===e.batchId&&Kn(this.mutations,e.mutations,(r,o)=>Zi(r,o))&&Kn(this.baseMutations,e.baseMutations,(r,o)=>Zi(r,o))}}class ys{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class S{constructor(e,r){this.count=e,this.unchangedNames=r}}var Y,Te;function Dn(c){if(void 0===c)return at("GRPC error has no .code"),Le.UNKNOWN;switch(c){case Y.OK:return Le.OK;case Y.CANCELLED:return Le.CANCELLED;case Y.UNKNOWN:return Le.UNKNOWN;case Y.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Y.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Y.INTERNAL:return Le.INTERNAL;case Y.UNAVAILABLE:return Le.UNAVAILABLE;case Y.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Y.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Y.NOT_FOUND:return Le.NOT_FOUND;case Y.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Y.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Y.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Y.ABORTED:return Le.ABORTED;case Y.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Y.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Y.DATA_LOSS:return Le.DATA_LOSS;default:return ge(39323,{code:c})}}(Te=Y||(Y={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";const po=new Xt([4294967295,4294967295],0);function $o(c){const e=Kr().encode(c),r=new An;return r.update(e),new Uint8Array(r.digest())}function xo(c){const e=new DataView(c.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Xt([r,o],0),new Xt([u,f],0)]}class Yo{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new sa(`Invalid padding: ${r}`);if(o<0)throw new sa(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new sa(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new sa(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=Xt.fromNumber(this.fe)}pe(e,r,o){let u=e.add(r.multiply(Xt.fromNumber(o)));return 1===u.compare(po)&&(u=new Xt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const r=$o(e),[o,u]=xo(r);for(let f=0;f<this.hashCount;f++){const m=this.pe(o,u,f);if(!this.ye(m))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new Yo(f,u,r);return o.forEach(w=>m.insert(w)),m}insert(e){if(0===this.fe)return;const r=$o(e),[o,u]=xo(r);for(let f=0;f<this.hashCount;f++){const m=this.pe(o,u,f);this.we(m)}}we(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mc{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Mc(Un.min(),u,new Ri(Vn),Go(),ke())}}class wl{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new wl(o,r,ke(),ke(),ke())}}class ru{constructor(e,r,o,u){this.Se=e,this.removedTargetIds=r,this.key=o,this.be=u}}class ef{constructor(e,r){this.targetId=e,this.De=r}}class Vd{constructor(e,r,o=qt.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class t_{constructor(){this.ve=0,this.Ce=Cl(),this.Fe=qt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),r=ke(),o=ke();return this.Ce.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:ge(38017,{changeType:f})}}),new wl(this.Fe,this.Me,e,r,o)}ke(){this.xe=!1,this.Ce=Cl()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Oc{constructor(e){this.We=e,this.Ge=new Map,this.ze=Go(),this.je=iu(),this.Je=iu(),this.He=new Ri(Vn)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,r=>{const o=this.tt(r);switch(e.state){case 0:this.nt(r)&&o.Be(e.resumeToken);break;case 1:o.Ue(),o.Oe||o.ke(),o.Be(e.resumeToken);break;case 2:o.Ue(),o.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(o.Ke(),o.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),o.Be(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach((o,u)=>{this.nt(u)&&r(u)})}it(e){const r=e.targetId,o=e.De.count,u=this.st(r);if(u){const f=u.target;if(Jo(f))if(0===o){const m=new It(f.path);this.Xe(r,m,so.newNoDocument(m,Un.min()))}else pe(1===o,20013,{expectedCount:o});else{const m=this.ot(r);if(m!==o){const w=this._t(e),P=w?this.ut(w,e,m):1;0!==P&&(this.rt(r),this.He=this.He.insert(r,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let m,w;try{m=vi(o).toUint8Array()}catch(P){if(P instanceof it)return Lt("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw P}try{w=new Yo(m,u,f)}catch(P){return Lt(P instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",P),null}return 0===w.fe?null:w}ut(e,r,o){return r.De.count===o-this.ht(e,r.targetId)?0:2}ht(e,r){const o=this.We.getRemoteKeysForTarget(r);let u=0;return o.forEach(f=>{const m=this.We.lt(),w=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(w)||(this.Xe(r,f,null),u++)}),u}Pt(e){const r=new Map;this.Ge.forEach((f,m)=>{const w=this.st(m);if(w){if(f.current&&Jo(w.target)){const P=new It(w.target.path);this.Tt(P).has(m)||this.It(m,P)||this.Xe(m,P,so.newNoDocument(P,e))}f.Ne&&(r.set(m,f.Le()),f.ke())}});let o=ke();this.Je.forEach((f,m)=>{let w=!0;m.forEachWhile(P=>{const V=this.st(P);return!V||"TargetPurposeLimboResolution"===V.purpose||(w=!1,!1)}),w&&(o=o.add(f))}),this.ze.forEach((f,m)=>m.setReadTime(e));const u=new Mc(e,r,this.He,this.ze,o);return this.ze=Go(),this.je=iu(),this.Je=iu(),this.He=new Ri(Vn),u}Ze(e,r){if(!this.nt(e))return;const o=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,o),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,o){if(!this.nt(e))return;const u=this.tt(e);this.It(e,r)?u.qe(r,1):u.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),o&&(this.ze=this.ze.insert(r,o))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new t_,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new Bi(Vn),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new Bi(Vn),this.je=this.je.insert(e,r)),r}nt(e){const r=null!==this.st(e);return r||de("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new t_),this.We.getRemoteKeysForTarget(e).forEach(r=>{this.Xe(e,r,null)})}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function iu(){return new Ri(It.comparator)}function Cl(){return new Ri(It.comparator)}const n_={asc:"ASCENDING",desc:"DESCENDING"},bl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ud={and:"AND",or:"OR"};class tf{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function zp(c,e){return c.useProto3Json||Tr(e)?e:{value:e}}function ga(c,e){return c.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sl(c,e){return c.useProto3Json?e.toBase64():e.toUint8Array()}function ss(c){return pe(!!c,49232),Un.fromTimestamp(function(r){const o=hr(r);return new Er(o.seconds,o.nanos)}(c))}function jd(c,e){return Vu(c,e).canonicalString()}function Vu(c,e){const r=(u=c,new Ct(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Rl(c){const e=Ct.fromString(c);return pe(Zp(e),10190,{key:e.toString()}),e}function cc(c,e){const r=Rl(e);if(r.get(1)!==c.databaseId.projectId)throw new Re(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+c.databaseId.projectId);if(r.get(3)!==c.databaseId.database)throw new Re(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+c.databaseId.database);return new It(i_(r))}function ou(c,e){return jd(c.databaseId,e)}function Pl(c){return new Ct(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function i_(c){return pe(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function ju(c,e){return{documents:[ou(c,e.path)]}}function su(c,e){const r={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=ou(c,u);const f=function(V){if(0!==V.length)return Wu(Gi.create(V,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function(V){if(0!==V.length)return V.map(oe=>{return{field:au((nt=oe).field),direction:Yp(nt.dir)};var nt})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const w=zp(c,e.limit);return null!==w&&(r.structuredQuery.limit=w),e.startAt&&(r.structuredQuery.startAt={before:(V=e.startAt).inclusive,values:V.position}),e.endAt&&(r.structuredQuery.endAt=function(V){return{before:!V.inclusive,values:V.position}}(e.endAt)),{Vt:r,parent:u};var V}function Kd(c){let e=function r_(c){const e=Rl(c);return 4===e.length?Ct.emptyPath():i_(e)}(c.parent);const r=c.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){pe(1===o,65062);const oe=r.from[0];oe.allDescendants?u=oe.collectionId:e=e.child(oe.collectionId)}let f=[];r.where&&(f=function(De){const nt=ma(De);return nt instanceof Gi&&ks(nt)?nt.getFilters():[nt]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(nt=>{return new Ws($u((yn=nt).field),function(Bn){switch(Bn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yn.direction));var yn}));let w=null;r.limit&&(w=function(De){let nt;return nt="object"==typeof De?De.value:De,Tr(nt)?null:nt}(r.limit));let P=null;var De;r.startAt&&(P=new us((De=r.startAt).values||[],!!De.before));let V=null;return r.endAt&&(V=function(De){return new us(De.values||[],!De.before)}(r.endAt)),function N(c,e,r,o,u,f,m,w){return new b(c,e,r,o,u,f,m,w)}(e,u,m,f,w,"F",P,V)}function ma(c){return void 0!==c.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=$u(r.unaryFilter.field);return xi.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=$u(r.unaryFilter.field);return xi.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=$u(r.unaryFilter.field);return xi.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=$u(r.unaryFilter.field);return xi.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(c):void 0!==c.fieldFilter?xi.create($u((r=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==c.compositeFilter?function(r){return Gi.create(r.compositeFilter.filters.map(o=>ma(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(r.compositeFilter.op))}(c):ge(30097,{filter:c});var r}function Yp(c){return n_[c]}function Xp(c){return bl[c]}function Nl(c){return Ud[c]}function au(c){return{fieldPath:c.canonicalString()}}function $u(c){return Ht.fromServerFormat(c.fieldPath)}function Wu(c){return c instanceof xi?function(r){if("=="===r.op){if(la(r.value))return{unaryFilter:{field:au(r.field),op:"IS_NAN"}};if(Ha(r.value))return{unaryFilter:{field:au(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(la(r.value))return{unaryFilter:{field:au(r.field),op:"IS_NOT_NAN"}};if(Ha(r.value))return{unaryFilter:{field:au(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(r.field),op:Xp(r.op),value:r.value}}}(c):c instanceof Gi?function(r){const o=r.getFilters().map(u=>Wu(u));return 1===o.length?o[0]:{compositeFilter:{op:Nl(r.op),filters:o}}}(c):ge(54877,{filter:c})}function Zp(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Aa{constructor(e,r,o,u,f=Un.min(),m=Un.min(),w=qt.EMPTY_BYTE_STRING,P=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=w,this.expectedCount=P}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nf{constructor(e){this.gt=e}}function Hu(c){const e=Kd({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?os(e,e.limit,"L"):e}class Fa{constructor(){}bt(e,r){this.Dt(e,r),r.vt()}Dt(e,r){if("nullValue"in e)this.Ct(r,5);else if("booleanValue"in e)this.Ct(r,10),r.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(r,15),r.Ft(zn(e.integerValue));else if("doubleValue"in e){const o=zn(e.doubleValue);isNaN(o)?this.Ct(r,13):(this.Ct(r,15),$n(o)?r.Ft(0):r.Ft(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Ct(r,20),"string"==typeof o&&(o=hr(o)),r.Mt(`${o.seconds||""}`),r.Ft(o.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,r),this.Ot(r);else if("bytesValue"in e)this.Ct(r,30),r.Nt(vi(e.bytesValue)),this.Ot(r);else if("referenceValue"in e)this.Bt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Ct(r,45),r.Ft(o.latitude||0),r.Ft(o.longitude||0)}else"mapValue"in e?Rs(e)?this.Ct(r,Number.MAX_SAFE_INTEGER):da(e)?this.Lt(e.mapValue,r):(this.kt(e.mapValue,r),this.Ot(r)):"arrayValue"in e?(this.qt(e.arrayValue,r),this.Ot(r)):ge(19022,{Qt:e})}xt(e,r){this.Ct(r,25),this.$t(e,r)}$t(e,r){r.Mt(e)}kt(e,r){const o=e.fields||{};this.Ct(r,55);for(const u of Object.keys(o))this.xt(u,r),this.Dt(o[u],r)}Lt(e,r){var o,u;const f=e.fields||{};this.Ct(r,53);const m=Mi,w=(null===(u=null===(o=f[m].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.Ct(r,15),r.Ft(zn(w)),this.xt(m,r),this.Dt(f[m],r)}qt(e,r){const o=e.values||[];this.Ct(r,50);for(const u of o)this.Dt(u,r)}Bt(e,r){this.Ct(r,37),It.fromName(e).path.forEach(o=>{this.Ct(r,60),this.$t(o,r)})}Ct(e,r){e.Ft(r)}Ot(e){e.Ft(2)}}Fa.Ut=new Fa;class Xu{constructor(){this.Dn=new Bc}addToCollectionParentIndex(e,r){return this.Dn.add(r),z.resolve()}getCollectionParents(e,r){return z.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return z.resolve()}deleteFieldIndex(e,r){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,r){return z.resolve()}getDocumentsMatchingTarget(e,r){return z.resolve(null)}getIndexType(e,r){return z.resolve(0)}getFieldIndexes(e,r){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,r){return z.resolve(Ve.min())}getMinOffsetFromCollectionGroup(e,r){return z.resolve(Ve.min())}updateCollectionGroup(e,r,o){return z.resolve()}updateIndexEntries(e,r){return z.resolve()}}class Bc{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new Bi(Ct.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Bi(Ct.comparator)).toArray()}}new Uint8Array(0);const Ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Es{static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class Uc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Uc(0)}static ur(){return new Uc(-1)}}const _f="LruGarbageCollector";function jl([c,e],[r,o]){const u=Vn(c,r);return 0===u?Vn(e,o):u}class Ef{constructor(e){this.Tr=e,this.buffer=new Bi(jl),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();jl(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Va{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){var r=this;de(_f,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,fe.A)(function*(){r.Ar=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){ht(o)?de(_f,"Ignoring IndexedDB error during garbage collection: ",o):yield ze(o)}yield r.Rr(3e5)}))}}class mc{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return z.resolve(Ni.ue);const o=new Ef(r);return this.Vr.forEachTarget(e,u=>o.Er(u.sequenceNumber)).next(()=>this.Vr.gr(e,u=>o.Er(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Vr.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Ll)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ll):this.pr(e,r))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let o,u,f,m,w,P,V;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),u=this.params.maximumSequenceNumbersToCollect):u=De,m=Date.now(),this.nthSequenceNumber(e,u))).next(De=>(o=De,w=Date.now(),this.removeTargets(e,o,r))).next(De=>(f=De,P=Date.now(),this.removeOrphanedDocuments(e,o))).next(De=>(V=Date.now(),st()<=ye.$b.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-oe}ms\n\tDetermined least recently used ${u} in `+(w-m)+`ms\n\tRemoved ${f} targets in `+(P-w)+`ms\n\tRemoved ${De} documents in `+(V-P)+`ms\nTotal Duration: ${V-oe}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:De})))}}class $l{constructor(){this.changes=new Fs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,so.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?z.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tf{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class el{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&Lr(o.mutation,u,Ue.empty(),Er.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,ke()).next(()=>o))}getLocalViewOfDocuments(e,r,o=ke()){const u=E();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(f=>{let m=x();return f.forEach((w,P)=>{m=m.insert(w,P.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const o=E();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,ke()))}populateOverlays(e,r,o){const u=[];return o.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((m,w)=>{r.set(m,w)})})}computeViews(e,r,o,u){let f=Go();const m=F(),w=F();return r.forEach((P,V)=>{const oe=o.get(V.key);u.has(V.key)&&(void 0===oe||oe.mutation instanceof jo)?f=f.insert(V.key,V):void 0!==oe?(m.set(V.key,oe.mutation.getFieldMask()),Lr(oe.mutation,V,oe.mutation.getFieldMask(),Er.now())):m.set(V.key,Ue.empty())}),this.recalculateAndSaveOverlays(e,f).next(P=>(P.forEach((V,oe)=>m.set(V,oe)),r.forEach((V,oe)=>{var De;return w.set(V,new Tf(oe,null!==(De=m.get(V))&&void 0!==De?De:null))}),w))}recalculateAndSaveOverlays(e,r){const o=F();let u=new Ri((m,w)=>m-w),f=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const w of m)w.keys().forEach(P=>{const V=r.get(P);if(null===V)return;let oe=o.get(P)||Ue.empty();oe=w.applyToLocalView(V,oe),o.set(P,oe);const De=(u.get(w.batchId)||ke()).add(P);u=u.insert(w.batchId,De)})}).next(()=>{const m=[],w=u.getReverseIterator();for(;w.hasNext();){const P=w.getNext(),V=P.key,oe=P.value,De=C();oe.forEach(nt=>{if(!f.has(nt)){const jt=Ya(r.get(nt),o.get(nt));null!==jt&&De.set(nt,jt),f=f.add(nt)}}),m.push(this.documentOverlayCache.saveOverlays(e,V,De))}return z.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return It.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):We(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var m}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-f.size):z.resolve(E());let w=-1,P=f;return m.next(V=>z.forEach(V,(oe,De)=>(w<De.largestBatchId&&(w=De.largestBatchId),f.get(oe)?z.resolve():this.remoteDocumentCache.getEntry(e,oe).next(nt=>{P=P.insert(oe,nt)}))).next(()=>this.populateOverlays(e,V,f)).next(()=>this.computeViews(e,P,V,ke())).next(oe=>({batchId:w,changes:_(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new It(r)).next(o=>{let u=x();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const f=r.collectionGroup;let m=x();return this.indexManager.getCollectionParents(e,f).next(w=>z.forEach(w,P=>{const V=(De=r,nt=P.child(f),new b(nt,null,De.explicitOrderBy.slice(),De.filters.slice(),De.limit,De.limitType,De.startAt,De.endAt));var De,nt;return this.getDocumentsMatchingCollectionQuery(e,V,o,u).next(oe=>{oe.forEach((De,nt)=>{m=m.insert(De,nt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,o,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,f,u))).next(m=>{f.forEach((P,V)=>{const oe=V.getKey();null===m.get(oe)&&(m=m.insert(oe,so.newInvalidDocument(oe)))});let w=x();return m.forEach((P,V)=>{const oe=f.get(P);void 0!==oe&&Lr(oe.mutation,V,Ue.empty(),Er.now()),Ds(r,V)&&(w=w.insert(P,V))}),w})}}class Af{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return z.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,{id:(u=r).id,version:u.version,createTime:ss(u.createTime)}),z.resolve();var u}getNamedQuery(e,r){return z.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,{name:(u=r).name,query:Hu(u.bundledQuery),readTime:ss(u.readTime)}),z.resolve();var u}}class o_{constructor(){this.overlays=new Ri(It.comparator),this.kr=new Map}getOverlay(e,r){return z.resolve(this.overlays.get(r))}getOverlays(e,r){const o=E();return z.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,f)=>{this.wt(e,r,f)}),z.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.kr.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.kr.delete(o)),z.resolve()}getOverlaysForCollection(e,r,o){const u=E(),f=r.length+1,m=new It(r.child("")),w=this.overlays.getIteratorFrom(m);for(;w.hasNext();){const P=w.getNext().value,V=P.getKey();if(!r.isPrefixOf(V.path))break;V.path.length===f&&P.largestBatchId>o&&u.set(P.getKey(),P)}return z.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let f=new Ri((V,oe)=>V-oe);const m=this.overlays.getIterator();for(;m.hasNext();){const V=m.getNext().value;if(V.getKey().getCollectionGroup()===r&&V.largestBatchId>o){let oe=f.get(V.largestBatchId);null===oe&&(oe=E(),f=f.insert(V.largestBatchId,oe)),oe.set(V.getKey(),V)}}const w=E(),P=f.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((V,oe)=>w.set(V,oe)),!(w.size()>=u)););return z.resolve(w)}wt(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const m=this.kr.get(u.largestBatchId).delete(o.key);this.kr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new ys(r,o));let f=this.kr.get(r);void 0===f&&(f=ke(),this.kr.set(r,f)),this.kr.set(r,f.add(o.key))}}class rg{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,z.resolve()}}class Kl{constructor(){this.qr=new Bi(vs.Qr),this.$r=new Bi(vs.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const o=new vs(e,r);this.qr=this.qr.add(o),this.$r=this.$r.add(o)}Kr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Wr(new vs(e,r))}Gr(e,r){e.forEach(o=>this.removeReference(o,r))}zr(e){const r=new It(new Ct([])),o=new vs(r,e),u=new vs(r,e+1),f=[];return this.$r.forEachInRange([o,u],m=>{this.Wr(m),f.push(m.key)}),f}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new It(new Ct([])),o=new vs(r,e),u=new vs(r,e+1);let f=ke();return this.$r.forEachInRange([o,u],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new vs(e,0),o=this.qr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class vs{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return It.comparator(e.key,r.key)||Vn(e.Hr,r.Hr)}static Ur(e,r){return Vn(e.Hr,r.Hr)||It.comparator(e.key,r.key)}}class ig{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Bi(vs.Qr)}checkEmpty(e){return z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const f=this.er;this.er++;const m=new Qo(f,r,o,u);this.mutationQueue.push(m);for(const w of u)this.Yr=this.Yr.add(new vs(w.key,f)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return z.resolve(m)}lookupMutationBatch(e,r){return z.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.Xr(r+1),f=u<0?0:u;return z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(0===this.mutationQueue.length?-1:this.er-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new vs(r,0),u=new vs(r,Number.POSITIVE_INFINITY),f=[];return this.Yr.forEachInRange([o,u],m=>{const w=this.Zr(m.Hr);f.push(w)}),z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Bi(Vn);return r.forEach(u=>{const f=new vs(u,0),m=new vs(u,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([f,m],w=>{o=o.add(w.Hr)})}),z.resolve(this.ei(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;It.isDocumentKey(f)||(f=f.child(""));const m=new vs(new It(f),0);let w=new Bi(Vn);return this.Yr.forEachWhile(P=>{const V=P.key.path;return!!o.isPrefixOf(V)&&(V.length===u&&(w=w.add(P.Hr)),!0)},m),z.resolve(this.ei(w))}ei(e){const r=[];return e.forEach(o=>{const u=this.Zr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){pe(0===this.ti(r.batchId,"removed"),55003),this.mutationQueue.shift();let o=this.Yr;return z.forEach(r.mutations,u=>{const f=new vs(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Yr=o})}rr(e){}containsKey(e,r){const o=new vs(r,0),u=this.Yr.firstAfterOrEqual(o);return z.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return z.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Df{constructor(e){this.ni=e,this.docs=new Ri(It.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),f=u?u.size:0,m=this.ni(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return z.resolve(o?o.document.mutableCopy():so.newInvalidDocument(r))}getEntries(e,r){let o=Go();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():so.newInvalidDocument(u))}),z.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let f=Go();const m=r.path,w=new It(m.child("__id-9223372036854775808__")),P=this.docs.getIteratorFrom(w);for(;P.hasNext();){const{key:V,value:{document:oe}}=P.getNext();if(!m.isPrefixOf(V.path))break;V.path.length>m.length+1||ce(new Ve((c=oe).readTime,c.key,-1),o)<=0||(u.has(oe.key)||Ds(r,oe))&&(f=f.insert(oe.key,oe.mutableCopy()))}var c;return z.resolve(f)}getAllFromCollectionGroup(e,r,o,u){ge(9500)}ri(e,r){return z.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new og(this)}getSize(e){return z.resolve(this.size)}}class og extends $l{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.Or.addEntry(e,u)):this.Or.removeEntry(o)}),z.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}class wf{constructor(e){this.persistence=e,this.ii=new Fs(r=>fs(r),ta),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.si=0,this.oi=new Kl,this.targetCount=0,this._i=Uc.ar()}forEachTarget(e,r){return this.ii.forEach((o,u)=>r(u)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.si&&(this.si=r),z.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Uc(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,z.resolve()}updateTargetData(e,r){return this.hr(r),z.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.ii.forEach((m,w)=>{w.sequenceNumber<=r&&null===o.get(w.targetId)&&(this.ii.delete(m),f.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),z.waitFor(f).next(()=>u)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,r){const o=this.ii.get(r)||null;return z.resolve(o)}addMatchingKeys(e,r,o){return this.oi.Kr(r,o),z.resolve()}removeMatchingKeys(e,r,o){this.oi.Gr(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(e,m))}),z.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),z.resolve()}getMatchingKeysForTargetId(e,r){const o=this.oi.Jr(r);return z.resolve(o)}containsKey(e,r){return z.resolve(this.oi.containsKey(r))}}class th{constructor(e,r){this.ai={},this.overlays={},this.ui=new Ni(0),this.ci=!1,this.ci=!0,this.li=new rg,this.referenceDelegate=e(this),this.hi=new wf(this),this.indexManager=new Xu,this.remoteDocumentCache=new Df(o=>this.referenceDelegate.Pi(o)),this.serializer=new nf(r),this.Ti=new Af(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new o_,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.ai[e.toKey()];return o||(o=new ig(r,this.referenceDelegate),this.ai[e.toKey()]=o),o}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,o){de("MemoryPersistence","Starting transaction:",e);const u=new nh(this.ui.next());return this.referenceDelegate.Ii(),o(u).next(f=>this.referenceDelegate.di(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Ei(e,r){return z.or(Object.values(this.ai).map(o=>()=>o.containsKey(e,r)))}}class nh extends Pe{constructor(e){super(),this.currentSequenceNumber=e}}class Za{constructor(e){this.persistence=e,this.Ai=new Kl,this.Ri=null}static Vi(e){return new Za(e)}get mi(){if(this.Ri)return this.Ri;throw ge(60996)}addReference(e,r,o){return this.Ai.addReference(o,r),this.mi.delete(o.toString()),z.resolve()}removeReference(e,r,o){return this.Ai.removeReference(o,r),this.mi.add(o.toString()),z.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),z.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach(u=>this.mi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.mi.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.mi,o=>{const u=It.fromPath(o);return this.fi(e,u).next(f=>{f||r.removeEntry(u,Un.min())})}).next(()=>(this.Ri=null,r.apply(e)))}updateLimboDocument(e,r){return this.fi(e,r).next(o=>{o?this.mi.delete(r.toString()):this.mi.add(r.toString())})}Pi(e){return 0}fi(e,r){return z.or([()=>z.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Hl{constructor(e,r){this.persistence=e,this.gi=new Fs(o=>function Cr(c){let e="";for(let r=0;r<c.length;r++)e.length>0&&(e=Pt(e)),e=Qe(c.get(r),e);return Pt(e)}(o.path),(o,u)=>o.isEqual(u)),this.garbageCollector=function vf(c,e){return new mc(c,e)}(this,r)}static Vi(e,r){return new Hl(e,r)}Ii(){}di(e){return z.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}yr(e){let r=0;return this.gr(e,o=>{r++}).next(()=>r)}gr(e,r){return z.forEach(this.gi,(o,u)=>this.Sr(e,o,u).next(f=>f?z.resolve():r(u)))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ri(e,m=>this.Sr(e,m,r).next(w=>{w||(o++,f.removeEntry(m,Un.min()))})).next(()=>f.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.gi.set(o,e.currentSequenceNumber),z.resolve()}removeReference(e,r,o){return this.gi.set(o,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=$s(e.data.value)),r}Sr(e,r,o){return z.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const u=this.gi.get(r);return z.resolve(void 0!==u&&u>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sf{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.Is=o,this.ds=u}static Es(e,r){let o=ke(),u=ke();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Sf(e,r.fromCache,o,u)}}class s_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ag{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(0,He.nr)()?8:function Z(c){const e=c.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,He.ZQ)())>0?6:4}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,o,u){const f={result:null};return this.ps(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.ys(e,r,u,o).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new s_;return this.ws(e,r,m).next(w=>{if(f.result=w,this.Rs)return this.Ss(e,r,m,w.size)})}).next(()=>f.result)}Ss(e,r,o,u){return o.documentReadCount<this.Vs?(st()<=ye.$b.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",fa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(st()<=ye.$b.DEBUG&&de("QueryEngine","Query:",fa(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.fs*u?(st()<=ye.$b.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",fa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xt(r))):z.resolve())}ps(e,r){if(le(r))return z.resolve(null);let o=xt(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=os(r,null,"F"),o=xt(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const m=ke(...f);return this.gs.getDocuments(e,m).next(w=>this.indexManager.getMinOffset(e,o).next(P=>{const V=this.bs(r,w);return this.Ds(r,V,m,P.readTime)?this.ps(e,os(r,null,"F")):this.vs(e,V,r,P)}))})))}ys(e,r,o,u){return le(r)||u.isEqual(Un.min())?z.resolve(null):this.gs.getDocuments(e,o).next(f=>{const m=this.bs(r,f);return this.Ds(r,m,o,u)?z.resolve(null):(st()<=ye.$b.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fa(r)),this.vs(e,m,r,function Ki(c,e){const r=c.toTimestamp().seconds,o=c.toTimestamp().nanoseconds+1,u=Un.fromTimestamp(1e9===o?new Er(r+1,0):new Er(r,o));return new Ve(u,It.empty(),e)}(u,-1)).next(w=>w))})}bs(e,r){let o=new Bi(Ps(e));return r.forEach((u,f)=>{Ds(e,f)&&(o=o.add(f))}),o}Ds(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}ws(e,r,o){return st()<=ye.$b.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",fa(r)),this.gs.getDocumentsMatchingQuery(e,r,Ve.min(),o)}vs(e,r,o,u){return this.gs.getDocumentsMatchingQuery(e,o,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}const Rf="LocalStore";class c_{constructor(e,r,o,u){this.persistence=e,this.Cs=r,this.serializer=u,this.Fs=new Ri(Vn),this.Ms=new Fs(f=>fs(f),ta),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(o)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new el(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Fs))}}function u_(c,e){return ah.apply(this,arguments)}function ah(){return(ah=(0,fe.A)(function*(c,e){const r=Ye(c);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,r.Ns(e),r.mutationQueue.getAllMutationBatches(o))).next(f=>{const m=[],w=[];let P=ke();for(const V of u){m.push(V.batchId);for(const oe of V.mutations)P=P.add(oe.key)}for(const V of f){w.push(V.batchId);for(const oe of V.mutations)P=P.add(oe.key)}return r.localDocuments.getDocuments(o,P).next(V=>({Bs:V,removedBatchIds:m,addedBatchIds:w}))})})})).apply(this,arguments)}function tl(c){const e=Ye(c);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.hi.getLastRemoteSnapshotVersion(r))}function Iu(c,e,r){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,fe.A)(function*(c,e,r){const o=Ye(c),u=o.Fs.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!ht(m))throw m;de(Rf,`Failed to update sequence numbers for target ${e}: ${m}`)}o.Fs=o.Fs.remove(e),o.Ms.delete(u.target)})).apply(this,arguments)}function ql(c,e,r){const o=Ye(c);let u=Un.min(),f=ke();return o.persistence.runTransaction("Execute query","readwrite",m=>function(P,V,oe){const De=Ye(P),nt=De.Ms.get(oe);return void 0!==nt?z.resolve(De.Fs.get(nt)):De.hi.getTargetData(V,oe)}(o,m,xt(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.hi.getMatchingKeysForTargetId(m,w.targetId).next(P=>{f=P})}).next(()=>o.Cs.getDocumentsMatchingQuery(m,e,r?u:Un.min(),r?f:ke())).next(w=>(function lg(c,e,r){let o=c.xs.get(e)||Un.min();r.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),c.xs.set(e,o)}(o,function Ls(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(e),w),{documents:w,qs:f})))}class Nr{constructor(){this.activeTargetIds=function Qt(){return Dt}()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vi{constructor(){this.Fo=new Nr,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,o){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Nr,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class es{xo(e){}shutdown(){}}const aa="ConnectivityMonitor";class Tu{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(aa,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(aa,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nl=null;function dh(){return null===nl?nl=268435456+Math.round(2147483648*Math.random()):nl++,"0x"+nl.toString(16)}const Yl="RestConnection",hh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nf{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${o}/databases/${u}`,this.Ko=this.databaseId.database===Yt?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Wo(e,r,o,u,f){const m=dh(),w=this.Go(e,r.toUriEncodedString());de(Yl,`Sending RPC '${e}' ${m}:`,w,o);const P={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(P,u,f);const{host:V}=new URL(w),oe=(0,He.zJ)(V);return this.jo(e,w,P,o,oe).then(De=>(de(Yl,`Received RPC '${e}' ${m}: `,De),De),De=>{throw Lt(Yl,`RPC '${e}' ${m} failed with error: `,De,"url: ",w,"request:",o),De})}Jo(e,r,o,u,f,m){return this.Wo(e,r,o,u,f)}zo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,f)=>e[f]=u),o&&o.headers.forEach((u,f)=>e[f]=u)}Go(e,r){return`${this.$o}/v1/${r}:${hh[e]}`}terminate(){}}class Xl{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const ts="WebChannelConnection";class Jl extends Nf{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,o,u,f){const m=dh();return new Promise((w,P)=>{const V=new wn;V.setWithCredentials(!0),V.listenOnce(Ot.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Je.NO_ERROR:const De=V.getResponseJson();de(ts,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(De)),w(De);break;case Je.TIMEOUT:de(ts,`RPC '${e}' ${m} timed out`),P(new Re(Le.DEADLINE_EXCEEDED,"Request time out"));break;case Je.HTTP_ERROR:const nt=V.getStatus();if(de(ts,`RPC '${e}' ${m} failed with status:`,nt,"response text:",V.getResponseText()),nt>0){let jt=V.getResponseJson();Array.isArray(jt)&&(jt=jt[0]);const yn=jt?.error;if(yn&&yn.status&&yn.message){const Fn=function(Rr){const ri=Rr.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(ri)>=0?ri:Le.UNKNOWN}(yn.status);P(new Re(Fn,yn.message))}else P(new Re(Le.UNKNOWN,"Server responded with status "+V.getStatus()))}else P(new Re(Le.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{c_:e,streamId:m,l_:V.getLastErrorCode(),h_:V.getLastError()})}}finally{de(ts,`RPC '${e}' ${m} completed.`)}});const oe=JSON.stringify(u);de(ts,`RPC '${e}' ${m} sending request:`,u),V.send(r,"POST",oe,o,15)})}P_(e,r,o){const u=dh(),f=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=$t(),w=_t(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(P.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(P.useFetchStreams=!0),this.zo(P.initMessageHeaders,r,o),P.encodeInitMessageHeaders=!0;const oe=f.join("");de(ts,`Creating RPC '${e}' stream ${u}: ${oe}`,P);const De=m.createWebChannel(oe,P);this.T_(De);let nt=!1,jt=!1;const yn=new Xl({Ho:Bn=>{jt?de(ts,`Not sending because RPC '${e}' stream ${u} is closed:`,Bn):(nt||(de(ts,`Opening RPC '${e}' stream ${u} transport.`),De.open(),nt=!0),de(ts,`RPC '${e}' stream ${u} sending:`,Bn),De.send(Bn))},Yo:()=>De.close()}),Fn=(Bn,Rr,ri)=>{Bn.listen(Rr,Yr=>{try{ri(Yr)}catch(Wi){setTimeout(()=>{throw Wi},0)}})};return Fn(De,Ge.EventType.OPEN,()=>{jt||(de(ts,`RPC '${e}' stream ${u} transport opened.`),yn.s_())}),Fn(De,Ge.EventType.CLOSE,()=>{jt||(jt=!0,de(ts,`RPC '${e}' stream ${u} transport closed`),yn.__(),this.I_(De))}),Fn(De,Ge.EventType.ERROR,Bn=>{jt||(jt=!0,Lt(ts,`RPC '${e}' stream ${u} transport errored. Name:`,Bn.name,"Message:",Bn.message),yn.__(new Re(Le.UNAVAILABLE,"The operation could not be completed")))}),Fn(De,Ge.EventType.MESSAGE,Bn=>{var Rr;if(!jt){const ri=Bn.data[0];pe(!!ri,16349);const Yr=ri,Wi=Yr?.error||(null===(Rr=Yr[0])||void 0===Rr?void 0:Rr.error);if(Wi){de(ts,`RPC '${e}' stream ${u} received error:`,Wi);const vo=Wi.status;let Xi=function(mt){const Nt=Y[mt];if(void 0!==Nt)return Dn(Nt)}(vo),Mt=Wi.message;void 0===Xi&&(Xi=Le.INTERNAL,Mt="Unknown error status: "+vo+" with message "+Wi.message),jt=!0,yn.__(new Re(Xi,Mt)),De.close()}else de(ts,`RPC '${e}' stream ${u} received:`,ri),yn.a_(ri)}}),Fn(w,tn.STAT_EVENT,Bn=>{Bn.stat===Et.PROXY?de(ts,`RPC '${e}' stream ${u} detected buffering proxy`):Bn.stat===Et.NOPROXY&&de(ts,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{yn.o_()},0),yn}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(r=>r===e)}}function Wc(){return typeof document<"u"?document:null}function Da(c){return new tf(c,!0)}class xf{constructor(e,r,o=1e3,u=1.5,f=6e4){this.Fi=e,this.timerId=r,this.d_=o,this.E_=u,this.A_=f,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),o=Math.max(0,Date.now()-this.m_),u=Math.max(0,r-o);u>0&&de("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,u,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const h_="PersistentStream";class Zl{constructor(e,r,o,u,f,m,w,P){this.Fi=e,this.w_=o,this.S_=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=w,this.listener=P,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xf(e,r)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}stop(){var e=this;return(0,fe.A)(function*(){e.M_()&&(yield e.close(0))})()}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){var e=this;return(0,fe.A)(function*(){if(e.x_())return e.close(0)})()}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,r){var o=this;return(0,fe.A)(function*(){o.q_(),o.Q_(),o.F_.cancel(),o.b_++,4!==e?o.F_.reset():r&&r.code===Le.RESOURCE_EXHAUSTED?(at(r.toString()),at("Using maximum backoff delay to prevent overloading the backend."),o.F_.f_()):r&&r.code===Le.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.U_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.n_(r)})()}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.b_===r&&this.W_(o,u)},o=>{e(()=>{const u=new Re(Le.UNKNOWN,"Fetching auth token failed: "+o.message);return this.G_(u)})})}W_(e,r){const o=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo(()=>{o(()=>this.listener.Zo())}),this.stream.e_(()=>{o(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(u=>{o(()=>this.G_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.C_?this.j_(u):this.onNext(u))})}O_(){var e=this;this.state=5,this.F_.g_((0,fe.A)(function*(){e.state=0,e.start()}))}G_(e){return de(h_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget(()=>this.b_===e?r():(de(h_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f_ extends Zl{constructor(e,r,o,u,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,m),this.serializer=f}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=function uc(c,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:ge(39313,{state:V}),u=e.targetChange.targetIds||[],f=function(V,oe){return V.useProto3Json?(pe(void 0===oe||"string"==typeof oe,58123),qt.fromBase64String(oe||"")):(pe(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array,16193),qt.fromUint8Array(oe||new Uint8Array))}(c,e.targetChange.resumeToken),m=e.targetChange.cause,w=m&&function(V){const oe=void 0===V.code?Le.UNKNOWN:Dn(V.code);return new Re(oe,V.message||"")}(m);r=new Vd(o,u,f,w||null)}else if("documentChange"in e){const o=e.documentChange,u=cc(c,o.document.name),f=ss(o.document.updateTime),m=o.document.createTime?ss(o.document.createTime):Un.min(),w=new Oo({mapValue:{fields:o.document.fields}}),P=so.newFoundDocument(u,f,m,w);r=new ru(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,u=cc(c,o.document),f=o.readTime?ss(o.readTime):Un.min(),m=so.newNoDocument(u,f);r=new ru([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,u=cc(c,o.document);r=new ru([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return ge(11601,{At:e});{const o=e.filter,{count:u=0,unchangedNames:f}=o,m=new S(u,f);r=new ef(o.targetId,m)}}var V;return r}(this.serializer,e),o=function(f){if(!("targetChange"in f))return Un.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Un.min():m.readTime?ss(m.readTime):Un.min()}(e);return this.listener.J_(r,o)}H_(e){const r={};r.database=Pl(this.serializer),r.addTarget=function(f,m){let w;const P=m.target;if(w=Jo(P)?{documents:ju(f,P)}:{query:su(f,P).Vt},w.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){w.resumeToken=Sl(f,m.resumeToken);const V=zp(f,m.expectedCount);null!==V&&(w.expectedCount=V)}else if(m.snapshotVersion.compareTo(Un.min())>0){w.readTime=ga(f,m.snapshotVersion.toTimestamp());const V=zp(f,m.expectedCount);null!==V&&(w.expectedCount=V)}return w}(this.serializer,e);const o=function Nc(c,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:u})}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.k_(r)}Y_(e){const r={};r.database=Pl(this.serializer),r.removeTarget=e,this.k_(r)}}class ed{}class hg extends ed{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.ra=!1}ia(){if(this.ra)throw new Re(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,Vu(r,o),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Re(Le.UNKNOWN,f.toString())})}Jo(e,r,o,u,f){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,w])=>this.connection.Jo(e,Vu(r,o),u,m,w,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Re(Le.UNKNOWN,m.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class pE{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(at(r),this._a=!1):de("OnlineStateTracker",r)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const il="RemoteStore";class g_{constructor(e,r,o,u,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=f,this.Ea.xo(w=>{o.enqueueAndForget((0,fe.A)(function*(){var P;Kc(m)&&(de(il,"Restarting streams for network reachability change."),yield(P=(0,fe.A)(function*(oe){const De=Ye(oe);De.Ia.add(4),yield nd(De),De.Aa.set("Unknown"),De.Ia.delete(4),yield td(De)}),function V(oe){return P.apply(this,arguments)})(m))}))}),this.Aa=new pE(o,u)}}function td(c){return fg.apply(this,arguments)}function fg(){return(fg=(0,fe.A)(function*(c){if(Kc(c))for(const e of c.da)yield e(!0)})).apply(this,arguments)}function nd(c){return pg.apply(this,arguments)}function pg(){return(pg=(0,fe.A)(function*(c){for(const e of c.da)yield e(!1)})).apply(this,arguments)}function Au(c,e){const r=Ye(c);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),kf(r)?id(r):ol(r).x_()&&gg(r,e))}function rd(c,e){const r=Ye(c),o=ol(r);r.Ta.delete(e),o.x_()&&m_(r,e),0===r.Ta.size&&(o.x_()?o.B_():Kc(r)&&r.Aa.set("Unknown"))}function gg(c,e){if(c.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Un.min())>0){const r=c.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ol(c).H_(e)}function m_(c,e){c.Ra.$e(e),ol(c).Y_(e)}function id(c){c.Ra=new Oc({getRemoteKeysForTarget:e=>c.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>c.Ta.get(e)||null,lt:()=>c.datastore.serializer.databaseId}),ol(c).start(),c.Aa.aa()}function kf(c){return Kc(c)&&!ol(c).M_()&&c.Ta.size>0}function Kc(c){return 0===Ye(c).Ia.size}function mg(c){c.Ra=void 0}function gE(c){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,fe.A)(function*(c){c.Aa.set("Online")})).apply(this,arguments)}function _g(c){return od.apply(this,arguments)}function od(){return(od=(0,fe.A)(function*(c){c.Ta.forEach((e,r)=>{gg(c,e)})})).apply(this,arguments)}function mE(c,e){return yg.apply(this,arguments)}function yg(){return(yg=(0,fe.A)(function*(c,e){mg(c),kf(c)?(c.Aa.la(e),id(c)):c.Aa.set("Unknown")})).apply(this,arguments)}function _E(c,e,r){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,fe.A)(function*(c,e,r){if(c.Aa.set("Online"),e instanceof Vd&&2===e.state&&e.cause)try{yield(o=(0,fe.A)(function*(f,m){const w=m.cause;for(const P of m.targetIds)f.Ta.has(P)&&(yield f.remoteSyncer.rejectListen(P,w),f.Ta.delete(P),f.Ra.removeTarget(P))}),function u(f,m){return o.apply(this,arguments)})(c,e)}catch(o){de(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ff(c,o)}else if(e instanceof ru?c.Ra.Ye(e):e instanceof ef?c.Ra.it(e):c.Ra.et(e),!r.isEqual(Un.min()))try{const o=yield tl(c.localStore);r.compareTo(o)>=0&&(yield function(f,m){const w=f.Ra.Pt(m);return w.targetChanges.forEach((P,V)=>{if(P.resumeToken.approximateByteSize()>0){const oe=f.Ta.get(V);oe&&f.Ta.set(V,oe.withResumeToken(P.resumeToken,m))}}),w.targetMismatches.forEach((P,V)=>{const oe=f.Ta.get(P);if(!oe)return;f.Ta.set(P,oe.withResumeToken(qt.EMPTY_BYTE_STRING,oe.snapshotVersion)),m_(f,P);const De=new Aa(oe.target,P,V,oe.sequenceNumber);gg(f,De)}),f.remoteSyncer.applyRemoteEvent(w)}(c,r))}catch(o){de(il,"Failed to raise snapshot:",o),yield Ff(c,o)}var o}),Eg.apply(this,arguments)}function Ff(c,e,r){return vg.apply(this,arguments)}function vg(){return(vg=(0,fe.A)(function*(c,e,r){if(!ht(e))throw e;c.Ia.add(1),yield nd(c),c.Aa.set("Offline"),r||(r=()=>tl(c.localStore)),c.asyncQueue.enqueueRetryable((0,fe.A)(function*(){de(il,"Retrying IndexedDB access"),yield r(),c.Ia.delete(1),yield td(c)}))})).apply(this,arguments)}function v_(c,e){return jf.apply(this,arguments)}function jf(){return(jf=(0,fe.A)(function*(c,e){const r=Ye(c);r.asyncQueue.verifyOperationInProgress(),de(il,"RemoteStore received new credentials");const o=Kc(r);r.Ia.add(3),yield nd(r),o&&r.Aa.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),yield td(r)})).apply(this,arguments)}function I_(){return(I_=(0,fe.A)(function*(c,e){const r=Ye(c);e?(r.Ia.delete(2),yield td(r)):e||(r.Ia.add(2),yield nd(r),r.Aa.set("Unknown"))})).apply(this,arguments)}function ol(c){return c.Va||(c.Va=function(r,o,u){const f=Ye(r);return f.ia(),new f_(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Zo:gE.bind(null,c),e_:_g.bind(null,c),n_:mE.bind(null,c),J_:_E.bind(null,c)}),c.da.push(function(){var e=(0,fe.A)(function*(r){r?(c.Va.N_(),kf(c)?id(c):c.Aa.set("Unknown")):(yield c.Va.stop(),mg(c))});return function(r){return e.apply(this,arguments)}}())),c.Va}class T_{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,f){const m=Date.now()+o,w=new T_(e,r,m,u,f);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gh(c,e){if(at("AsyncQueue",`${e}: ${c}`),ht(c))return new Re(Le.UNAVAILABLE,`${e}: ${c}`);throw c}class cd{static emptySet(e){return new cd(e.comparator)}constructor(e){this.comparator=e?(r,o)=>e(r,o)||It.comparator(r.key,o.key):(r,o)=>It.comparator(r.key,o.key),this.keyedMap=x(),this.sortedSet=new Ri(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof cd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new cd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class A_{constructor(){this.fa=new Ri(It.comparator)}track(e){const r=e.doc.key,o=this.fa.get(r);o?0!==e.type&&3===o.type?this.fa=this.fa.insert(r,e):3===e.type&&1!==o.type?this.fa=this.fa.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.fa=this.fa.remove(r):1===e.type&&2===o.type?this.fa=this.fa.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):ge(63341,{At:e,ga:o}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal((r,o)=>{e.push(o)}),e}}class ud{constructor(e,r,o,u,f,m,w,P,V){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=w,this.excludesMetadataChanges=P,this.hasCachedResults=V}static fromInitialDocuments(e,r,o,u,f){const m=[];return r.forEach(w=>{m.push({type:0,doc:w})}),new ud(e,r,cd.emptySet(r),m,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ps(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Tg{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class vE{constructor(){this.queries=D_(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(r,o){const u=Ye(r),f=u.queries;u.queries=D_(),f.forEach((m,w)=>{for(const P of w.wa)P.onError(o)})}(this,new Re(Le.ABORTED,"Firestore shutting down"))}}function D_(){return new Fs(c=>Zo(c),ps)}function Ag(c,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,fe.A)(function*(c,e){const r=Ye(c);let o=3;const u=e.query;let f=r.queries.get(u);f?!f.Sa()&&e.ba()&&(o=2):(f=new Tg,o=e.ba()?0:1);try{switch(o){case 0:f.ya=yield r.onListen(u,!0);break;case 1:f.ya=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const w=gh(m,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(w)}r.queries.set(u,f),f.wa.push(e),e.va(r.onlineState),f.ya&&e.Ca(f.ya)&&wu(r)})).apply(this,arguments)}function sl(c,e){return mh.apply(this,arguments)}function mh(){return(mh=(0,fe.A)(function*(c,e){const r=Ye(c),o=e.query;let u=3;const f=r.queries.get(o);if(f){const m=f.wa.indexOf(e);m>=0&&(f.wa.splice(m,1),0===f.wa.length?u=e.ba()?0:1:!f.Sa()&&e.ba()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Dg(c,e){const r=Ye(c);let o=!1;for(const u of e){const m=r.queries.get(u.query);if(m){for(const w of m.wa)w.Ca(u)&&(o=!0);m.ya=u}}o&&wu(r)}function IE(c,e,r){const o=Ye(c),u=o.queries.get(e);if(u)for(const f of u.wa)f.onError(r);o.queries.delete(e)}function wu(c){c.Da.forEach(e=>{e.next()})}var Wf,w_;(w_=Wf||(Wf={})).Fa="default",w_.Cache="cache";class C_{constructor(e,r,o){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=o||{}}Ca(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new ud(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){return!e.fromCache||!this.ba()||(!this.options.ka||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}Na(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}La(e){e=ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Wf.Cache}}class R_{constructor(e){this.key=e}}class Cg{constructor(e){this.key=e}}class yh{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=Ps(e),this.eu=new cd(this.Xa)}get tu(){return this.Ha}nu(e,r){const o=r?r.ru:new A_,u=r?r.eu:this.eu;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,w=!1;const P="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((oe,De)=>{const nt=u.get(oe),jt=Ds(this.query,De)?De:null,yn=!!nt&&this.mutatedKeys.has(nt.key),Fn=!!jt&&(jt.hasLocalMutations||this.mutatedKeys.has(jt.key)&&jt.hasCommittedMutations);let Bn=!1;nt&&jt?nt.data.isEqual(jt.data)?yn!==Fn&&(o.track({type:3,doc:jt}),Bn=!0):this.iu(nt,jt)||(o.track({type:2,doc:jt}),Bn=!0,(P&&this.Xa(jt,P)>0||V&&this.Xa(jt,V)<0)&&(w=!0)):!nt&&jt?(o.track({type:0,doc:jt}),Bn=!0):nt&&!jt&&(o.track({type:1,doc:nt}),Bn=!0,(P||V)&&(w=!0)),Bn&&(jt?(m=m.add(jt),f=Fn?f.add(oe):f.delete(oe)):(m=m.delete(oe),f=f.delete(oe)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const oe="F"===this.query.limitType?m.last():m.first();m=m.delete(oe.key),f=f.delete(oe.key),o.track({type:1,doc:oe})}return{eu:m,ru:o,Ds:w,mutatedKeys:f}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,u){const f=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const m=e.ru.pa();m.sort((oe,De)=>function(jt,yn){const Fn=Bn=>{switch(Bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{At:Bn})}};return Fn(jt)-Fn(yn)}(oe.type,De.type)||this.Xa(oe.doc,De.doc)),this.su(o),u=null!=u&&u;const w=r&&!u?this.ou():[],P=0===this.Za.size&&this.current&&!u?1:0,V=P!==this.Ya;return this.Ya=P,0!==m.length||V?{snapshot:new ud(this.query,e.eu,f,m,e.mutatedKeys,0===P,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),_u:w}:{_u:w}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new A_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(o=>{this.au(o.key)&&(this.Za=this.Za.add(o.key))});const r=[];return e.forEach(o=>{this.Za.has(o)||r.push(new Cg(o))}),this.Za.forEach(o=>{e.has(o)||r.push(new R_(o))}),r}uu(e){this.Ha=e.qs,this.Za=ke();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return ud.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const ec="SyncEngine";class TE{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class AE{constructor(e){this.key=e,this.lu=!1}}class DE{constructor(e,r,o,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.hu={},this.Pu=new Fs(w=>Zo(w),ps),this.Tu=new Map,this.Iu=new Set,this.du=new Ri(It.comparator),this.Eu=new Map,this.Au=new Kl,this.Ru={},this.Vu=new Map,this.mu=Uc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}function P_(c,e){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,fe.A)(function*(c,e,r=!0){const o=Th(c);let u;const f=o.Pu.get(e);return f?(o.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.cu()):u=yield ld(o,e,r,!0),u})).apply(this,arguments)}function z0(c,e){return bg.apply(this,arguments)}function bg(){return(bg=(0,fe.A)(function*(c,e){const r=Th(c);yield ld(r,e,!0,!1)})).apply(this,arguments)}function ld(c,e,r,o){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,fe.A)(function*(c,e,r,o){const u=yield function vu(c,e){const r=Ye(c);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.hi.getTargetData(o,e).next(f=>f?(u=f,z.resolve(u)):r.hi.allocateTargetId(o).next(m=>(u=new Aa(e,m,"TargetPurposeListen",o.currentSequenceNumber),r.hi.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.Fs.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(o.targetId,o),r.Ms.set(e,o.targetId)),o})}(c.localStore,xt(e)),f=u.targetId,m=c.sharedClientState.addLocalQueryTarget(f,r);let w;return o&&(w=yield function Hf(c,e,r,o,u){return Rg.apply(this,arguments)}(c,e,f,"current"===m,u.resumeToken)),c.isPrimaryClient&&r&&Au(c.remoteStore,u),w})).apply(this,arguments)}function Rg(){return Rg=(0,fe.A)(function*(c,e,r,o,u){c.gu=(De,nt,jt)=>{return(yn=(0,fe.A)(function*(Bn,Rr,ri,Yr){let Wi=Rr.view.nu(ri);Wi.Ds&&(Wi=yield ql(Bn.localStore,Rr.query,!1).then(({documents:rt})=>Rr.view.nu(rt,Wi)));const vo=Yr&&Yr.targetChanges.get(Rr.targetId),Xi=Yr&&null!=Yr.targetMismatches.get(Rr.targetId),Mt=Rr.view.applyChanges(Wi,Bn.isPrimaryClient,vo,Xi);return Cu(Bn,Rr.targetId,Mt._u),Mt.snapshot}),function Fn(Bn,Rr,ri,Yr){return yn.apply(this,arguments)})(c,De,nt,jt);var yn};const f=yield ql(c.localStore,e,!0),m=new yh(e,f.qs),w=m.nu(f.documents),P=wl.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==c.onlineState,u),V=m.applyChanges(w,c.isPrimaryClient,P);Cu(c,r,V._u);const oe=new TE(e,r,m);return c.Pu.set(e,oe),c.Tu.has(r)?c.Tu.get(r).push(e):c.Tu.set(r,[e]),V.snapshot}),Rg.apply(this,arguments)}function M_(c,e,r){return zf.apply(this,arguments)}function zf(){return(zf=(0,fe.A)(function*(c,e,r){const o=Ye(c),u=o.Pu.get(e),f=o.Tu.get(u.targetId);if(f.length>1)return o.Tu.set(u.targetId,f.filter(m=>!ps(m,e))),void o.Pu.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Iu(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&rd(o.remoteStore,u.targetId),Ec(o,u.targetId)}).catch(ze))):(Ec(o,u.targetId),yield Iu(o.localStore,u.targetId,!0))})).apply(this,arguments)}function wE(c,e){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,fe.A)(function*(c,e){const r=Ye(c),o=r.Pu.get(e),u=r.Tu.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),rd(r.remoteStore,o.targetId))})).apply(this,arguments)}function qf(c,e){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,fe.A)(function*(c,e){const r=Ye(c);try{const o=yield function d_(c,e){const r=Ye(c),o=e.snapshotVersion;let u=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.Os.newChangeBuffer({trackRemovals:!0});u=r.Fs;const w=[];e.targetChanges.forEach((oe,De)=>{const nt=u.get(De);if(!nt)return;w.push(r.hi.removeMatchingKeys(f,oe.removedDocuments,De).next(()=>r.hi.addMatchingKeys(f,oe.addedDocuments,De)));let jt=nt.withSequenceNumber(f.currentSequenceNumber);var Fn,Bn,Rr;null!==e.targetMismatches.get(De)?jt=jt.withResumeToken(qt.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):oe.resumeToken.approximateByteSize()>0&&(jt=jt.withResumeToken(oe.resumeToken,o)),u=u.insert(De,jt),Bn=jt,Rr=oe,(0===(Fn=nt).resumeToken.approximateByteSize()||Bn.snapshotVersion.toMicroseconds()-Fn.snapshotVersion.toMicroseconds()>=3e8||Rr.addedDocuments.size+Rr.modifiedDocuments.size+Rr.removedDocuments.size>0)&&w.push(r.hi.updateTargetData(f,jt))});let P=Go(),V=ke();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(f,oe))}),w.push(function cg(c,e,r){let o=ke(),u=ke();return r.forEach(f=>o=o.add(f)),e.getEntries(c,o).next(f=>{let m=Go();return r.forEach((w,P)=>{const V=f.get(w);P.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(w)),P.isNoDocument()&&P.version.isEqual(Un.min())?(e.removeEntry(w,P.readTime),m=m.insert(w,P)):!V.isValidDocument()||P.version.compareTo(V.version)>0||0===P.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(P),m=m.insert(w,P)):de(Rf,"Ignoring outdated watch update for ",w,". Current version:",V.version," Watch version:",P.version)}),{Ls:m,ks:u}})}(f,m,e.documentUpdates).next(oe=>{P=oe.Ls,V=oe.ks})),!o.isEqual(Un.min())){const oe=r.hi.getLastRemoteSnapshotVersion(f).next(De=>r.hi.setTargetsMetadata(f,f.currentSequenceNumber,o));w.push(oe)}return z.waitFor(w).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,P,V)).next(()=>P)}).then(f=>(r.Fs=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const m=r.Eu.get(f);m&&(pe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?m.lu=!0:u.modifiedDocuments.size>0?pe(m.lu,14607):u.removedDocuments.size>0&&(pe(m.lu,42227),m.lu=!1))}),yield vc(r,o,e)}catch(o){yield ze(o)}})).apply(this,arguments)}function O_(c,e,r){const o=Ye(c);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Pu.forEach((f,m)=>{const w=m.view.va(e);w.snapshot&&u.push(w.snapshot)}),function(m,w){const P=Ye(m);P.onlineState=w;let V=!1;P.queries.forEach((oe,De)=>{for(const nt of De.wa)nt.va(w)&&(V=!0)}),V&&wu(P)}(o.eventManager,e),u.length&&o.hu.J_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function bE(c,e,r){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,fe.A)(function*(c,e,r){const o=Ye(c);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Eu.get(e),f=u&&u.key;if(f){let m=new Ri(It.comparator);m=m.insert(f,so.newNoDocument(f,Un.min()));const w=ke().add(f),P=new Mc(Un.min(),new Map,new Ri(Vn),m,w);yield qf(o,P),o.du=o.du.remove(f),o.Eu.delete(e),bu(o)}else yield Iu(o.localStore,e,!1).then(()=>Ec(o,e,r)).catch(ze)})).apply(this,arguments)}function Ec(c,e,r=null){c.sharedClientState.removeLocalQueryTarget(e);for(const o of c.Tu.get(e))c.Pu.delete(o),r&&c.hu.pu(o,r);c.Tu.delete(e),c.isPrimaryClient&&c.Au.zr(e).forEach(o=>{c.Au.containsKey(o)||Qf(c,o)})}function Qf(c,e){c.Iu.delete(e.path.canonicalString());const r=c.du.get(e);null!==r&&(rd(c.remoteStore,r),c.du=c.du.remove(e),c.Eu.delete(r),bu(c))}function Cu(c,e,r){for(const o of r)o instanceof R_?(c.Au.addReference(o.key,e),Ng(c,o)):o instanceof Cg?(de(ec,"Document no longer in limbo: "+o.key),c.Au.removeReference(o.key,e),c.Au.containsKey(o.key)||Qf(c,o.key)):ge(19791,{yu:o})}function Ng(c,e){const r=e.key,o=r.path.canonicalString();c.du.get(r)||c.Iu.has(o)||(de(ec,"New document in limbo: "+r),c.Iu.add(o),bu(c))}function bu(c){for(;c.Iu.size>0&&c.du.size<c.maxConcurrentLimboResolutions;){const e=c.Iu.values().next().value;c.Iu.delete(e);const r=new It(Ct.fromString(e)),o=c.mu.next();c.Eu.set(o,new AE(r)),c.du=c.du.insert(r,o),Au(c.remoteStore,new Aa(xt(q(r.path)),o,"TargetPurposeLimboResolution",Ni.ue))}}function vc(c,e,r){return vh.apply(this,arguments)}function vh(){return vh=(0,fe.A)(function*(c,e,r){const o=Ye(c),u=[],f=[],m=[];var w;o.Pu.isEmpty()||(o.Pu.forEach((w,P)=>{m.push(o.gu(P,e,r).then(V=>{var oe;if((V||r)&&o.isPrimaryClient){const De=V?!V.fromCache:null===(oe=r?.targetChanges.get(P.targetId))||void 0===oe?void 0:oe.current;o.sharedClientState.updateQueryState(P.targetId,De?"current":"not-current")}if(V){u.push(V);const De=Sf.Es(P.targetId,V);f.push(De)}}))}),yield Promise.all(m),o.hu.J_(u),yield(w=(0,fe.A)(function*(V,oe){const De=Ye(V);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>z.forEach(oe,jt=>z.forEach(jt.Is,yn=>De.persistence.referenceDelegate.addReference(nt,jt.targetId,yn)).next(()=>z.forEach(jt.ds,yn=>De.persistence.referenceDelegate.removeReference(nt,jt.targetId,yn)))))}catch(nt){if(!ht(nt))throw nt;de(Rf,"Failed to update sequence numbers: "+nt)}for(const nt of oe){const jt=nt.targetId;if(!nt.fromCache){const yn=De.Fs.get(jt),Bn=yn.withLastLimboFreeSnapshotVersion(yn.snapshotVersion);De.Fs=De.Fs.insert(jt,Bn)}}}),function P(V,oe){return w.apply(this,arguments)})(o.localStore,f))}),vh.apply(this,arguments)}function RE(c,e){return xg.apply(this,arguments)}function xg(){return(xg=(0,fe.A)(function*(c,e){const r=Ye(c);if(!r.currentUser.isEqual(e)){de(ec,"User change. New user:",e.toKey());const o=yield u_(r.localStore,e);r.currentUser=e,(f=r).Vu.forEach(w=>{w.forEach(P=>{P.reject(new Re(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Vu.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield vc(r,o.Bs)}var f})).apply(this,arguments)}function PE(c,e){const r=Ye(c),o=r.Eu.get(e);if(o&&o.lu)return ke().add(o.key);{let u=ke();const f=r.Tu.get(e);if(!f)return u;for(const m of f){const w=r.Pu.get(m);u=u.unionWith(w.view.tu)}return u}}function Th(c){const e=Ye(c);return e.remoteStore.remoteSyncer.applyRemoteEvent=qf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bE.bind(null,e),e.hu.J_=Dg.bind(null,e.eventManager),e.hu.pu=IE.bind(null,e.eventManager),e}let Su=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,fe.A)(function*(){o.serializer=Da(r.databaseInfo.databaseId),o.sharedClientState=o.bu(r),o.persistence=o.Du(r),yield o.persistence.start(),o.localStore=o.vu(r),o.gcScheduler=o.Cu(r,o.localStore),o.indexBackfillerScheduler=o.Fu(r,o.localStore)})()}Cu(r,o){return null}Fu(r,o){return null}vu(r){return function Pf(c,e,r,o){return new c_(c,e,r,o)}(this.persistence,new ag,r.initialUser,this.serializer)}Du(r){return new th(Za.Vi,this.serializer)}bu(r){return new Vi}terminate(){var r=this;return(0,fe.A)(function*(){var o,u;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class Wo extends Su{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){return pe(this.persistence.referenceDelegate instanceof Hl,46915),new Va(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Du(e){const r=void 0!==this.cacheSizeBytes?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new th(o=>Hl.Vi(o,r),this.serializer)}}let Bs=(()=>{class c{initialize(r,o){var u=this;return(0,fe.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>O_(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=RE.bind(null,u.syncEngine),yield function $f(c,e){return I_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new vE}createDatastore(r){const o=Da(r.databaseInfo.databaseId),u=new Jl(r.databaseInfo);return new hg(r.authCredentials,r.appCheckCredentials,u,o)}createRemoteStore(r){return u=this.localStore,f=this.datastore,m=r.asyncQueue,w=o=>O_(this.syncEngine,o,0),P=Tu.C()?new Tu:new es,new g_(u,f,m,w,P);var u,f,m,w,P}createSyncEngine(r,o){return function(f,m,w,P,V,oe,De){const nt=new DE(f,m,w,P,V,oe);return De&&(nt.fu=!0),nt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,fe.A)(function*(){var o,u,f;yield(f=(0,fe.A)(function*(w){const P=Ye(w);de(il,"RemoteStore shutting down."),P.Ia.add(5),yield nd(P),P.Ea.shutdown(),P.Aa.set("Unknown")}),function m(w){return f.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class wh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}const Ru="FirestoreClient";class Jf{constructor(e,r,o,u,f){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=On.UNAUTHENTICATED,this.clientId=mi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(o,function(){var w=(0,fe.A)(function*(P){de(Ru,"Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(o,w=>(de(Ru,"Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=gh(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function U_(c,e){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,fe.A)(function*(c,e){c.asyncQueue.verifyOperationInProgress(),de(Ru,"Initializing OfflineComponentProvider");const r=c.configuration;yield e.initialize(r);let o=r.initialUser;c.setCredentialChangeListener(function(){var u=(0,fe.A)(function*(f){o.isEqual(f)||(yield u_(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>{Lt("Terminating Firestore due to IndexedDb database deletion"),c.terminate().then(()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(u=>{Lt("Terminating Firestore due to IndexedDb database deletion failed",u)})}),c._offlineComponents=e}),Tc.apply(this,arguments)}function j_(c,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,fe.A)(function*(c,e){c.asyncQueue.verifyOperationInProgress();const r=yield function jg(c){return $g.apply(this,arguments)}(c);de(Ru,"Initializing OnlineComponentProvider"),yield e.initialize(r,c.configuration),c.setCredentialChangeListener(o=>v_(e.remoteStore,o)),c.setAppCheckTokenChangeListener((o,u)=>v_(e.remoteStore,u)),c._onlineComponents=e})).apply(this,arguments)}function $g(){return($g=(0,fe.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){de(Ru,"Using user provided OfflineComponentProvider");try{yield U_(c,c._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===Le.FAILED_PRECONDITION||u.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;Lt("Error using user provided cache. Falling back to memory cache: "+e),yield U_(c,new Su)}}else de(Ru,"Using default OfflineComponentProvider"),yield U_(c,new Wo(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function $_(){return($_=(0,fe.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(de(Ru,"Using user provided OnlineComponentProvider"),yield j_(c,c._uninitializedComponentsProvider._online)):(de(Ru,"Using default OnlineComponentProvider"),yield j_(c,new Bs))),c._onlineComponents})).apply(this,arguments)}function fd(c){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,fe.A)(function*(c){const e=yield function Zf(c){return $_.apply(this,arguments)}(c),r=e.eventManager;return r.onListen=P_.bind(null,e.syncEngine),r.onUnlisten=M_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=z0.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wE.bind(null,e.syncEngine),r})).apply(this,arguments)}function qg(c){const e={};return void 0!==c.timeoutSeconds&&(e.timeoutSeconds=c.timeoutSeconds),e}const np=new Map,Qg="firestore.googleapis.com";class Q_{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qg,this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function sr(c,e,r,o){if(!0===e&&!0===o)throw new Re(Le.INVALID_ARGUMENT,`${c} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qg(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Re(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Re(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Re(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new vn;switch(o.type){case"firstParty":return new En(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Re(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,fe.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=np.get(r);o&&(de("ComponentProvider","Removing Datastore"),np.delete(r),o.terminate())}(this),Promise.resolve()}}class Is{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class So{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new So(this.firestore,e,this._key)}toJSON(){return{type:So._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,o){if(br(r,So._jsonSchema))return new So(e,o||null,new It(Ct.fromString(r.referencePath)))}}So._jsonSchemaVersion="firestore/documentReference/1.0",So._jsonSchema={type:yr("string",So._jsonSchemaVersion),referencePath:yr("string")};class tc extends Is{constructor(e,r,o){super(e,r,q(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new So(this.firestore,null,new It(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function Xg(c,e,...r){if(c=(0,He.Ku)(c),Gn("collection","path",e),c instanceof Ch){const o=Ct.fromString(e,...r);return gr(o),new tc(c,null,o)}{if(!(c instanceof So||c instanceof tc))throw new Re(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(Ct.fromString(e,...r));return gr(o),new tc(c.firestore,null,o)}}function X_(c,e,...r){if(c=(0,He.Ku)(c),1===arguments.length&&(e=mi.newId()),Gn("doc","path",e),c instanceof Ch){const o=Ct.fromString(e,...r);return Pr(o),new So(c,null,new It(o))}{if(!(c instanceof So||c instanceof tc))throw new Re(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(Ct.fromString(e,...r));return Pr(o),new So(c.firestore,c instanceof tc?c.converter:null,new It(o))}}const Z_="AsyncQueue";class Jg{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xf(this,"async_queue_retry"),this.oc=()=>{const o=Wc();o&&de(Z_,"Visibility state changed to "+o.visibilityState),this.F_.y_()},this._c=e;const r=Wc();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=Wc();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const r=new sn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){var e=this;return(0,fe.A)(function*(){if(0!==e.Zu.length){try{yield e.Zu[0](),e.Zu.shift(),e.F_.reset()}catch(r){if(!ht(r))throw r;de(Z_,"Operation failed with retryable error: "+r)}e.Zu.length>0&&e.F_.g_(()=>e.cc())}})()}uc(e){const r=this._c.then(()=>(this.nc=!0,e().catch(o=>{throw this.tc=o,this.nc=!1,at("INTERNAL UNHANDLED ERROR: ",rp(o)),o}).then(o=>(this.nc=!1,o))));return this._c=r,r}enqueueAfterDelay(e,r,o){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const u=T_.createAndSchedule(this,e,r,o,f=>this.lc(f));return this.ec.push(u),u}ac(){this.tc&&ge(47125,{hc:rp(this.tc)})}verifyOperationInProgress(){}Pc(){var e=this;return(0,fe.A)(function*(){let r;do{r=e._c,yield r}while(r!==e._c)})()}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.ec)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function rp(c){let e=c.message||"";return c.stack&&(e=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),e}class ko extends Ch{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new Jg,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,fe.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Jg(r),e._firestoreClient=void 0,yield r}})()}}function ty(c,e){const r="object"==typeof c?c:(0,Ae.Sx)(),o="string"==typeof c?c:e||Yt,u=(0,Ae.j6)(r,"firestore").getImmediate({identifier:o});if(!u._initialized){const f=(0,He.yU)("firestore");f&&function G0(c,e,r,o={}){var u;c=Nn(c,Ch);const f=(0,He.zJ)(e),m=c._getSettings(),w=Object.assign(Object.assign({},m),{emulatorOptions:c._getEmulatorOptions()}),P=`${e}:${r}`;f&&((0,He.gE)(`https://${P}`),(0,He.P1)("Firestore",!0)),m.host!==Qg&&m.host!==P&&Lt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const V=Object.assign(Object.assign({},m),{host:P,ssl:f,emulatorOptions:o});if(!(0,He.bD)(V,w)&&(c._setSettings(V),o.mockUserToken)){let oe,De;if("string"==typeof o.mockUserToken)oe=o.mockUserToken,De=On.MOCK_USER;else{oe=(0,He.Fy)(o.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const nt=o.mockUserToken.sub||o.mockUserToken.user_id;if(!nt)throw new Re(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");De=new On(nt)}c._authCredentials=new ur(new Jt(oe,De))}}(u,...f)}return u}function as(c){if(c._terminated)throw new Re(Le.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function ip(c){var e,r,o;const u=c._freezeSettings(),f=(P=(null===(e=c._app)||void 0===e?void 0:e.options.appId)||"",new Wt(c._databaseId,P,c._persistenceKey,(oe=u).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,qg(oe.experimentalLongPollingOptions),oe.useFetchStreams,oe.isUsingEmulator));var P,oe;c._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new Jf(c._authCredentials,c._appCheckCredentials,c._queue,f,c._componentsProvider&&function(w){const P=w?._online.build();return{_offline:w?._offline.build(P),_online:P}}(c._componentsProvider))}(c),c._firestoreClient}class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(qt.fromBase64String(e))}catch(r){throw new Re(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wa(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(br(e,wa._jsonSchema))return wa.fromBase64String(e.bytes)}}wa._jsonSchemaVersion="firestore/bytes/1.0",wa._jsonSchema={type:yr("string",wa._jsonSchemaVersion),bytes:yr("string")};class gd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Re(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class md{constructor(e){this._methodName=e}}class Ac{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Re(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Re(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vn(this._lat,e._lat)||Vn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ac._jsonSchemaVersion}}static fromJSON(e){if(br(e,Ac._jsonSchema))return new Ac(e.latitude,e.longitude)}}Ac._jsonSchemaVersion="firestore/geoPoint/1.0",Ac._jsonSchema={type:yr("string",Ac._jsonSchemaVersion),latitude:yr("number"),longitude:yr("number")};class Ca{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,u){if(o.length!==u.length)return!1;for(let f=0;f<o.length;++f)if(o[f]!==u[f])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(br(e,Ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>"number"==typeof r))return new Ca(e.vectorValues);throw new Re(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ca._jsonSchemaVersion="firestore/vectorValue/1.0",Ca._jsonSchema={type:yr("string",Ca._jsonSchemaVersion),vectorValues:yr("object")};const oy=/^__.*__$/;function QE(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ec:c})}}class tm{constructor(e,r,o,u,f,m){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===f&&this.Ac(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Rc({path:o,mc:!1});return u.fc(e),u}gc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Rc({path:o,mc:!1});return u.Ac(),u}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(QE(this.Ec)&&oy.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class YE{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Da(e)}Dc(e,r,o,u=!1){return new tm({Ec:e,methodName:r,bc:o,path:Ht.emptyPath(),mc:!1,Sc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ll(c,e){if(ay(c=(0,He.Ku)(c)))return function sm(c,e,r){if(!ay(r)||!Jr(r)){const o=Ur(r);throw e.wc("an object"===o?c+" a custom object":c+" "+o)}}("Unsupported field value:",e,c),function om(c,e){const r={};return As(c)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(c,(o,u)=>{const f=ll(u,e.Vc(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}(c,e);if(c instanceof md)return function(o,u){if(!QE(u.Ec))throw u.wc(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.wc(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(c,e),null;if(void 0===c&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),c instanceof Array){if(e.settings.mc&&4!==e.Ec)throw e.wc("Nested arrays are not supported");return function(o,u){const f=[];let m=0;for(const w of o){let P=ll(w,u.yc(m));null==P&&(P={nullValue:"NULL_VALUE"}),f.push(P),m++}return{arrayValue:{values:f}}}(c,e)}return function(o,u){if(null===(o=(0,He.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return pi(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Er.fromDate(o);return{timestampValue:ga(u.serializer,f)}}if(o instanceof Er){const f=new Er(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ga(u.serializer,f)}}if(o instanceof Ac)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof wa)return{bytesValue:Sl(u.serializer,o._byteString)};if(o instanceof So){const f=u.databaseId,m=o.firestore._databaseId;if(!m.isEqual(f))throw u.wc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:jd(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof Ca)return m=o,w=u,{mapValue:{fields:{[kn]:{stringValue:wi},[Mi]:{arrayValue:{values:m.toArray().map(V=>{if("number"!=typeof V)throw w.wc("VectorValues must only contain numeric values.");return Yn(w.serializer,V)})}}}}};var m,w;throw u.wc(`Unsupported field value: ${Ur(o)}`)}(c,e)}function ay(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Er||c instanceof Ac||c instanceof wa||c instanceof So||c instanceof md||c instanceof Ca)}const XE=new RegExp("[~\\*/\\[\\]]");function Rh(c,e,r,o,u){const f=o&&!o.isEmpty(),m=void 0!==u;let w=`Function ${e}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let P="";return(f||m)&&(P+=" (found",f&&(P+=` in field ${o}`),m&&(P+=` in document ${u}`),P+=")"),new Re(Le.INVALID_ARGUMENT,w+c+P)}class yd{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new So(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class cy extends yd{data(){return super.data()}}function dl(c,e){return"string"==typeof e?function up(c,e,r){if(e.search(XE)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,r);try{return new gd(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,r)}}(c,e):e instanceof gd?e._internalPath:e._delegate._internalPath}class cm{}class Ed extends cm{}function um(c,e,...r){let o=[];e instanceof cm&&o.push(e),o=o.concat(r),function(f){const m=f.filter(P=>P instanceof Ou).length,w=f.filter(P=>P instanceof Ph).length;if(m>1||m>0&&w>0)throw new Re(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)c=u._apply(c);return c}class Ph extends Ed{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Ph(e,r,o)}_apply(e){const r=this._parse(e);return Nu(e._query,r),new Is(e.firestore,e.converter,Ao(e._query,r))}_parse(e){const r=function Mu(c){const e=c._freezeSettings(),r=Da(c._databaseId);return new YE(c._databaseId,!!e.ignoreUndefinedProperties,r)}(e.firestore);return function(f,m,w,P,V,oe,De){let nt;if(V.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new Re(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){ly(De,oe);const yn=[];for(const Fn of De)yn.push(dm(P,f,Fn));nt={arrayValue:{values:yn}}}else nt=dm(P,f,De)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||ly(De,oe),nt=function cp(c,e,r,o=!1){return ll(r,c.Dc(o?4:3,e))}(w,"where",De,"in"===oe||"not-in"===oe);return xi.create(V,oe,nt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function JE(c,e,r){const o=e,u=dl("where",c);return Ph._create(u,o,r)}class Ou extends cm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ou(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Gi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let m=u;const w=f.getFlattenedFilters();for(const P of w)Nu(m,P),m=Ao(m,P)}(e._query,r),new Is(e.firestore,e.converter,Ao(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lm extends Ed{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new lm(e,r)}_apply(e){const r=function(u,f,m){if(null!==u.startAt)throw new Re(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Re(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ws(f,m)}(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new b(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function ZE(c,e="asc"){const r=e,o=dl("orderBy",c);return lm._create(o,r)}class lp extends Ed{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new lp(e,r,o)}_apply(e){return new Is(e.firestore,e.converter,os(e._query,this._limit,this._limitType))}}function ev(c){return function xr(c,e){if(e<=0)throw new Re(Le.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${e}.`)}("limit",c),lp._create("limit",c,"F")}function dm(c,e,r){if("string"==typeof(r=(0,He.Ku)(r))){if(""===r)throw new Re(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!We(e)&&-1!==r.indexOf("/"))throw new Re(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Ct.fromString(r));if(!It.isDocumentKey(o))throw new Re(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return bs(c,new It(o))}if(r instanceof So)return bs(c,r._key);throw new Re(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ur(r)}.`)}function ly(c,e){if(!Array.isArray(c)||0===c.length)throw new Re(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nu(c,e){const r=function(u,f){for(const m of u)for(const w of m.getFlattenedFilters())if(f.indexOf(w.op)>=0)return w.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Re(Le.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class hm{convertValue(e,r="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return mo(e,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertVectorValue(e){var r,o,u;const f=null===(u=null===(o=null===(r=e.fields)||void 0===r?void 0:r[Mi].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(m=>zn(m.doubleValue));return new Ca(f)}convertGeoPoint(e){return new Ac(zn(e.latitude),zn(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=me(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Xe(e));default:return null}}convertTimestamp(e){const r=hr(e);return new Er(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Ct.fromString(e);pe(Zp(o),9688,{name:e});const u=new jn(o.get(1),o.get(3)),f=new It(o.popFirst(5));return u.isEqual(r)||at(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}class ba{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ws extends yd{constructor(e,r,o,u,f,m){super(e,r,o,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ws._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle="NOT SUPPORTED",r):r}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:yr("string",ws._jsonSchemaVersion),bundleSource:yr("string","DocumentSnapshot"),bundleName:yr("string"),bundle:yr("string")};class fl extends ws{data(e={}){return super.data(e)}}class Sa{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new ba(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new fl(this._firestore,this._userDataWriter,o.key,o,new ba(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new fl(u._firestore,u._userDataWriter,w.doc.key,w.doc,new ba(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>f||3!==w.type).map(w=>{const P=new fl(u._firestore,u._userDataWriter,w.doc.key,w.doc,new ba(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let V=-1,oe=-1;return 0!==w.type&&(V=m.indexOf(w.doc.key),m=m.delete(w.doc.key)),1!==w.type&&(m=m.add(w.doc),oe=m.indexOf(w.doc.key)),{type:pl(w.type),doc:P,oldIndex:V,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mi.newId();const r=[],o=[],u=[];return this.docs.forEach(f=>{null!==f._document&&(r.push(f._document),o.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))}),e.bundle="NOT SUPPORTED",e}}function pl(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:c})}}function Id(c){c=Nn(c,So);const e=Nn(c.firestore,ko);return function Hg(c,e,r={}){const o=new sn;return c.asyncQueue.enqueueAndForget((0,fe.A)(function*(){return function(f,m,w,P,V){const oe=new wh({next:nt=>{oe.Ou(),m.enqueueAndForget(()=>sl(f,De));const jt=nt.docs.has(w);!jt&&nt.fromCache?V.reject(new Re(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):jt&&nt.fromCache&&P&&"server"===P.source?V.reject(new Re(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(nt)},error:nt=>V.reject(nt)}),De=new C_(q(w.path),oe,{includeMetadataChanges:!0,ka:!0});return Ag(f,De)}(yield fd(c),c.asyncQueue,e,r,o)})),o.promise}(as(e),c._key).then(r=>function Oh(c,e,r){const o=r.docs.get(e._key),u=new xu(c);return new ws(c,u,e._key,o,new ba(r.hasPendingWrites,r.fromCache),e.converter)}(e,c,r))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:yr("string",Sa._jsonSchemaVersion),bundleSource:yr("string","QuerySnapshot"),bundleName:yr("string"),bundle:yr("string")};class xu extends hm{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new So(this.firestore,null,r)}}function mp(c){c=Nn(c,Is);const e=Nn(c.firestore,ko),r=as(e),o=new xu(e);return function uy(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Re(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(c._query),function z_(c,e,r={}){const o=new sn;return c.asyncQueue.enqueueAndForget((0,fe.A)(function*(){return function(f,m,w,P,V){const oe=new wh({next:nt=>{oe.Ou(),m.enqueueAndForget(()=>sl(f,De)),nt.fromCache&&"server"===P.source?V.reject(new Re(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(nt)},error:nt=>V.reject(nt)}),De=new C_(w,oe,{includeMetadataChanges:!0,ka:!0});return Ag(f,De)}(yield fd(c),c.asyncQueue,e,r,o)})),o.promise}(r,c._query).then(u=>new Sa(e,o,c,u))}!function(e,r=!0){rr=Ae.MF,(0,Ae.om)(new Ce.uA("firestore",(o,{instanceIdentifier:u,options:f})=>{const m=o.getProvider("app").getImmediate(),w=new ko(new ft(o.getProvider("auth-internal")),new _r(m,o.getProvider("app-check-internal")),function(V,oe){if(!Object.prototype.hasOwnProperty.apply(V.options,["projectId"]))throw new Re(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jn(V.options.projectId,oe)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),w._setSettings(f),w},"PUBLIC").setMultipleInstances(!0)),(0,Ae.KO)(Tn,"4.8.0",e),(0,Ae.KO)(Tn,"4.8.0","esm2017")}();class qc{constructor(e){return e}}const Nh="firestore",vm=new a.nKC("angularfire2.firestore-instances");function Ey(c){return(e,r)=>{const o=e.runOutsideAngular(()=>c(r));return new qc(o)}}const Sv={provide:class bv{constructor(){return(0,L.CA)(Nh)}},deps:[[new B.Xx1,vm]]},Rv={provide:qc,useFactory:function Ip(c,e){const r=(0,L.lR)(Nh,c,e);return r&&new qc(r)},deps:[[new B.Xx1,vm],_e.XU]};function Pv(c,...e){return(0,j.KO)("angularfire",L.xv.full,"fst"),(0,a.EmA)([Rv,Sv,{provide:vm,useFactory:Ey(c),multi:!0,deps:[B.SKi,a.zZn,L.u0,_e.gL,[new B.Xx1,ct.DF],[new B.Xx1,$e.kR],...e]}])}const Ty=(0,L.S3)(Xg,!0,2),kv=(0,L.S3)(X_,!0,2),wy=(0,L.S3)(Id,!0),Lv=(0,L.S3)(mp,!0),Fv=(0,L.S3)(ty,!0),Bv=(0,L.S3)(ev,!0,2),Uv=(0,L.S3)(ZE,!0,2),jv=(0,L.S3)(um,!0,2),QI=(0,L.S3)(JE,!0,2)},8025:(Hn,vt,I)=>{I.d(vt,{N:()=>$e});class L{constructor(j){this.id=j,this.createdAt=new Date,this.updatedAt=new Date}update(){this.updatedAt=new Date}}var a=I(8466),B=function(ct){return ct.SERVICE="service",ct.PRODUCT="product",ct.EMPLOYMENT="employment",ct.PARTNERSHIP="partnership",ct.LICENSING="licensing",ct.LEASE="lease",ct}(B||{});class _e{constructor(j){this._value=j}static create(j){return this.isValid(j)?new _e(j):null}static isValid(j){return Object.values(B).includes(j)}get value(){return this._value}isService(){return this._value===B.SERVICE}isProduct(){return this._value===B.PRODUCT}isEmployment(){return this._value===B.EMPLOYMENT}isPartnership(){return this._value===B.PARTNERSHIP}isLicensing(){return this._value===B.LICENSING}isLease(){return this._value===B.LEASE}getDisplayName(){return{[B.SERVICE]:"\u670d\u52d9\u5408\u7d04",[B.PRODUCT]:"\u7522\u54c1\u5408\u7d04",[B.EMPLOYMENT]:"\u50f1\u50ad\u5408\u7d04",[B.PARTNERSHIP]:"\u5408\u4f5c\u5408\u7d04",[B.LICENSING]:"\u6388\u6b0a\u5408\u7d04",[B.LEASE]:"\u79df\u8cc3\u5408\u7d04"}[this._value]}toString(){return this._value}equals(j){return this._value===j._value}}class $e extends L{constructor(j){super(j.id),this._title=j.title,this._description=j.description,this._contractNumber=j.contractNumber,this._status=a.U.create(j.status),this._type=_e.create(j.type),this._startDate=j.startDate,this._endDate=j.endDate,this._amount=j.amount,this._currency=j.currency,this._partyA=j.partyA,this._partyB=j.partyB,this._terms=[...j.terms],this._attachments=[...j.attachments]}static create(j){return this.isValidProps(j)?new $e(j):null}static isValidProps(j){return!!(j.title&&j.contractNumber&&j.startDate&&j.endDate&&j.amount>0&&j.partyA&&j.partyB&&j.startDate<j.endDate)}get title(){return this._title}get description(){return this._description}get contractNumber(){return this._contractNumber}get status(){return this._status}get type(){return this._type}get startDate(){return this._startDate}get endDate(){return this._endDate}get amount(){return this._amount}get currency(){return this._currency}get partyA(){return this._partyA}get partyB(){return this._partyB}get terms(){return[...this._terms]}get attachments(){return[...this._attachments]}isActive(){const j=new Date;return this._status.isActive()&&j>=this._startDate&&j<=this._endDate}isExpired(){return new Date>this._endDate}isExpiringSoon(){const fe=new Date((new Date).getTime()+2592e6);return this._status.isActive()&&this._endDate<=fe}getDurationInDays(){const j=this._endDate.getTime()-this._startDate.getTime();return Math.ceil(j/864e5)}getRemainingDays(){const j=new Date;if(j>this._endDate)return 0;const fe=this._endDate.getTime()-j.getTime();return Math.ceil(fe/864e5)}canModify(){return this._status.isDraft()}canDelete(){return this._status.isDraft()}toObject(){return{id:this.id,title:this._title,description:this._description,contractNumber:this._contractNumber,status:this._status.value,type:this._type.value,startDate:this._startDate,endDate:this._endDate,amount:this._amount,currency:this._currency,partyA:this._partyA,partyB:this._partyB,terms:[...this._terms],attachments:[...this._attachments]}}}},8242:(Hn,vt,I)=>{I.d(vt,{x:()=>$e});var L=I(2662),B=I(6579),_e=I(3840);function $e(...ct){return function a(){return(0,L.U)(1)}()((0,_e.H)(ct,(0,B.lI)(ct)))}},8424:(Hn,vt,I)=>{I.d(vt,{xv:()=>Et,u0:()=>pr,CA:()=>$t,lR:()=>_t,S3:()=>Be});var L=I(1698),a=I(2425),B=I(7385),_e=I(8813),$e=I(7014),Xt=I(6370),_n=I(6827);const wn=new class yt extends _n.q{}(class An extends Xt.R{constructor(Ne,pe){super(Ne,pe),this.scheduler=Ne,this.work=pe}schedule(Ne,pe=0){return pe>0?super.schedule(Ne,pe):(this.delay=pe,this.state=Ne,this.scheduler.flush(this),this)}execute(Ne,pe){return pe>0||this.closed?super.execute(Ne,pe):this._execute(Ne,pe)}requestAsyncId(Ne,pe,et=0){return null!=et&&et>0||null==et&&this.delay>0?super.requestAsyncId(Ne,pe,et):(Ne.flush(this),0)}});var Ge=I(8761),Ot=I(5024),Je=I(4368);const Et=new a.RxE("ANGULARFIRE2_VERSION");function _t(ge,Ne,pe){if(Ne){if(1===Ne.length)return Ne[0];const Le=Ne.filter(Re=>Re.app===pe);if(1===Le.length)return Le[0]}return pe.container.getProvider(ge).getImmediate({optional:!0})}const $t=(ge,Ne)=>{const pe=Ne?[Ne]:(0,_e.Dk)(),et=[];return pe.forEach(Ye=>{Ye.container.getProvider(ge).instances.forEach(Re=>{et.includes(Re)||et.push(Re)})}),et};var Tn=function(ge){return ge[ge.SILENT=0]="SILENT",ge[ge.WARN=1]="WARN",ge[ge.VERBOSE=2]="VERBOSE",ge}(Tn||{}),er=(0,a.naY)()&&typeof Zone<"u"?Tn.WARN:Tn.SILENT;class rr{zone;delegate;constructor(Ne,pe=wn){this.zone=Ne,this.delegate=pe}now(){return this.delegate.now()}schedule(Ne,pe,et){const Ye=this.zone;return this.delegate.schedule(function(Re){Ye?Ye.runGuarded(()=>{Ne.apply(this,[Re])}):Ne.apply(this,[Re])},pe,et)}}let pr=(()=>{class ge{outsideAngular;insideAngular;constructor(){const pe=(0,L.WQX)(B.SKi);this.outsideAngular=pe.runOutsideAngular(()=>new rr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=pe.run(()=>new rr(typeof Zone>"u"?void 0:Zone.current,Ge.E))}static \u0275fac=function(et){return new(et||ge)};static \u0275prov=L.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();var st=!1;function at(ge){const Ne=(0,L.WQX)(B.SKi,{optional:!0});return Ne?Ne.run(()=>ge()):ge()}const Lt=(ge,Ne,pe)=>(...et)=>(Ne&&setTimeout(Ne,0),(0,L.N4e)(pe,()=>at(()=>ge.apply(void 0,et)))),Be=(ge,Ne,pe)=>(pe||=Ne?Tn.WARN:Tn.VERBOSE,function(){let et;const Ye=arguments;let Le,Re,sn;try{Le=(0,L.WQX)(pr),Re=(0,L.WQX)(L.u5s),sn=(0,L.WQX)(L.uvJ)}catch{return function Rn(ge,Ne){!st&&(er>Tn.SILENT||(0,a.naY)())&&(st=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),er>=Ne&&console.warn(`Firebase API called outside injection context: ${ge.name}`)}(ge,pe),ge.apply(this,Ye)}for(let vn=0;vn<arguments.length;vn++)"function"==typeof Ye[vn]&&(Ne&&(et||=at(()=>Re.add())),Ye[vn]=Lt(Ye[vn],et,sn));const Jt=function de(ge){const Ne=(0,L.WQX)(B.SKi,{optional:!0});return Ne?Ne.runOutsideAngular(()=>ge()):ge()}(()=>ge.apply(this,Ye));return Ne?Jt instanceof $e.c?Jt.pipe((0,Ot._)(Le.outsideAngular),(0,Je.Q)(Le.insideAngular),function kt(ge){void 0===ge&&(ge=(0,L.WQX)(L.zZn));const Ne=ge.get(L.u5s);return pe=>new $e.c(et=>{const Ye=Ne.add();let Le=!1;function Re(){Le||(Ye(),Le=!0)}const sn=pe.subscribe({next:Jt=>{et.next(Jt),Re()},complete:()=>{et.complete(),Re()},error:Jt=>{et.error(Jt),Re()}});return sn.add(()=>{et.unsubscribe(),Re()}),sn})}(sn)):Jt instanceof Promise?at(()=>(Re.run(()=>Jt),new Promise((vn,ur)=>{Jt.then(ft=>(0,L.N4e)(sn,()=>at(()=>vn(ft))),ft=>(0,L.N4e)(sn,()=>at(()=>ur(ft))))}))):"function"==typeof Jt&&et?function(){return setTimeout(et,0),Jt.apply(this,arguments)}:at(()=>Jt):Jt instanceof $e.c?Jt.pipe((0,Ot._)(Le.outsideAngular),(0,Je.Q)(Le.insideAngular)):at(()=>Jt)})},8466:(Hn,vt,I)=>{I.d(vt,{U:()=>a,l:()=>L});var L=function(B){return B.DRAFT="draft",B.ACTIVE="active",B.SUSPENDED="suspended",B.COMPLETED="completed",B.TERMINATED="terminated",B}(L||{});class a{constructor(_e){this._value=_e}static create(_e){return this.isValid(_e)?new a(_e):null}static isValid(_e){return Object.values(L).includes(_e)}get value(){return this._value}isDraft(){return this._value===L.DRAFT}isActive(){return this._value===L.ACTIVE}isSuspended(){return this._value===L.SUSPENDED}isCompleted(){return this._value===L.COMPLETED}isTerminated(){return this._value===L.TERMINATED}canActivate(){return this._value===L.DRAFT}canSuspend(){return this._value===L.ACTIVE}canComplete(){return this._value===L.ACTIVE}canTerminate(){return this._value===L.ACTIVE||this._value===L.SUSPENDED}toString(){return this._value}equals(_e){return this._value===_e._value}}},8509:(Hn,vt,I)=>{I.d(vt,{y:()=>a});var L=I(4602);function a(B){return(0,L.T)(B?.then)}},8517:(Hn,vt,I)=>{I.d(vt,{$:()=>L});const L={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8544:(Hn,vt,I)=>{I.d(vt,{U:()=>L});const L={now:()=>(L.delegate||Date).now(),delegate:void 0}},8551:(Hn,vt,I)=>{I.d(vt,{A:()=>B});var L=I(7014),a=I(4602);function B(_e){return!!_e&&(_e instanceof L.c||(0,a.T)(_e.lift)&&(0,a.T)(_e.subscribe))}},8609:(Hn,vt,I)=>{I.d(vt,{MR:()=>Ge,P2:()=>Sn});var L=I(649);const a=(_t,$t)=>$t.some(Tn=>_t instanceof Tn);let B,_e;const j=new WeakMap,fe=new WeakMap,Ae=new WeakMap,Ce=new WeakMap,ye=new WeakMap;let zt={get(_t,$t,Tn){if(_t instanceof IDBTransaction){if("done"===$t)return fe.get(_t);if("objectStoreNames"===$t)return _t.objectStoreNames||Ae.get(_t);if("store"===$t)return Tn.objectStoreNames[1]?void 0:Tn.objectStore(Tn.objectStoreNames[0])}return yt(_t[$t])},set:(_t,$t,Tn)=>(_t[$t]=Tn,!0),has:(_t,$t)=>_t instanceof IDBTransaction&&("done"===$t||"store"===$t)||$t in _t};function _n(_t){return"function"==typeof _t?function An(_t){return _t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_t)?function(...$t){return _t.apply(wn(this),$t),yt(j.get(this))}:function(...$t){return yt(_t.apply(wn(this),$t))}:function($t,...Tn){const er=_t.call(wn(this),$t,...Tn);return Ae.set(er,$t.sort?$t.sort():[$t]),yt(er)}}(_t):(_t instanceof IDBTransaction&&function kt(_t){if(fe.has(_t))return;const $t=new Promise((Tn,er)=>{const On=()=>{_t.removeEventListener("complete",rr),_t.removeEventListener("error",pr),_t.removeEventListener("abort",pr)},rr=()=>{Tn(),On()},pr=()=>{er(_t.error||new DOMException("AbortError","AbortError")),On()};_t.addEventListener("complete",rr),_t.addEventListener("error",pr),_t.addEventListener("abort",pr)});fe.set(_t,$t)}(_t),a(_t,function $e(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_t,zt):_t)}function yt(_t){if(_t instanceof IDBRequest)return function He(_t){const $t=new Promise((Tn,er)=>{const On=()=>{_t.removeEventListener("success",rr),_t.removeEventListener("error",pr)},rr=()=>{Tn(yt(_t.result)),On()},pr=()=>{er(_t.error),On()};_t.addEventListener("success",rr),_t.addEventListener("error",pr)});return $t.then(Tn=>{Tn instanceof IDBCursor&&j.set(Tn,_t)}).catch(()=>{}),ye.set($t,_t),$t}(_t);if(Ce.has(_t))return Ce.get(_t);const $t=_n(_t);return $t!==_t&&(Ce.set(_t,$t),ye.set($t,_t)),$t}const wn=_t=>ye.get(_t);function Sn(_t,$t,{blocked:Tn,upgrade:er,blocking:On,terminated:rr}={}){const pr=indexedDB.open(_t,$t),st=yt(pr);return er&&pr.addEventListener("upgradeneeded",Rn=>{er(yt(pr.result),Rn.oldVersion,Rn.newVersion,yt(pr.transaction),Rn)}),Tn&&pr.addEventListener("blocked",Rn=>Tn(Rn.oldVersion,Rn.newVersion,Rn)),st.then(Rn=>{rr&&Rn.addEventListener("close",()=>rr()),On&&Rn.addEventListener("versionchange",de=>On(de.oldVersion,de.newVersion,de))}).catch(()=>{}),st}function Ge(_t,{blocked:$t}={}){const Tn=indexedDB.deleteDatabase(_t);return $t&&Tn.addEventListener("blocked",er=>$t(er.oldVersion,er)),yt(Tn).then(()=>{})}const Ot=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],Et=new Map;function tn(_t,$t){if(!(_t instanceof IDBDatabase)||$t in _t||"string"!=typeof $t)return;if(Et.get($t))return Et.get($t);const Tn=$t.replace(/FromIndex$/,""),er=$t!==Tn,On=Je.includes(Tn);if(!(Tn in(er?IDBIndex:IDBObjectStore).prototype)||!On&&!Ot.includes(Tn))return;const rr=function(){var pr=(0,L.A)(function*(st,...Rn){const de=this.transaction(st,On?"readwrite":"readonly");let at=de.store;return er&&(at=at.index(Rn.shift())),(yield Promise.all([at[Tn](...Rn),On&&de.done]))[0]});return function(Rn){return pr.apply(this,arguments)}}();return Et.set($t,rr),rr}!function Xt(_t){zt=_t(zt)}(_t=>({..._t,get:($t,Tn,er)=>tn($t,Tn)||_t.get($t,Tn,er),has:($t,Tn)=>!!tn($t,Tn)||_t.has($t,Tn)}))},8657:(Hn,vt,I)=>{I.d(vt,{L9:()=>jr,v_:()=>Ar,cw:()=>Pt});var L=I(8424),a=I(1698),B=I(7385),_e=I(2474),$e=I(1465),ct=I(8813),fe=(I(649),I(1572)),Ae=I(9333),Ce=I(5099),ye=I(7650),kt=(I(5482),"@firebase/ai");const Xt="AI",An="us-central1";class Be{constructor(Fe){this.backendType=Fe}}class ge extends Be{constructor(){super("GOOGLE_AI")}}class Ne extends Be{constructor(Fe=An){super("VERTEX_AI"),this.location=Fe||An}}class pe{constructor(Fe,qe,St,on){this.app=Fe,this.backend=qe;const Ut=on?.getImmediate({optional:!0}),ar=St?.getImmediate({optional:!0});this.auth=ar||null,this.appCheck=Ut||null,this.location=qe instanceof Ne?qe.location:""}_delete(){return Promise.resolve()}}class et extends Ce.g{constructor(Fe,qe,St){const ar=`${Xt}: ${qe} (${Xt}/${Fe})`;super(Fe,ar),this.code=Fe,this.customErrorData=St,Error.captureStackTrace&&Error.captureStackTrace(this,et),Object.setPrototypeOf(this,et.prototype),this.toString=()=>ar}}function rn(ue=(0,fe.Sx)(),Fe){ue=(0,Ce.Ku)(ue);const qe=(0,fe.j6)(ue,Xt),on=function Ye(ue){if(ue instanceof ge)return`${Xt}/googleai`;if(ue instanceof Ne)return`${Xt}/vertexai/${ue.location}`;throw new et("error",`Invalid backend: ${JSON.stringify(ue.backendType)}`)}(new Ne(Fe?.location));return qe.getImmediate({identifier:on})}new ye.Vy("@firebase/vertexai"),function mr(){(0,fe.om)(new Ae.uA(Xt,(ue,{instanceIdentifier:Fe})=>{if(!Fe)throw new et("error","AIService instance identifier is undefined.");const qe=function Le(ue){const Fe=ue.split("/");if(Fe[0]!==Xt)throw new et("error",`Invalid instance identifier, unknown prefix '${Fe[0]}'`);switch(Fe[1]){case"vertexai":const St=Fe[2];if(!St)throw new et("error",`Invalid instance identifier, unknown location '${ue}'`);return new Ne(St);case"googleai":return new ge;default:throw new et("error",`Invalid instance identifier string: '${ue}'`)}}(Fe),St=ue.getProvider("app").getImmediate(),on=ue.getProvider("auth-internal"),Ut=ue.getProvider("app-check-internal");return new pe(St,qe,on,Ut)},"PUBLIC").setMultipleInstances(!0)),(0,fe.KO)(kt,"1.4.1"),(0,fe.KO)(kt,"1.4.1","esm2017")}();class jr{constructor(Fe){return Fe}}const Oi="vertexai",Tr=new a.nKC("angularfire2.vertexai-instances");function ii(ue){return(Fe,qe)=>{const St=Fe.runOutsideAngular(()=>ue(qe));return new jr(St)}}const Pi={provide:class Ni{constructor(){return(0,L.CA)(Oi)}},deps:[[new B.Xx1,Tr]]},Cr={provide:jr,useFactory:function $n(ue,Fe){const qe=(0,L.lR)(Oi,ue,Fe);return qe&&new jr(qe)},deps:[[new B.Xx1,Tr],_e.XU]};function Pt(ue,...Fe){return(0,ct.KO)("angularfire",L.xv.full,"vertexai"),(0,a.EmA)([Cr,Pi,{provide:Tr,useFactory:ii(ue),multi:!0,deps:[B.SKi,a.zZn,L.u0,_e.gL,[new B.Xx1,$e.kR],...Fe]}])}const Ar=(0,L.S3)(rn,!0)},8725:(Hn,vt,I)=>{I.d(vt,{T0:()=>tt,dG:()=>$n,MM:()=>li});var L=I(8424),a=I(6078),B=I(1698),_e=I(7385),$e=I(2474),ct=I(8813),j=I(649),Ae=(I(1873),I(9333)),Ce=I(8609),ye=I(5099),He=I(1572);const Xt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_n="google.c.a.c_id";var Je=function(Qe){return Qe.PUSH_RECEIVED="push-received",Qe.NOTIFICATION_CLICKED="notification-clicked",Qe}(Je||{});function Et(Qe){const Pt=new Uint8Array(Qe);return btoa(String.fromCharCode(...Pt)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tn(Qe){const dn=(Qe+"=".repeat((4-Qe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pn=atob(dn),or=new Uint8Array(Pn.length);for(let Ar=0;Ar<Pn.length;++Ar)or[Ar]=Pn.charCodeAt(Ar);return or}const _t="fcm_token_details_db",Tn="fcm_token_object_Store";function On(){return On=(0,j.A)(function*(Qe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ar=>Ar.name).includes(_t))return null;let Pt=null;return(yield(0,Ce.P2)(_t,5,{upgrade:(Pn=(0,j.A)(function*(or,Ar,ue,Fe){var qe;if(Ar<2||!or.objectStoreNames.contains(Tn))return;const St=Fe.objectStore(Tn),on=yield St.index("fcmSenderId").get(Qe);if(yield St.clear(),on)if(2===Ar){const Ut=on;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;Pt={token:Ut.fcmToken,createTime:null!==(qe=Ut.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:Et(Ut.vapidKey)}}}else if(3===Ar){const Ut=on;Pt={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Et(Ut.auth),p256dh:Et(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Et(Ut.vapidKey)}}}else if(4===Ar){const Ut=on;Pt={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Et(Ut.auth),p256dh:Et(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Et(Ut.vapidKey)}}}}),function(Ar,ue,Fe,qe){return Pn.apply(this,arguments)})})).close(),yield(0,Ce.MR)(_t),yield(0,Ce.MR)("fcm_vapid_details_db"),yield(0,Ce.MR)("undefined"),function rr(Qe){if(!Qe||!Qe.subscriptionOptions)return!1;const{subscriptionOptions:Pt}=Qe;return"number"==typeof Qe.createTime&&Qe.createTime>0&&"string"==typeof Qe.token&&Qe.token.length>0&&"string"==typeof Pt.auth&&Pt.auth.length>0&&"string"==typeof Pt.p256dh&&Pt.p256dh.length>0&&"string"==typeof Pt.endpoint&&Pt.endpoint.length>0&&"string"==typeof Pt.swScope&&Pt.swScope.length>0&&"string"==typeof Pt.vapidKey&&Pt.vapidKey.length>0}(Pt)?Pt:null;var Pn}),On.apply(this,arguments)}const Rn="firebase-messaging-store";let de=null;function at(){return de||(de=(0,Ce.P2)("firebase-messaging-database",1,{upgrade:(Qe,Pt)=>{0===Pt&&Qe.createObjectStore(Rn)}})),de}function Be(){return Be=(0,j.A)(function*(Qe){const Pt=Ye(Qe),Pn=yield(yield at()).transaction(Rn).objectStore(Rn).get(Pt);if(Pn)return Pn;{const or=yield function er(Qe){return On.apply(this,arguments)}(Qe.appConfig.senderId);if(or)return yield ge(Qe,or),or}}),Be.apply(this,arguments)}function ge(Qe,Pt){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,j.A)(function*(Qe,Pt){const dn=Ye(Qe),or=(yield at()).transaction(Rn,"readwrite");return yield or.objectStore(Rn).put(Pt,dn),yield or.done,Pt})).apply(this,arguments)}function Ye({appConfig:Qe}){return Qe.appId}const Re=new ye.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sn(Qe,Pt){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,j.A)(function*(Qe,Pt){const dn=yield an(Qe),Pn=lr(Pt),or={method:"POST",headers:dn,body:JSON.stringify(Pn)};let Ar;try{Ar=yield(yield fetch(En(Qe.appConfig),or)).json()}catch(ue){throw Re.create("token-subscribe-failed",{errorInfo:ue?.toString()})}if(Ar.error)throw Re.create("token-subscribe-failed",{errorInfo:Ar.error.message});if(!Ar.token)throw Re.create("token-subscribe-no-token");return Ar.token})).apply(this,arguments)}function ur(){return(ur=(0,j.A)(function*(Qe,Pt){const dn=yield an(Qe),Pn=lr(Pt.subscriptionOptions),or={method:"PATCH",headers:dn,body:JSON.stringify(Pn)};let Ar;try{Ar=yield(yield fetch(`${En(Qe.appConfig)}/${Pt.token}`,or)).json()}catch(ue){throw Re.create("token-update-failed",{errorInfo:ue?.toString()})}if(Ar.error)throw Re.create("token-update-failed",{errorInfo:Ar.error.message});if(!Ar.token)throw Re.create("token-update-no-token");return Ar.token})).apply(this,arguments)}function Ft(){return(Ft=(0,j.A)(function*(Qe,Pt){const Pn={method:"DELETE",headers:yield an(Qe)};try{const Ar=yield(yield fetch(`${En(Qe.appConfig)}/${Pt}`,Pn)).json();if(Ar.error)throw Re.create("token-unsubscribe-failed",{errorInfo:Ar.error.message})}catch(or){throw Re.create("token-unsubscribe-failed",{errorInfo:or?.toString()})}})).apply(this,arguments)}function En({projectId:Qe}){return`https://fcmregistrations.googleapis.com/v1/projects/${Qe}/registrations`}function an(Qe){return _r.apply(this,arguments)}function _r(){return(_r=(0,j.A)(function*({appConfig:Qe,installations:Pt}){const dn=yield Pt.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Qe.apiKey,"x-goog-firebase-installations-auth":`FIS ${dn}`})})).apply(this,arguments)}function lr({p256dh:Qe,auth:Pt,endpoint:dn,vapidKey:Pn}){const or={web:{endpoint:dn,auth:Pt,p256dh:Qe}};return Pn!==Xt&&(or.web.applicationPubKey=Pn),or}function mi(){return mi=(0,j.A)(function*(Qe){const Pt=yield function _i(Qe,Pt){return Xn.apply(this,arguments)}(Qe.swRegistration,Qe.vapidKey),dn={vapidKey:Qe.vapidKey,swScope:Qe.swRegistration.scope,endpoint:Pt.endpoint,auth:Et(Pt.getKey("auth")),p256dh:Et(Pt.getKey("p256dh"))},Pn=yield function Lt(Qe){return Be.apply(this,arguments)}(Qe.firebaseDependencies);if(Pn){if(function Ct(Qe,Pt){return Pt.vapidKey===Qe.vapidKey&&Pt.endpoint===Qe.endpoint&&Pt.auth===Qe.auth&&Pt.p256dh===Qe.p256dh}(Pn.subscriptionOptions,dn))return Date.now()>=Pn.createTime+6048e5?function Xr(Qe,Pt){return si.apply(this,arguments)}(Qe,{token:Pn.token,createTime:Date.now(),subscriptionOptions:dn}):Pn.token;try{yield function ft(Qe,Pt){return Ft.apply(this,arguments)}(Qe.firebaseDependencies,Pn.token)}catch(or){console.warn(or)}return Kn(Qe.firebaseDependencies,dn)}return Kn(Qe.firebaseDependencies,dn)}),mi.apply(this,arguments)}function si(){return si=(0,j.A)(function*(Qe,Pt){try{const dn=yield function vn(Qe,Pt){return ur.apply(this,arguments)}(Qe.firebaseDependencies,Pt),Pn=Object.assign(Object.assign({},Pt),{token:dn,createTime:Date.now()});return yield ge(Qe.firebaseDependencies,Pn),dn}catch(dn){throw dn}}),si.apply(this,arguments)}function Kn(Qe,Pt){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,j.A)(function*(Qe,Pt){const Pn={token:yield sn(Qe,Pt),createTime:Date.now(),subscriptionOptions:Pt};return yield ge(Qe,Pn),Pn.token})).apply(this,arguments)}function Xn(){return(Xn=(0,j.A)(function*(Qe,Pt){return(yield Qe.pushManager.getSubscription())||Qe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tn(Pt)})})).apply(this,arguments)}function ln(Qe){const Pt={from:Qe.from,collapseKey:Qe.collapse_key,messageId:Qe.fcmMessageId};return function Ht(Qe,Pt){if(!Pt.notification)return;Qe.notification={};const dn=Pt.notification.title;dn&&(Qe.notification.title=dn);const Pn=Pt.notification.body;Pn&&(Qe.notification.body=Pn);const or=Pt.notification.image;or&&(Qe.notification.image=or);const Ar=Pt.notification.icon;Ar&&(Qe.notification.icon=Ar)}(Pt,Qe),function It(Qe,Pt){Pt.data&&(Qe.data=Pt.data)}(Pt,Qe),function Gn(Qe,Pt){var dn,Pn,or,Ar,ue;if(!(Pt.fcmOptions||null!==(dn=Pt.notification)&&void 0!==dn&&dn.click_action))return;Qe.fcmOptions={};const Fe=null!==(or=null===(Pn=Pt.fcmOptions)||void 0===Pn?void 0:Pn.link)&&void 0!==or?or:null===(Ar=Pt.notification)||void 0===Ar?void 0:Ar.click_action;Fe&&(Qe.fcmOptions.link=Fe);const qe=null===(ue=Pt.fcmOptions)||void 0===ue?void 0:ue.analytics_label;qe&&(Qe.fcmOptions.analyticsLabel=qe)}(Pt,Qe),Pt}function Jr(Qe){return Re.create("missing-app-config-values",{valueName:Qe})}!function Pr(Qe,Pt){const dn=[];for(let Pn=0;Pn<Qe.length;Pn++)dn.push(Qe.charAt(Pn)),Pn<Pt.length&&dn.push(Pt.charAt(Pn));dn.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ur{constructor(Pt,dn,Pn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const or=function gr(Qe){if(!Qe||!Qe.options)throw Jr("App Configuration Object");if(!Qe.name)throw Jr("App Name");const Pt=["projectId","apiKey","appId","messagingSenderId"],{options:dn}=Qe;for(const Pn of Pt)if(!dn[Pn])throw Jr(Pn);return{appName:Qe.name,projectId:dn.projectId,apiKey:dn.apiKey,appId:dn.appId,senderId:dn.messagingSenderId}}(Pt);this.firebaseDependencies={app:Pt,appConfig:or,installations:dn,analyticsProvider:Pn}}_delete(){return Promise.resolve()}}function xr(){return xr=(0,j.A)(function*(Qe){try{Qe.swRegistration=yield navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),Qe.swRegistration.update().catch(()=>{}),yield function yr(Qe){return br.apply(this,arguments)}(Qe.swRegistration)}catch(Pt){throw Re.create("failed-service-worker-registration",{browserErrorMessage:Pt?.message})}}),xr.apply(this,arguments)}function br(){return(br=(0,j.A)(function*(Qe){return new Promise((Pt,dn)=>{const Pn=setTimeout(()=>dn(new Error("Service worker not registered after 10000 ms")),1e4),or=Qe.installing||Qe.waiting;Qe.active?(clearTimeout(Pn),Pt()):or?or.onstatechange=Ar=>{var ue;"activated"===(null===(ue=Ar.target)||void 0===ue?void 0:ue.state)&&(or.onstatechange=null,clearTimeout(Pn),Pt())}:(clearTimeout(Pn),dn(new Error("No incoming service worker found.")))})})).apply(this,arguments)}function ei(){return(ei=(0,j.A)(function*(Qe,Pt){if(!Pt&&!Qe.swRegistration&&(yield function Nn(Qe){return xr.apply(this,arguments)}(Qe)),Pt||!Qe.swRegistration){if(!(Pt instanceof ServiceWorkerRegistration))throw Re.create("invalid-sw-registration");Qe.swRegistration=Pt}})).apply(this,arguments)}function Un(){return(Un=(0,j.A)(function*(Qe,Pt){Pt?Qe.vapidKey=Pt:Qe.vapidKey||(Qe.vapidKey=Xt)})).apply(this,arguments)}function Bt(){return Bt=(0,j.A)(function*(Qe,Pt){if(!navigator)throw Re.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Re.create("permission-blocked");return yield function Er(Qe,Pt){return Un.apply(this,arguments)}(Qe,Pt?.vapidKey),yield function yi(Qe,Pt){return ei.apply(this,arguments)}(Qe,Pt?.serviceWorkerRegistration),function Kr(Qe){return mi.apply(this,arguments)}(Qe)}),Bt.apply(this,arguments)}function bn(){return(bn=(0,j.A)(function*(Qe,Pt,dn){const Pn=function dr(Qe){switch(Qe){case Je.NOTIFICATION_CLICKED:return"notification_open";case Je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Pt);(yield Qe.firebaseDependencies.analyticsProvider.get()).logEvent(Pn,{message_id:dn[_n],message_name:dn["google.c.a.c_l"],message_time:dn["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ir(){return Ir=(0,j.A)(function*(Qe,Pt){const dn=Pt.data;if(!dn.isFirebaseMessaging)return;Qe.onMessageHandler&&dn.messageType===Je.PUSH_RECEIVED&&("function"==typeof Qe.onMessageHandler?Qe.onMessageHandler(ln(dn)):Qe.onMessageHandler.next(ln(dn)));const Pn=dn.data;(function sr(Qe){return"object"==typeof Qe&&!!Qe&&_n in Qe})(Pn)&&"1"===Pn["google.c.a.e"]&&(yield function pn(Qe,Pt,dn){return bn.apply(this,arguments)}(Qe,dn.messageType,Pn))}),Ir.apply(this,arguments)}const qr="@firebase/messaging",Ki="0.12.22",Ii=Qe=>{const Pt=new Ur(Qe.getProvider("app").getImmediate(),Qe.getProvider("installations-internal").getImmediate(),Qe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",dn=>function ir(Qe,Pt){return Ir.apply(this,arguments)}(Pt,dn)),Pt},Ve=Qe=>{const Pt=Qe.getProvider("messaging").getImmediate();return{getToken:Pn=>function fn(Qe,Pt){return Bt.apply(this,arguments)}(Pt,Pn)}};function Pe(){return(Pe=(0,j.A)(function*(){try{yield(0,ye.eX)()}catch{return!1}return typeof window<"u"&&(0,ye.zW)()&&(0,ye.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ze(Qe=(0,He.Sx)()){return function ie(){return Pe.apply(this,arguments)}().then(Pt=>{if(!Pt)throw Re.create("unsupported-browser")},Pt=>{throw Re.create("indexed-db-unsupported")}),(0,He.j6)((0,ye.Ku)(Qe),"messaging").getImmediate()}!function ce(){(0,He.om)(new Ae.uA("messaging",Ii,"PUBLIC")),(0,He.om)(new Ae.uA("messaging-internal",Ve,"PRIVATE")),(0,He.KO)(qr,Ki),(0,He.KO)(qr,Ki,"esm2017")}();class tt{constructor(Pt){return Pt}}const ht="messaging",Cn=new B.nKC("angularfire2.messaging-instances");function mr(Qe){return(Pt,dn,Pn)=>{if((0,a.Vy)(Pn))return null;const or=Pt.runOutsideAngular(()=>Qe(dn));return new tt(or)}}const jr={provide:class rn{constructor(){return(0,L.CA)(ht)}},deps:[[new _e.Xx1,Cn]]},Oi={provide:tt,useFactory:function Mr(Qe,Pt,dn){if((0,a.Vy)(dn))return null;const Pn=(0,L.lR)(ht,Qe,Pt);return Pn&&new tt(Pn)},deps:[[new _e.Xx1,Cn],$e.XU,_e.Agw]};function li(Qe,...Pt){return(0,ct.KO)("angularfire",L.xv.full,"fcm"),(0,B.EmA)([Oi,jr,{provide:Cn,useFactory:mr(Qe),multi:!0,deps:[_e.SKi,B.zZn,_e.Agw,L.u0,$e.gL,...Pt]}])}const $n=(0,L.S3)(Ze,!0)},8761:(Hn,vt,I)=>{I.d(vt,{E:()=>B,b:()=>_e});var L=I(6370);const B=new(I(6827).q)(L.R),_e=B},8781:(Hn,vt,I)=>{I.d(vt,{Z:()=>_e});var L=I(8242),a=I(6579),B=I(3731);function _e(...$e){const ct=(0,a.lI)($e);return(0,B.N)((j,fe)=>{(ct?(0,L.x)($e,j,ct):(0,L.x)($e,j)).subscribe(fe)})}},8813:(Hn,vt,I)=>{I.d(vt,{Dk:()=>L.Dk,KO:()=>L.KO,Sx:()=>L.Sx,Wp:()=>L.Wp});var L=I(1572);(0,L.KO)("firebase","11.10.0","app")},9075:(Hn,vt,I)=>{I.d(vt,{MD:()=>ti,T3:()=>Cn,bT:()=>ve,fw:()=>ct,oe:()=>Dr,vh:()=>Pn});var L=I(1698),a=I(7385),$e=(I(2425),I(6481),I(9125));let ct=(()=>{class $ extends $e.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(te,se){super(),this._platformLocation=te,null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(te){this._removeListenerFns.push(this._platformLocation.onPopState(te),this._platformLocation.onHashChange(te))}getBaseHref(){return this._baseHref}path(te=!1){const se=this._platformLocation.hash??"#";return se.length>0?se.substring(1):se}prepareExternalUrl(te){const se=(0,$e.om)(this._baseHref,te);return se.length>0?"#"+se:se}pushState(te,se,dt,mn){const Mn=this.prepareExternalUrl(dt+(0,$e.Q)(mn))||this._platformLocation.pathname;this._platformLocation.pushState(te,se,Mn)}replaceState(te,se,dt,mn){const Mn=this.prepareExternalUrl(dt+(0,$e.Q)(mn))||this._platformLocation.pathname;this._platformLocation.replaceState(te,se,Mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(te=0){this._platformLocation.historyGo?.(te)}static \u0275fac=function(se){return new(se||$)(L.KVO($e.Vw),L.KVO($e.kB,8))};static \u0275prov=L.jDH({token:$,factory:$.\u0275fac})}return $})();const j={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var fe=function($){return $[$.Decimal=0]="Decimal",$[$.Percent=1]="Percent",$[$.Currency=2]="Currency",$[$.Scientific=3]="Scientific",$}(fe||{}),Ce=function($){return $[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$}(Ce||{}),ye=function($){return $[$.Narrow=0]="Narrow",$[$.Abbreviated=1]="Abbreviated",$[$.Wide=2]="Wide",$[$.Short=3]="Short",$}(ye||{}),He=function($){return $[$.Short=0]="Short",$[$.Medium=1]="Medium",$[$.Long=2]="Long",$[$.Full=3]="Full",$}(He||{});function Ot($,be){return at((0,a.kBR)($)[a.NSC.DateFormat],be)}function Je($,be){return at((0,a.kBR)($)[a.NSC.TimeFormat],be)}function Et($,be){return at((0,a.kBR)($)[a.NSC.DateTimeFormat],be)}function tn($,be){const te=(0,a.kBR)($),se=te[a.NSC.NumberSymbols][be];if(typeof se>"u"){if(12===be)return te[a.NSC.NumberSymbols][0];if(13===be)return te[a.NSC.NumberSymbols][1]}return se}function pr($){if(!$[a.NSC.ExtraData])throw new L.buA(2303,!1)}function at($,be){for(let te=be;te>-1;te--)if(typeof $[te]<"u")return $[te];throw new L.buA(2304,!1)}function Lt($){const[be,te]=$.split(":");return{hours:+be,minutes:+te}}const pe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,et={},Ye=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Le($,be,te,se){let dt=function Ct($){if(Ht($))return $;if("number"==typeof $&&!isNaN($))return new Date($);if("string"==typeof $){if($=$.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($)){const[dt,mn=1,Mn=1]=$.split("-").map(qn=>+qn);return sn(dt,mn-1,Mn)}const te=parseFloat($);if(!isNaN($-te))return new Date(te);let se;if(se=$.match(pe))return function ln($){const be=new Date(0);let te=0,se=0;const dt=$[8]?be.setUTCFullYear:be.setFullYear,mn=$[8]?be.setUTCHours:be.setHours;$[9]&&(te=Number($[9]+$[10]),se=Number($[9]+$[11])),dt.call(be,Number($[1]),Number($[2])-1,Number($[3]));const Mn=Number($[4]||0)-te,qn=Number($[5]||0)-se,ci=Number($[6]||0),di=Math.floor(1e3*parseFloat("0."+($[7]||0)));return mn.call(be,Mn,qn,ci,di),be}(se)}const be=new Date($);if(!Ht(be))throw new L.buA(2302,!1);return be}($);be=Jt(te,be)||be;let qn,Mn=[];for(;be;){if(qn=Ye.exec(be),!qn){Mn.push(be);break}{Mn=Mn.concat(qn.slice(1));const Si=Mn.pop();if(!Si)break;be=Si}}let ci=dt.getTimezoneOffset();se&&(ci=Gr(se,ci),dt=function Xn($,be){const dt=$.getTimezoneOffset();return function _i($,be){return($=new Date($.getTime())).setMinutes($.getMinutes()+be),$}($,-1*(Gr(be,dt)-dt))}(dt,se));let di="";return Mn.forEach(Si=>{const ui=function Kn($){if(si[$])return si[$];let be;switch($){case"G":case"GG":case"GGG":be=an(3,ye.Abbreviated);break;case"GGGG":be=an(3,ye.Wide);break;case"GGGGG":be=an(3,ye.Narrow);break;case"y":be=Ft(0,1,0,!1,!0);break;case"yy":be=Ft(0,2,0,!0,!0);break;case"yyy":be=Ft(0,3,0,!1,!0);break;case"yyyy":be=Ft(0,4,0,!1,!0);break;case"Y":be=Xr(1);break;case"YY":be=Xr(2,!0);break;case"YYY":be=Xr(3);break;case"YYYY":be=Xr(4);break;case"M":case"L":be=Ft(1,1,1);break;case"MM":case"LL":be=Ft(1,2,1);break;case"MMM":be=an(2,ye.Abbreviated);break;case"MMMM":be=an(2,ye.Wide);break;case"MMMMM":be=an(2,ye.Narrow);break;case"LLL":be=an(2,ye.Abbreviated,Ce.Standalone);break;case"LLLL":be=an(2,ye.Wide,Ce.Standalone);break;case"LLLLL":be=an(2,ye.Narrow,Ce.Standalone);break;case"w":be=Ci(1);break;case"ww":be=Ci(2);break;case"W":be=Ci(1,!0);break;case"d":be=Ft(2,1);break;case"dd":be=Ft(2,2);break;case"c":case"cc":be=Ft(7,1);break;case"ccc":be=an(1,ye.Abbreviated,Ce.Standalone);break;case"cccc":be=an(1,ye.Wide,Ce.Standalone);break;case"ccccc":be=an(1,ye.Narrow,Ce.Standalone);break;case"cccccc":be=an(1,ye.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":be=an(1,ye.Abbreviated);break;case"EEEE":be=an(1,ye.Wide);break;case"EEEEE":be=an(1,ye.Narrow);break;case"EEEEEE":be=an(1,ye.Short);break;case"a":case"aa":case"aaa":be=an(0,ye.Abbreviated);break;case"aaaa":be=an(0,ye.Wide);break;case"aaaaa":be=an(0,ye.Narrow);break;case"b":case"bb":case"bbb":be=an(0,ye.Abbreviated,Ce.Standalone,!0);break;case"bbbb":be=an(0,ye.Wide,Ce.Standalone,!0);break;case"bbbbb":be=an(0,ye.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":be=an(0,ye.Abbreviated,Ce.Format,!0);break;case"BBBB":be=an(0,ye.Wide,Ce.Format,!0);break;case"BBBBB":be=an(0,ye.Narrow,Ce.Format,!0);break;case"h":be=Ft(3,1,-12);break;case"hh":be=Ft(3,2,-12);break;case"H":be=Ft(3,1);break;case"HH":be=Ft(3,2);break;case"m":be=Ft(4,1);break;case"mm":be=Ft(4,2);break;case"s":be=Ft(5,1);break;case"ss":be=Ft(5,2);break;case"S":be=Ft(6,1);break;case"SS":be=Ft(6,2);break;case"SSS":be=Ft(6,3);break;case"Z":case"ZZ":case"ZZZ":be=lr(0);break;case"ZZZZZ":be=lr(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":be=lr(1);break;case"OOOO":case"ZZZZ":case"zzzz":be=lr(2);break;default:return null}return si[$]=be,be}(Si);di+=ui?ui(dt,te,ci):"''"===Si?"'":Si.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),di}function sn($,be,te){const se=new Date(0);return se.setFullYear($,be,te),se.setHours(0,0,0),se}function Jt($,be){const te=function Xt($){return(0,a.kBR)($)[a.NSC.LocaleId]}($);if(et[te]??={},et[te][be])return et[te][be];let se="";switch(be){case"shortDate":se=Ot($,He.Short);break;case"mediumDate":se=Ot($,He.Medium);break;case"longDate":se=Ot($,He.Long);break;case"fullDate":se=Ot($,He.Full);break;case"shortTime":se=Je($,He.Short);break;case"mediumTime":se=Je($,He.Medium);break;case"longTime":se=Je($,He.Long);break;case"fullTime":se=Je($,He.Full);break;case"short":const dt=Jt($,"shortTime"),mn=Jt($,"shortDate");se=vn(Et($,He.Short),[dt,mn]);break;case"medium":const Mn=Jt($,"mediumTime"),qn=Jt($,"mediumDate");se=vn(Et($,He.Medium),[Mn,qn]);break;case"long":const ci=Jt($,"longTime"),di=Jt($,"longDate");se=vn(Et($,He.Long),[ci,di]);break;case"full":const Si=Jt($,"fullTime"),ui=Jt($,"fullDate");se=vn(Et($,He.Full),[Si,ui])}return se&&(et[te][be]=se),se}function vn($,be){return be&&($=$.replace(/\{([^}]+)}/g,function(te,se){return null!=be&&se in be?be[se]:te})),$}function ur($,be,te="-",se,dt){let mn="";($<0||dt&&$<=0)&&(dt?$=1-$:($=-$,mn=te));let Mn=String($);for(;Mn.length<be;)Mn="0"+Mn;return se&&(Mn=Mn.slice(Mn.length-be)),mn+Mn}function Ft($,be,te=0,se=!1,dt=!1){return function(mn,Mn){let qn=function En($,be){switch($){case 0:return be.getFullYear();case 1:return be.getMonth();case 2:return be.getDate();case 3:return be.getHours();case 4:return be.getMinutes();case 5:return be.getSeconds();case 6:return be.getMilliseconds();case 7:return be.getDay();default:throw new L.buA(2301,!1)}}($,mn);if((te>0||qn>-te)&&(qn+=te),3===$)0===qn&&-12===te&&(qn=12);else if(6===$)return function ft($,be){return ur($,3).substring(0,be)}(qn,be);const ci=tn(Mn,5);return ur(qn,be,ci,se,dt)}}function an($,be,te=Ce.Format,se=!1){return function(dt,mn){return function _r($,be,te,se,dt,mn){switch(te){case 2:return function yt($,be,te){const se=(0,a.kBR)($),mn=at([se[a.NSC.MonthsFormat],se[a.NSC.MonthsStandalone]],be);return at(mn,te)}(be,dt,se)[$.getMonth()];case 1:return function _n($,be,te){const se=(0,a.kBR)($),mn=at([se[a.NSC.DaysFormat],se[a.NSC.DaysStandalone]],be);return at(mn,te)}(be,dt,se)[$.getDay()];case 0:const Mn=$.getHours(),qn=$.getMinutes();if(mn){const di=function st($){const be=(0,a.kBR)($);return pr(be),(be[a.NSC.ExtraData][2]||[]).map(se=>"string"==typeof se?Lt(se):[Lt(se[0]),Lt(se[1])])}(be),Si=function Rn($,be,te){const se=(0,a.kBR)($);pr(se);const mn=at([se[a.NSC.ExtraData][0],se[a.NSC.ExtraData][1]],be)||[];return at(mn,te)||[]}(be,dt,se),ui=di.findIndex(ji=>{if(Array.isArray(ji)){const[hi,Ti]=ji,pt=Mn>=hi.hours&&qn>=hi.minutes,J=Mn<Ti.hours||Mn===Ti.hours&&qn<Ti.minutes;if(hi.hours<Ti.hours){if(pt&&J)return!0}else if(pt||J)return!0}else if(ji.hours===Mn&&ji.minutes===qn)return!0;return!1});if(-1!==ui)return Si[ui]}return function An($,be,te){const se=(0,a.kBR)($),mn=at([se[a.NSC.DayPeriodsFormat],se[a.NSC.DayPeriodsStandalone]],be);return at(mn,te)}(be,dt,se)[Mn<12?0:1];case 3:return function wn($,be){return at((0,a.kBR)($)[a.NSC.Eras],be)}(be,se)[$.getFullYear()<=0?0:1];default:throw new L.buA(2302,!1)}}(dt,mn,$,be,te,se)}}function lr($){return function(be,te,se){const dt=-1*se,mn=tn(te,5),Mn=dt>0?Math.floor(dt/60):Math.ceil(dt/60);switch($){case 0:return(dt>=0?"+":"")+ur(Mn,2,mn)+ur(Math.abs(dt%60),2,mn);case 1:return"GMT"+(dt>=0?"+":"")+ur(Mn,1,mn);case 2:return"GMT"+(dt>=0?"+":"")+ur(Mn,2,mn)+":"+ur(Math.abs(dt%60),2,mn);case 3:return 0===se?"Z":(dt>=0?"+":"")+ur(Mn,2,mn)+":"+ur(Math.abs(dt%60),2,mn);default:throw new L.buA(2302,!1)}}}const Zr=0,Kr=4;function Vn($){const be=$.getDay(),te=0===be?-3:Kr-be;return sn($.getFullYear(),$.getMonth(),$.getDate()+te)}function Ci($,be=!1){return function(te,se){let dt;if(be){const mn=new Date(te.getFullYear(),te.getMonth(),1).getDay()-1,Mn=te.getDate();dt=1+Math.floor((Mn+mn)/7)}else{const mn=Vn(te),Mn=function mi($){const be=sn($,Zr,1).getDay();return sn($,0,1+(be<=Kr?Kr:Kr+7)-be)}(mn.getFullYear()),qn=mn.getTime()-Mn.getTime();dt=1+Math.round(qn/6048e5)}return ur(dt,$,tn(se,5))}}function Xr($,be=!1){return function(te,se){return ur(Vn(te).getFullYear(),$,tn(se,5),be)}}const si={};function Gr($,be){$=$.replace(/:/g,"");const te=Date.parse("Jan 01, 1970 00:00:00 "+$)/6e4;return isNaN(te)?be:te}function Ht($){return $ instanceof Date&&!isNaN($.valueOf())}const It=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function br($,be,te,se,dt){const Mn=function Er($,be="-"){const te={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},se=$.split(";"),dt=se[0],mn=se[1],Mn=-1!==dt.indexOf(".")?dt.split("."):[dt.substring(0,dt.lastIndexOf("0")+1),dt.substring(dt.lastIndexOf("0")+1)],qn=Mn[0],ci=Mn[1]||"";te.posPre=qn.substring(0,qn.indexOf("#"));for(let Si=0;Si<ci.length;Si++){const ui=ci.charAt(Si);"0"===ui?te.minFrac=te.maxFrac=Si+1:"#"===ui?te.maxFrac=Si+1:te.posSuf+=ui}const di=qn.split(",");if(te.gSize=di[1]?di[1].length:0,te.lgSize=di[2]||di[1]?(di[2]||di[1]).length:0,mn){const Si=dt.length-te.posPre.length-te.posSuf.length,ui=mn.indexOf("#");te.negPre=mn.substring(0,ui).replace(/'/g,""),te.negSuf=mn.slice(ui+Si).replace(/'/g,"")}else te.negPre=be+te.posPre,te.negSuf=te.posSuf;return te}(function _t($,be){return(0,a.kBR)($)[a.NSC.NumberFormats][be]}(be,fe.Currency),tn(be,5));return Mn.minFrac=function Ne($){let be;const te=j[$];return te&&(be=te[2]),"number"==typeof be?be:2}(se),Mn.maxFrac=Mn.minFrac,function yr($,be,te,se,dt,mn,Mn=!1){let qn="",ci=!1;if(isFinite($)){let di=function fn($){let se,dt,mn,Mn,qn,be=Math.abs($)+"",te=0;for((dt=be.indexOf("."))>-1&&(be=be.replace(".","")),(mn=be.search(/e/i))>0?(dt<0&&(dt=mn),dt+=+be.slice(mn+1),be=be.substring(0,mn)):dt<0&&(dt=be.length),mn=0;"0"===be.charAt(mn);mn++);if(mn===(qn=be.length))se=[0],dt=1;else{for(qn--;"0"===be.charAt(qn);)qn--;for(dt-=mn,se=[],Mn=0;mn<=qn;mn++,Mn++)se[Mn]=Number(be.charAt(mn))}return dt>22&&(se=se.splice(0,21),te=dt-1,dt=1),{digits:se,exponent:te,integerLen:dt}}($);Mn&&(di=function Un($){if(0===$.digits[0])return $;const be=$.digits.length-$.integerLen;return $.exponent?$.exponent+=2:(0===be?$.digits.push(0,0):1===be&&$.digits.push(0),$.integerLen+=2),$}(di));let Si=be.minInt,ui=be.minFrac,ji=be.maxFrac;if(mn){const Ie=mn.match(It);if(null===Ie)throw new L.buA(2306,!1);const je=Ie[1],At=Ie[3],Zt=Ie[5];null!=je&&(Si=pn(je)),null!=At&&(ui=pn(At)),null!=Zt?ji=pn(Zt):null!=At&&ui>ji&&(ji=ui)}!function Bt($,be,te){if(be>te)throw new L.buA(2307,!1);let se=$.digits,dt=se.length-$.integerLen;const mn=Math.min(Math.max(be,dt),te);let Mn=mn+$.integerLen,qn=se[Mn];if(Mn>0){se.splice(Math.max($.integerLen,Mn));for(let ui=Mn;ui<se.length;ui++)se[ui]=0}else{dt=Math.max(0,dt),$.integerLen=1,se.length=Math.max(1,Mn=mn+1),se[0]=0;for(let ui=1;ui<Mn;ui++)se[ui]=0}if(qn>=5)if(Mn-1<0){for(let ui=0;ui>Mn;ui--)se.unshift(0),$.integerLen++;se.unshift(1),$.integerLen++}else se[Mn-1]++;for(;dt<Math.max(0,mn);dt++)se.push(0);let ci=0!==mn;const di=be+$.integerLen,Si=se.reduceRight(function(ui,ji,hi,Ti){return Ti[hi]=(ji+=ui)<10?ji:ji-10,ci&&(0===Ti[hi]&&hi>=di?Ti.pop():ci=!1),ji>=10?1:0},0);Si&&(se.unshift(Si),$.integerLen++)}(di,ui,ji);let hi=di.digits,Ti=di.integerLen;const pt=di.exponent;let J=[];for(ci=hi.every(Ie=>!Ie);Ti<Si;Ti++)hi.unshift(0);for(;Ti<0;Ti++)hi.unshift(0);Ti>0?J=hi.splice(Ti,hi.length):(J=hi,hi=[0]);const Me=[];for(hi.length>=be.lgSize&&Me.unshift(hi.splice(-be.lgSize,hi.length).join(""));hi.length>be.gSize;)Me.unshift(hi.splice(-be.gSize,hi.length).join(""));hi.length&&Me.unshift(hi.join("")),qn=Me.join(tn(te,se)),J.length&&(qn+=tn(te,dt)+J.join("")),pt&&(qn+=tn(te,6)+"+"+pt)}else qn=tn(te,9);return qn=$<0&&!ci?be.negPre+qn+be.negSuf:be.posPre+qn+be.posSuf,qn}($,Mn,be,13,12,dt).replace("\xa4",te).replace("\xa4","").trim()}function pn($){const be=parseInt($);if(isNaN(be))throw new L.buA(2305,!1);return be}let ve=(()=>{class ${_viewContainer;_context=new z;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(te,se){this._viewContainer=te,this._thenTemplateRef=se}set ngIf(te){this._context.$implicit=this._context.ngIf=te,this._updateView()}set ngIfThen(te){Ze(te),this._thenTemplateRef=te,this._thenViewRef=null,this._updateView()}set ngIfElse(te){Ze(te),this._elseTemplateRef=te,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(te,se){return!0}static \u0275fac=function(se){return new(se||$)(a.rXU(a.c1b),a.rXU(a.C4Q))};static \u0275dir=a.FsC({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return $})();class z{$implicit=null;ngIf=null}function Ze($,be){if($&&!$.createEmbeddedView)throw new L.buA(2020,!1)}let Cn=(()=>{class ${_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(te){this._viewContainerRef=te}ngOnChanges(te){if(this._shouldRecreateView(te)){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const dt=this._createContextForwardProxy();this._viewRef=se.createEmbeddedView(this.ngTemplateOutlet,dt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(te){return!!te.ngTemplateOutlet||!!te.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(te,se,dt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,se,dt),get:(te,se,dt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,se,dt)}})}static \u0275fac=function(se){return new(se||$)(a.rXU(a.c1b))};static \u0275dir=a.FsC({type:$,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[a.OA$]})}return $})();function mr($,be){return new L.buA(2100,!1)}const Pt=new L.nKC(""),dn=new L.nKC("");let Pn=(()=>{class ${locale;defaultTimezone;defaultOptions;constructor(te,se,dt){this.locale=te,this.defaultTimezone=se,this.defaultOptions=dt}transform(te,se,dt,mn){if(null==te||""===te||te!=te)return null;try{return Le(te,se??this.defaultOptions?.dateFormat??"mediumDate",mn||this.locale,dt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Mn){throw mr()}}static \u0275fac=function(se){return new(se||$)(a.rXU(a.xe9,16),a.rXU(Pt,24),a.rXU(dn,24))};static \u0275pipe=a.EJ8({name:"date",type:$,pure:!0})}return $})(),Dr=(()=>{class ${_locale;_defaultCurrencyCode;constructor(te,se="USD"){this._locale=te,this._defaultCurrencyCode=se}transform(te,se=this._defaultCurrencyCode,dt="symbol",mn,Mn){if(!function gi($){return!(null==$||""===$||$!=$)}(te))return null;Mn||=this._locale,"boolean"==typeof dt&&(dt=dt?"symbol":"code");let qn=se||this._defaultCurrencyCode;"code"!==dt&&(qn="symbol"===dt||"symbol-narrow"===dt?function Be($,be,te="en"){const se=function On($){return(0,a.kBR)($)[a.NSC.Currencies]}(te)[$]||j[$]||[],dt=se[1];return"narrow"===be&&"string"==typeof dt?dt:se[0]||$}(qn,"symbol"===dt?"wide":"narrow",Mn):dt);try{return br(function ai($){if("string"==typeof $&&!isNaN(Number($)-parseFloat($)))return Number($);if("number"!=typeof $)throw new L.buA(2309,!1);return $}(te),Mn,qn,se,mn)}catch(ci){throw mr()}}static \u0275fac=function(se){return new(se||$)(a.rXU(a.xe9,16),a.rXU(a.Ocv,16))};static \u0275pipe=a.EJ8({name:"currency",type:$,pure:!0})}return $})();let ti=(()=>{class ${static \u0275fac=function(se){return new(se||$)};static \u0275mod=a.$C({type:$});static \u0275inj=L.G2t({})}return $})()},9125:(Hn,vt,I)=>{I.d(vt,{Q:()=>He,Sm:()=>Xt,Vw:()=>j,aZ:()=>An,hb:()=>kt,hj:()=>fe,ig:()=>$e,kB:()=>zt,om:()=>Ce,qj:()=>ct,rb:()=>_e});var L=I(1698),a=I(579);let B=null;function _e(){return B}function $e(Ge){B??=Ge}class ct{}let j=(()=>{class Ge{historyGo(Je){throw new Error("")}static \u0275fac=function(Et){return new(Et||Ge)};static \u0275prov=L.jDH({token:Ge,factory:()=>(0,L.WQX)(Ae),providedIn:"platform"})}return Ge})();const fe=new L.nKC("");let Ae=(()=>{class Ge extends j{_location;_history;_doc=(0,L.WQX)(L.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _e().getBaseHref(this._doc)}onPopState(Je){const Et=_e().getGlobalEventTarget(this._doc,"window");return Et.addEventListener("popstate",Je,!1),()=>Et.removeEventListener("popstate",Je)}onHashChange(Je){const Et=_e().getGlobalEventTarget(this._doc,"window");return Et.addEventListener("hashchange",Je,!1),()=>Et.removeEventListener("hashchange",Je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Je){this._location.pathname=Je}pushState(Je,Et,tn){this._history.pushState(Je,Et,tn)}replaceState(Je,Et,tn){this._history.replaceState(Je,Et,tn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Je=0){this._history.go(Je)}getState(){return this._history.state}static \u0275fac=function(Et){return new(Et||Ge)};static \u0275prov=L.jDH({token:Ge,factory:()=>new Ge,providedIn:"platform"})}return Ge})();function Ce(Ge,Ot){return Ge?Ot?Ge.endsWith("/")?Ot.startsWith("/")?Ge+Ot.slice(1):Ge+Ot:Ot.startsWith("/")?Ge+Ot:`${Ge}/${Ot}`:Ge:Ot}function ye(Ge){const Ot=Ge.search(/#|\?|$/);return"/"===Ge[Ot-1]?Ge.slice(0,Ot-1)+Ge.slice(Ot):Ge}function He(Ge){return Ge&&"?"!==Ge[0]?`?${Ge}`:Ge}let kt=(()=>{class Ge{historyGo(Je){throw new Error("")}static \u0275fac=function(Et){return new(Et||Ge)};static \u0275prov=L.jDH({token:Ge,factory:()=>(0,L.WQX)(Xt),providedIn:"root"})}return Ge})();const zt=new L.nKC("");let Xt=(()=>{class Ge extends kt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Je,Et){super(),this._platformLocation=Je,this._baseHref=Et??this._platformLocation.getBaseHrefFromDOM()??(0,L.WQX)(L.qQL).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}prepareExternalUrl(Je){return Ce(this._baseHref,Je)}path(Je=!1){const Et=this._platformLocation.pathname+He(this._platformLocation.search),tn=this._platformLocation.hash;return tn&&Je?`${Et}${tn}`:Et}pushState(Je,Et,tn,_t){const $t=this.prepareExternalUrl(tn+He(_t));this._platformLocation.pushState(Je,Et,$t)}replaceState(Je,Et,tn,_t){const $t=this.prepareExternalUrl(tn+He(_t));this._platformLocation.replaceState(Je,Et,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static \u0275fac=function(Et){return new(Et||Ge)(L.KVO(j),L.KVO(zt,8))};static \u0275prov=L.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),An=(()=>{class Ge{_subject=new a.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Je){this._locationStrategy=Je;const Et=this._locationStrategy.getBaseHref();this._basePath=function Sn(Ge){if(new RegExp("^(https?:)?//").test(Ge)){const[,Je]=Ge.split(/\/\/[^\/]+/);return Je}return Ge}(ye(wn(Et))),this._locationStrategy.onPopState(tn=>{this._subject.next({url:this.path(!0),pop:!0,state:tn.state,type:tn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Je=!1){return this.normalize(this._locationStrategy.path(Je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Je,Et=""){return this.path()==this.normalize(Je+He(Et))}normalize(Je){return Ge.stripTrailingSlash(function yt(Ge,Ot){if(!Ge||!Ot.startsWith(Ge))return Ot;const Je=Ot.substring(Ge.length);return""===Je||["/",";","?","#"].includes(Je[0])?Je:Ot}(this._basePath,wn(Je)))}prepareExternalUrl(Je){return Je&&"/"!==Je[0]&&(Je="/"+Je),this._locationStrategy.prepareExternalUrl(Je)}go(Je,Et="",tn=null){this._locationStrategy.pushState(tn,"",Je,Et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+He(Et)),tn)}replaceState(Je,Et="",tn=null){this._locationStrategy.replaceState(tn,"",Je,Et),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+He(Et)),tn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Je=0){this._locationStrategy.historyGo?.(Je)}onUrlChange(Je){return this._urlChangeListeners.push(Je),this._urlChangeSubscription??=this.subscribe(Et=>{this._notifyUrlChangeListeners(Et.url,Et.state)}),()=>{const Et=this._urlChangeListeners.indexOf(Je);this._urlChangeListeners.splice(Et,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Je="",Et){this._urlChangeListeners.forEach(tn=>tn(Je,Et))}subscribe(Je,Et,tn){return this._subject.subscribe({next:Je,error:Et??void 0,complete:tn??void 0})}static normalizeQueryParams=He;static joinWithSlash=Ce;static stripTrailingSlash=ye;static \u0275fac=function(Et){return new(Et||Ge)(L.KVO(kt))};static \u0275prov=L.jDH({token:Ge,factory:()=>function _n(){return new An((0,L.KVO)(kt))}(),providedIn:"root"})}return Ge})();function wn(Ge){return Ge.replace(/\/index.html$/,"")}},9295:(Hn,vt,I)=>{I.d(vt,{p:()=>B});var L=I(3731),a=I(5015);function B(_e,$e){return(0,L.N)((ct,j)=>{let fe=0;ct.subscribe((0,a._)(j,Ae=>_e.call($e,Ae,fe++)&&j.next(Ae)))})}},9333:(Hn,vt,I)=>{I.d(vt,{h1:()=>fe,uA:()=>B});var L=I(649),a=I(5099);class B{constructor(Ce,ye,He){this.name=Ce,this.instanceFactory=ye,this.type=He,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const _e="[DEFAULT]";class $e{constructor(Ce,ye){this.name=Ce,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const ye=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(ye)){const He=new a.cY;if(this.instancesDeferred.set(ye,He),this.isInitialized(ye)||this.shouldAutoInitialize())try{const kt=this.getOrInitializeService({instanceIdentifier:ye});kt&&He.resolve(kt)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(Ce){var ye;const He=this.normalizeInstanceIdentifier(Ce?.identifier),kt=null!==(ye=Ce?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(He)&&!this.shouldAutoInitialize()){if(kt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:He})}catch(zt){if(kt)return null;throw zt}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function j(Ae){return"EAGER"===Ae.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[ye,He]of this.instancesDeferred.entries()){const kt=this.normalizeInstanceIdentifier(ye);try{const zt=this.getOrInitializeService({instanceIdentifier:kt});He.resolve(zt)}catch{}}}}clearInstance(Ce=_e){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,L.A)(function*(){const ye=Array.from(Ce.instances.values());yield Promise.all([...ye.filter(He=>"INTERNAL"in He).map(He=>He.INTERNAL.delete()),...ye.filter(He=>"_delete"in He).map(He=>He._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=_e){return this.instances.has(Ce)}getOptions(Ce=_e){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:ye={}}=Ce,He=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(He))throw Error(`${this.name}(${He}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const kt=this.getOrInitializeService({instanceIdentifier:He,options:ye});for(const[zt,Xt]of this.instancesDeferred.entries())He===this.normalizeInstanceIdentifier(zt)&&Xt.resolve(kt);return kt}onInit(Ce,ye){var He;const kt=this.normalizeInstanceIdentifier(ye),zt=null!==(He=this.onInitCallbacks.get(kt))&&void 0!==He?He:new Set;zt.add(Ce),this.onInitCallbacks.set(kt,zt);const Xt=this.instances.get(kt);return Xt&&Ce(Xt,kt),()=>{zt.delete(Ce)}}invokeOnInitCallbacks(Ce,ye){const He=this.onInitCallbacks.get(ye);if(He)for(const kt of He)try{kt(Ce,ye)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:ye={}}){let He=this.instances.get(Ce);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=Ce,Ae===_e?void 0:Ae),options:ye}),this.instances.set(Ce,He),this.instancesOptions.set(Ce,ye),this.invokeOnInitCallbacks(He,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,He)}catch{}var Ae;return He||null}normalizeInstanceIdentifier(Ce=_e){return this.component?this.component.multipleInstances?Ce:_e:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const ye=this.getProvider(Ce.name);if(ye.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);ye.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const ye=new $e(Ce,this);return this.providers.set(Ce,ye),ye}getProviders(){return Array.from(this.providers.values())}}},9477:(Hn,vt,I)=>{I.d(vt,{t:()=>a});var L=I(579);class a extends L.B{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const $e=super._subscribe(_e);return!$e.closed&&_e.next(this._value),$e}getValue(){const{hasError:_e,thrownError:$e,_value:ct}=this;if(_e)throw $e;return this._throwIfClosed(),ct}next(_e){super.next(this._value=_e)}}},9558:(Hn,vt,I)=>{I.d(vt,{hE:()=>ct,up:()=>Ge});var L=I(1698),a=I(7385);I(2425);let ct=(()=>{class st{_doc;constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}static \u0275fac=function(at){return new(at||st)(L.KVO(L.qQL))};static \u0275prov=L.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})(),Ge=(()=>{class st{static \u0275fac=function(at){return new(at||st)};static \u0275prov=L.jDH({token:st,factory:function(at){let Lt=null;return Lt=at?new(at||st):L.KVO(Ot),Lt},providedIn:"root"})}return st})(),Ot=(()=>{class st extends Ge{_doc;constructor(de){super(),this._doc=de}sanitize(de,at){if(null==at)return null;switch(de){case a.WPN.NONE:return at;case a.WPN.HTML:return(0,a.iWE)(at,"HTML")?(0,a.aCM)(at):(0,a.wr$)(this._doc,String(at)).toString();case a.WPN.STYLE:return(0,a.iWE)(at,"Style")?(0,a.aCM)(at):at;case a.WPN.SCRIPT:if((0,a.iWE)(at,"Script"))return(0,a.aCM)(at);throw new L.buA(5200,!1);case a.WPN.URL:return(0,a.iWE)(at,"URL")?(0,a.aCM)(at):(0,a.gil)(String(at));case a.WPN.RESOURCE_URL:if((0,a.iWE)(at,"ResourceURL"))return(0,a.aCM)(at);throw new L.buA(5201,!1);default:throw new L.buA(5202,!1)}}bypassSecurityTrustHtml(de){return(0,a.PYC)(de)}bypassSecurityTrustStyle(de){return(0,a.rAh)(de)}bypassSecurityTrustScript(de){return(0,a.p2i)(de)}bypassSecurityTrustUrl(de){return(0,a.B1s)(de)}bypassSecurityTrustResourceUrl(de){return(0,a.RPW)(de)}static \u0275fac=function(at){return new(at||st)(L.KVO(L.qQL))};static \u0275prov=L.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})()},9749:(Hn,vt,I)=>{I.d(vt,{m:()=>a});var L=I(4602);function a(B){return B&&(0,L.T)(B.schedule)}},9803:(Hn,vt,I)=>{I.d(vt,{$R:()=>Ir,Qq:()=>Jt,b$:()=>qr,yz:()=>et}),I(649);var a=I(1698),_e=(I(7385),I(175)),$e=I(9295),ct=I(1215),j=I(4147),fe=I(2983),Ae=I(204),Ce=I(7014),ye=I(3840),He=I(6078);class kt{}class zt{}class Xt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(W){W?"string"==typeof W?this.lazyInit=()=>{this.headers=new Map,W.split("\n").forEach(Z=>{const Ke=Z.indexOf(":");if(Ke>0){const tt=Z.slice(0,Ke),ht=Z.slice(Ke+1).trim();this.addHeaderEntry(tt,ht)}})}:typeof Headers<"u"&&W instanceof Headers?(this.headers=new Map,W.forEach((Z,Ke)=>{this.addHeaderEntry(Ke,Z)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(W).forEach(([Z,Ke])=>{this.setHeaderEntries(Z,Ke)})}:this.headers=new Map}has(W){return this.init(),this.headers.has(W.toLowerCase())}get(W){this.init();const Z=this.headers.get(W.toLowerCase());return Z&&Z.length>0?Z[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(W){return this.init(),this.headers.get(W.toLowerCase())||null}append(W,Z){return this.clone({name:W,value:Z,op:"a"})}set(W,Z){return this.clone({name:W,value:Z,op:"s"})}delete(W,Z){return this.clone({name:W,value:Z,op:"d"})}maybeSetNormalizedName(W,Z){this.normalizedNames.has(Z)||this.normalizedNames.set(Z,W)}init(){this.lazyInit&&(this.lazyInit instanceof Xt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(W=>this.applyUpdate(W)),this.lazyUpdate=null))}copyFrom(W){W.init(),Array.from(W.headers.keys()).forEach(Z=>{this.headers.set(Z,W.headers.get(Z)),this.normalizedNames.set(Z,W.normalizedNames.get(Z))})}clone(W){const Z=new Xt;return Z.lazyInit=this.lazyInit&&this.lazyInit instanceof Xt?this.lazyInit:this,Z.lazyUpdate=(this.lazyUpdate||[]).concat([W]),Z}applyUpdate(W){const Z=W.name.toLowerCase();switch(W.op){case"a":case"s":let Ke=W.value;if("string"==typeof Ke&&(Ke=[Ke]),0===Ke.length)return;this.maybeSetNormalizedName(W.name,Z);const tt=("a"===W.op?this.headers.get(Z):void 0)||[];tt.push(...Ke),this.headers.set(Z,tt);break;case"d":const ht=W.value;if(ht){let rn=this.headers.get(Z);if(!rn)return;rn=rn.filter(gn=>-1===ht.indexOf(gn)),0===rn.length?(this.headers.delete(Z),this.normalizedNames.delete(Z)):this.headers.set(Z,rn)}else this.headers.delete(Z),this.normalizedNames.delete(Z)}}addHeaderEntry(W,Z){const Ke=W.toLowerCase();this.maybeSetNormalizedName(W,Ke),this.headers.has(Ke)?this.headers.get(Ke).push(Z):this.headers.set(Ke,[Z])}setHeaderEntries(W,Z){const Ke=(Array.isArray(Z)?Z:[Z]).map(ht=>ht.toString()),tt=W.toLowerCase();this.headers.set(tt,Ke),this.maybeSetNormalizedName(W,tt)}forEach(W){this.init(),Array.from(this.normalizedNames.keys()).forEach(Z=>W(this.normalizedNames.get(Z),this.headers.get(Z)))}}class _n{encodeKey(W){return Ge(W)}encodeValue(W){return Ge(W)}decodeKey(W){return decodeURIComponent(W)}decodeValue(W){return decodeURIComponent(W)}}const wn=/%(\d[a-f0-9])/gi,Sn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ge(O){return encodeURIComponent(O).replace(wn,(W,Z)=>Sn[Z]??W)}function Ot(O){return`${O}`}class Je{map;encoder;updates=null;cloneFrom=null;constructor(W={}){if(this.encoder=W.encoder||new _n,W.fromString){if(W.fromObject)throw new a.buA(2805,!1);this.map=function yt(O,W){const Z=new Map;return O.length>0&&O.replace(/^\?/,"").split("&").forEach(tt=>{const ht=tt.indexOf("="),[rn,gn]=-1==ht?[W.decodeKey(tt),""]:[W.decodeKey(tt.slice(0,ht)),W.decodeValue(tt.slice(ht+1))],Cn=Z.get(rn)||[];Cn.push(gn),Z.set(rn,Cn)}),Z}(W.fromString,this.encoder)}else W.fromObject?(this.map=new Map,Object.keys(W.fromObject).forEach(Z=>{const Ke=W.fromObject[Z],tt=Array.isArray(Ke)?Ke.map(Ot):[Ot(Ke)];this.map.set(Z,tt)})):this.map=null}has(W){return this.init(),this.map.has(W)}get(W){this.init();const Z=this.map.get(W);return Z?Z[0]:null}getAll(W){return this.init(),this.map.get(W)||null}keys(){return this.init(),Array.from(this.map.keys())}append(W,Z){return this.clone({param:W,value:Z,op:"a"})}appendAll(W){const Z=[];return Object.keys(W).forEach(Ke=>{const tt=W[Ke];Array.isArray(tt)?tt.forEach(ht=>{Z.push({param:Ke,value:ht,op:"a"})}):Z.push({param:Ke,value:tt,op:"a"})}),this.clone(Z)}set(W,Z){return this.clone({param:W,value:Z,op:"s"})}delete(W,Z){return this.clone({param:W,value:Z,op:"d"})}toString(){return this.init(),this.keys().map(W=>{const Z=this.encoder.encodeKey(W);return this.map.get(W).map(Ke=>Z+"="+this.encoder.encodeValue(Ke)).join("&")}).filter(W=>""!==W).join("&")}clone(W){const Z=new Je({encoder:this.encoder});return Z.cloneFrom=this.cloneFrom||this,Z.updates=(this.updates||[]).concat(W),Z}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(W=>this.map.set(W,this.cloneFrom.map.get(W))),this.updates.forEach(W=>{switch(W.op){case"a":case"s":const Z=("a"===W.op?this.map.get(W.param):void 0)||[];Z.push(Ot(W.value)),this.map.set(W.param,Z);break;case"d":if(void 0===W.value){this.map.delete(W.param);break}{let Ke=this.map.get(W.param)||[];const tt=Ke.indexOf(Ot(W.value));-1!==tt&&Ke.splice(tt,1),Ke.length>0?this.map.set(W.param,Ke):this.map.delete(W.param)}}}),this.cloneFrom=this.updates=null)}}class tn{map=new Map;set(W,Z){return this.map.set(W,Z),this}get(W){return this.map.has(W)||this.map.set(W,W.defaultValue()),this.map.get(W)}delete(W){return this.map.delete(W),this}has(W){return this.map.has(W)}keys(){return this.map.keys()}}function $t(O){return typeof ArrayBuffer<"u"&&O instanceof ArrayBuffer}function Tn(O){return typeof Blob<"u"&&O instanceof Blob}function er(O){return typeof FormData<"u"&&O instanceof FormData}const rr="Content-Type",st="X-Request-URL",Rn="text/plain",de="application/json",at=`${de}, ${Rn}, */*`;class Lt{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(W,Z,Ke,tt){let ht;if(this.url=Z,this.method=W.toUpperCase(),function _t(O){switch(O){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||tt?(this.body=void 0!==Ke?Ke:null,ht=tt):ht=Ke,ht&&(this.reportProgress=!!ht.reportProgress,this.withCredentials=!!ht.withCredentials,this.keepalive=!!ht.keepalive,ht.responseType&&(this.responseType=ht.responseType),ht.headers&&(this.headers=ht.headers),ht.context&&(this.context=ht.context),ht.params&&(this.params=ht.params),this.transferCache=ht.transferCache),this.headers??=new Xt,this.context??=new tn,this.params){const rn=this.params.toString();if(0===rn.length)this.urlWithParams=Z;else{const gn=Z.indexOf("?");this.urlWithParams=Z+(-1===gn?"?":gn<Z.length-1?"&":"")+rn}}else this.params=new Je,this.urlWithParams=Z}serializeBody(){return null===this.body?null:"string"==typeof this.body||$t(this.body)||Tn(this.body)||er(this.body)||function On(O){return typeof URLSearchParams<"u"&&O instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||er(this.body)?null:Tn(this.body)?this.body.type||null:$t(this.body)?null:"string"==typeof this.body?Rn:this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?de:null}clone(W={}){const Z=W.method||this.method,Ke=W.url||this.url,tt=W.responseType||this.responseType,ht=W.keepalive??this.keepalive,rn=W.transferCache??this.transferCache,gn=void 0!==W.body?W.body:this.body,Cn=W.withCredentials??this.withCredentials,Mr=W.reportProgress??this.reportProgress;let mr=W.headers||this.headers,jr=W.params||this.params;const Oi=W.context??this.context;return void 0!==W.setHeaders&&(mr=Object.keys(W.setHeaders).reduce((Ni,li)=>Ni.set(li,W.setHeaders[li]),mr)),W.setParams&&(jr=Object.keys(W.setParams).reduce((Ni,li)=>Ni.set(li,W.setParams[li]),jr)),new Lt(Z,Ke,gn,{params:jr,headers:mr,context:Oi,reportProgress:Mr,responseType:tt,withCredentials:Cn,transferCache:rn,keepalive:ht})}}var Be=function(O){return O[O.Sent=0]="Sent",O[O.UploadProgress=1]="UploadProgress",O[O.ResponseHeader=2]="ResponseHeader",O[O.DownloadProgress=3]="DownloadProgress",O[O.Response=4]="Response",O[O.User=5]="User",O}(Be||{});class ge{headers;status;statusText;url;ok;type;constructor(W,Z=200,Ke="OK"){this.headers=W.headers||new Xt,this.status=void 0!==W.status?W.status:Z,this.statusText=W.statusText||Ke,this.url=W.url||null,this.ok=this.status>=200&&this.status<300}}class Ne extends ge{constructor(W={}){super(W)}type=Be.ResponseHeader;clone(W={}){return new Ne({headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class pe extends ge{body;constructor(W={}){super(W),this.body=void 0!==W.body?W.body:null}type=Be.Response;clone(W={}){return new pe({body:void 0!==W.body?W.body:this.body,headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class et extends ge{name="HttpErrorResponse";message;error;ok=!1;constructor(W){super(W,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${W.url||"(unknown url)"}`:`Http failure response for ${W.url||"(unknown url)"}: ${W.status} ${W.statusText}`,this.error=W.error||null}}function sn(O,W){return{body:W,headers:O.headers,context:O.context,observe:O.observe,params:O.params,reportProgress:O.reportProgress,responseType:O.responseType,withCredentials:O.withCredentials,transferCache:O.transferCache,keepalive:O.keepalive}}let Jt=(()=>{class O{handler;constructor(Z){this.handler=Z}request(Z,Ke,tt={}){let ht;if(Z instanceof Lt)ht=Z;else{let Cn,Mr;Cn=tt.headers instanceof Xt?tt.headers:new Xt(tt.headers),tt.params&&(Mr=tt.params instanceof Je?tt.params:new Je({fromObject:tt.params})),ht=new Lt(Z,Ke,void 0!==tt.body?tt.body:null,{headers:Cn,context:tt.context,params:Mr,reportProgress:tt.reportProgress,responseType:tt.responseType||"json",withCredentials:tt.withCredentials,transferCache:tt.transferCache,keepalive:tt.keepalive})}const rn=(0,Ae.of)(ht).pipe((0,_e.H)(Cn=>this.handler.handle(Cn)));if(Z instanceof Lt||"events"===tt.observe)return rn;const gn=rn.pipe((0,$e.p)(Cn=>Cn instanceof pe));switch(tt.observe||"body"){case"body":switch(ht.responseType){case"arraybuffer":return gn.pipe((0,ct.T)(Cn=>{if(null!==Cn.body&&!(Cn.body instanceof ArrayBuffer))throw new a.buA(2806,!1);return Cn.body}));case"blob":return gn.pipe((0,ct.T)(Cn=>{if(null!==Cn.body&&!(Cn.body instanceof Blob))throw new a.buA(2807,!1);return Cn.body}));case"text":return gn.pipe((0,ct.T)(Cn=>{if(null!==Cn.body&&"string"!=typeof Cn.body)throw new a.buA(2808,!1);return Cn.body}));default:return gn.pipe((0,ct.T)(Cn=>Cn.body))}case"response":return gn;default:throw new a.buA(2809,!1)}}delete(Z,Ke={}){return this.request("DELETE",Z,Ke)}get(Z,Ke={}){return this.request("GET",Z,Ke)}head(Z,Ke={}){return this.request("HEAD",Z,Ke)}jsonp(Z,Ke){return this.request("JSONP",Z,{params:(new Je).append(Ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Z,Ke={}){return this.request("OPTIONS",Z,Ke)}patch(Z,Ke,tt={}){return this.request("PATCH",Z,sn(tt,Ke))}post(Z,Ke,tt={}){return this.request("POST",Z,sn(tt,Ke))}put(Z,Ke,tt={}){return this.request("PUT",Z,sn(tt,Ke))}static \u0275fac=function(Ke){return new(Ke||O)(a.KVO(kt))};static \u0275prov=a.jDH({token:O,factory:O.\u0275fac})}return O})();const ft=new a.nKC("");function lr(O,W){return W(O)}const Vn=new a.nKC(""),Ci=new a.nKC(""),Xr=new a.nKC("",{providedIn:"root",factory:()=>!0});let Gr=(()=>{class O extends kt{backend;injector;chain=null;pendingTasks=(0,a.WQX)(a.u5s);contributeToStability=(0,a.WQX)(Xr);constructor(Z,Ke){super(),this.backend=Z,this.injector=Ke}handle(Z){if(null===this.chain){const Ke=Array.from(new Set([...this.injector.get(Vn),...this.injector.get(Ci,[])]));this.chain=Ke.reduceRight((tt,ht)=>function Kr(O,W,Z){return(Ke,tt)=>(0,a.N4e)(Z,()=>W(Ke,ht=>O(ht,tt)))}(tt,ht,this.injector),lr)}if(this.contributeToStability){const Ke=this.pendingTasks.add();return this.chain(Z,tt=>this.backend.handle(tt)).pipe((0,j.j)(Ke))}return this.chain(Z,Ke=>this.backend.handle(Ke))}static \u0275fac=function(Ke){return new(Ke||O)(a.KVO(zt),a.KVO(a.uvJ))};static \u0275prov=a.jDH({token:O,factory:O.\u0275fac})}return O})();const Ur=/^\)\]\}',?\n/,Nn=RegExp(`^${st}:`,"m");let yr=(()=>{class O{xhrFactory;constructor(Z){this.xhrFactory=Z}handle(Z){if("JSONP"===Z.method)throw new a.buA(-2800,!1);const Ke=this.xhrFactory;return(Ke.\u0275loadImpl?(0,ye.H)(Ke.\u0275loadImpl()):(0,Ae.of)(null)).pipe((0,fe.n)(()=>new Ce.c(ht=>{const rn=Ke.build();if(rn.open(Z.method,Z.urlWithParams),Z.withCredentials&&(rn.withCredentials=!0),Z.headers.forEach((Tr,$n)=>rn.setRequestHeader(Tr,$n.join(","))),Z.headers.has("Accept")||rn.setRequestHeader("Accept",at),!Z.headers.has(rr)){const Tr=Z.detectContentTypeHeader();null!==Tr&&rn.setRequestHeader(rr,Tr)}if(Z.responseType){const Tr=Z.responseType.toLowerCase();rn.responseType="json"!==Tr?Tr:"text"}const gn=Z.serializeBody();let Cn=null;const Mr=()=>{if(null!==Cn)return Cn;const Tr=rn.statusText||"OK",$n=new Xt(rn.getAllResponseHeaders()),ii=function xr(O){return"responseURL"in O&&O.responseURL?O.responseURL:Nn.test(O.getAllResponseHeaders())?O.getResponseHeader(st):null}(rn)||Z.url;return Cn=new Ne({headers:$n,status:rn.status,statusText:Tr,url:ii}),Cn},mr=()=>{let{headers:Tr,status:$n,statusText:ii,url:Pi}=Mr(),Cr=null;204!==$n&&(Cr=typeof rn.response>"u"?rn.responseText:rn.response),0===$n&&($n=Cr?200:0);let Qe=$n>=200&&$n<300;if("json"===Z.responseType&&"string"==typeof Cr){const Pt=Cr;Cr=Cr.replace(Ur,"");try{Cr=""!==Cr?JSON.parse(Cr):null}catch(dn){Cr=Pt,Qe&&(Qe=!1,Cr={error:dn,text:Cr})}}Qe?(ht.next(new pe({body:Cr,headers:Tr,status:$n,statusText:ii,url:Pi||void 0})),ht.complete()):ht.error(new et({error:Cr,headers:Tr,status:$n,statusText:ii,url:Pi||void 0}))},jr=Tr=>{const{url:$n}=Mr(),ii=new et({error:Tr,status:rn.status||0,statusText:rn.statusText||"Unknown Error",url:$n||void 0});ht.error(ii)};let Oi=!1;const Ni=Tr=>{Oi||(ht.next(Mr()),Oi=!0);let $n={type:Be.DownloadProgress,loaded:Tr.loaded};Tr.lengthComputable&&($n.total=Tr.total),"text"===Z.responseType&&rn.responseText&&($n.partialText=rn.responseText),ht.next($n)},li=Tr=>{let $n={type:Be.UploadProgress,loaded:Tr.loaded};Tr.lengthComputable&&($n.total=Tr.total),ht.next($n)};return rn.addEventListener("load",mr),rn.addEventListener("error",jr),rn.addEventListener("timeout",jr),rn.addEventListener("abort",jr),Z.reportProgress&&(rn.addEventListener("progress",Ni),null!==gn&&rn.upload&&rn.upload.addEventListener("progress",li)),rn.send(gn),ht.next({type:Be.Sent}),()=>{rn.removeEventListener("error",jr),rn.removeEventListener("abort",jr),rn.removeEventListener("load",mr),rn.removeEventListener("timeout",jr),Z.reportProgress&&(rn.removeEventListener("progress",Ni),null!==gn&&rn.upload&&rn.upload.removeEventListener("progress",li)),rn.readyState!==rn.DONE&&rn.abort()}})))}static \u0275fac=function(Ke){return new(Ke||O)(a.KVO(He.N0))};static \u0275prov=a.jDH({token:O,factory:O.\u0275fac})}return O})();const br=new a.nKC(""),ei=new a.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Un=new a.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class fn{}let Bt=(()=>{class O{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Z,Ke){this.doc=Z,this.cookieName=Ke}getToken(){const Z=this.doc.cookie||"";return Z!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,He.bS)(Z,this.cookieName),this.lastCookieString=Z),this.lastToken}static \u0275fac=function(Ke){return new(Ke||O)(a.KVO(a.qQL),a.KVO(ei))};static \u0275prov=a.jDH({token:O,factory:O.\u0275fac})}return O})();function pn(O,W){const Z=O.url.toLowerCase();if(!(0,a.WQX)(br)||"GET"===O.method||"HEAD"===O.method||Z.startsWith("http://")||Z.startsWith("https://"))return W(O);const Ke=(0,a.WQX)(fn).getToken(),tt=(0,a.WQX)(Un);return null!=Ke&&!O.headers.has(tt)&&(O=O.clone({headers:O.headers.set(tt,Ke)})),W(O)}var dr=function(O){return O[O.Interceptors=0]="Interceptors",O[O.LegacyInterceptors=1]="LegacyInterceptors",O[O.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",O[O.NoXsrfProtection=3]="NoXsrfProtection",O[O.JsonpSupport=4]="JsonpSupport",O[O.RequestsMadeViaParent=5]="RequestsMadeViaParent",O[O.Fetch=6]="Fetch",O}(dr||{});function Ir(...O){const W=[Jt,yr,Gr,{provide:kt,useExisting:Gr},{provide:zt,useFactory:()=>(0,a.WQX)(ft,{optional:!0})??(0,a.WQX)(yr)},{provide:Vn,useValue:pn,multi:!0},{provide:br,useValue:!0},{provide:fn,useClass:Bt}];for(const Z of O)W.push(...Z.\u0275providers);return(0,a.EmA)(W)}function qr(O){return function ir(O,W){return{\u0275kind:O,\u0275providers:W}}(dr.Interceptors,O.map(W=>({provide:Vn,useValue:W,multi:!0})))}}},Hn=>{Hn(Hn.s=4156)}]);