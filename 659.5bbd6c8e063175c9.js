"use strict";(self.webpackChunkng_ac=self.webpackChunkng_ac||[]).push([[659],{659:(I,c,o)=>{o.r(c),o.d(c,{LoginPageComponent:()=>E});var F=o(649),f=o(9075),i=o(9549),p=o(7913),M=o(2950),h=o(6627),C=o(5972),n=o(7385),r=o(1698),B=o(2901),v=o(305),m=o(528);function j(s,l){1&s&&(n.j41(0,"mat-icon"),n.EFF(1,"hourglass_empty"),n.k0s())}function L(s,l){if(1&s&&(n.j41(0,"div",12),n.EFF(1),n.k0s()),2&s){const P=n.XpG();n.R7$(),n.SpI(" ",P.errorMessage," ")}}let E=(()=>{var s;class l{constructor(e,a){this.authService=e,this.router=a,this.email="",this.password="",this.isLoading=!1,this.errorMessage=""}goToRegister(){this.router.navigate(["/auth/register"])}onLogin(){var e=this;return(0,F.A)(function*(){if(e.email&&e.password){e.isLoading=!0,e.errorMessage="";try{(yield e.authService.login(e.email,e.password))?e.router.navigate(["/app/blank"]):e.errorMessage="\u767b\u9304\u5931\u6557\uff0c\u8acb\u6aa2\u67e5\u90f5\u7bb1\u548c\u5bc6\u78bc"}catch(a){e.errorMessage="\u767b\u9304\u6642\u767c\u751f\u932f\u8aa4",console.error("\u767b\u9304\u932f\u8aa4:",a)}finally{e.isLoading=!1}}else e.errorMessage="\u8acb\u8f38\u5165\u90f5\u7bb1\u548c\u5bc6\u78bc"})()}static#n=s=()=>(this.\u0275fac=function(a){return new(a||l)(n.rXU(B.F),n.rXU(v.Ix))},this.\u0275cmp=n.VBU({type:l,selectors:[["app-login-page"]],decls:24,vars:6,consts:[["loginForm","ngForm"],[1,"login-form"],[3,"ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","type","email","name","email","required","","placeholder","\u8acb\u8f38\u5165\u90f5\u7bb1",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","type","password","name","password","required","","placeholder","\u8acb\u8f38\u5165\u5bc6\u78bc",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],[4,"ngIf"],["class","error-message",4,"ngIf"],[1,"register-link"],["mat-button","","type","button","color","accent",3,"click"],[1,"error-message"]],template:function(a,t){if(1&a){const u=n.RV6();n.j41(0,"div",1)(1,"h2"),n.EFF(2,"\u7528\u6236\u767b\u9304"),n.k0s(),n.j41(3,"form",2,0),n.bIt("ngSubmit",function(){return r.eBV(u),r.Njj(t.onLogin())}),n.j41(5,"mat-form-field",3)(6,"mat-label"),n.EFF(7,"\u90f5\u7bb1"),n.k0s(),n.j41(8,"input",4),n.mxI("ngModelChange",function(g){return r.eBV(u),n.DH7(t.email,g)||(t.email=g),r.Njj(g)}),n.k0s(),n.j41(9,"mat-icon",5),n.EFF(10,"email"),n.k0s()(),n.j41(11,"mat-form-field",3)(12,"mat-label"),n.EFF(13,"\u5bc6\u78bc"),n.k0s(),n.j41(14,"input",6),n.mxI("ngModelChange",function(g){return r.eBV(u),n.DH7(t.password,g)||(t.password=g),r.Njj(g)}),n.k0s(),n.j41(15,"mat-icon",5),n.EFF(16,"lock"),n.k0s()(),n.j41(17,"button",7),n.DNE(18,j,2,0,"mat-icon",8),n.EFF(19),n.k0s(),n.DNE(20,L,2,1,"div",9),n.j41(21,"div",10)(22,"button",11),n.bIt("click",function(){return r.eBV(u),r.Njj(t.goToRegister())}),n.EFF(23," \u6c92\u6709\u5e33\u865f\uff1f\u9ede\u6b64\u8a3b\u518a "),n.k0s()()()()}if(2&a){const u=n.sdS(4);n.R7$(8),n.R50("ngModel",t.email),n.R7$(6),n.R50("ngModel",t.password),n.R7$(3),n.Y8G("disabled",!u.valid||t.isLoading),n.R7$(),n.Y8G("ngIf",t.isLoading),n.R7$(),n.SpI(" ",t.isLoading?"\u767b\u9304\u4e2d...":"\u767b\u9304"," "),n.R7$(),n.Y8G("ngIf",t.errorMessage)}},dependencies:[f.MD,f.bT,i.YN,i.qT,i.me,i.BC,i.cb,i.YS,i.vS,i.cV,M.M,m.j,m.M,m.g,C.fS,C.fg,p.Hl,p.$z,h.m_,h.An],styles:[".login-form[_ngcontent-%COMP%]{width:100%}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#333}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.error-message[_ngcontent-%COMP%]{color:#f44336;text-align:center;margin:20px 0;font-size:14px}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px}"]}))}return s(),l})()}}]);